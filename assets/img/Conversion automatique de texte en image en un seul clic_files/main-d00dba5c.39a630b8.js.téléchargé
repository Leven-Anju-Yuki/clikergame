/*! For license information please see main-d00dba5c.39a630b8.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.apply(this,arguments)};function r(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var i=/[^a-zA-Z0-9\\_:.-]/gim,n=/</g,o=/>/g,s=/&#([a-zA-Z0-9]*);?/gim,a=/&quot;/g,c=/&colon;?/gim,l=/&newline;?/gim,u=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,h=/u\s*r\s*l\s*\(.*/gi,d=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,f=/"/g,g=function(e){return e.replace(n,"&lt;").replace(o,"&gt;")},p={indexOf:function(e,t){var r,i;for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},some:function(e,t,r){var i,n;for(i=0,n=e.length;i<n;i++)if(t.call(r,e[i],i,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(e){return e instanceof Array},includes:function(e,t){if("string"==typeof e)return-1!==e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},r=[],i=0;i<e.length;i++)t[e[i]]||(r.push(e[i]),t[e[i]]=!0);return r},from:function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t},keys:function(e){var t=[];for(var r in e)t.push(r);return t}};function m(e){return null==e}function _(e){var t,r=p.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=p.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function y(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}return-1}function v(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}return-1}function b(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}function w(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}return-1}function T(e){var t,r,i,n,o,s,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e);u<e.length;)n=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(r=e.charCodeAt(u++))>>4,s=(15&r)<<2|(i=e.charCodeAt(u++))>>6,a=63&i,isNaN(r)?s=a=64:isNaN(i)&&(a=64),l=l+c.charAt(n)+c.charAt(o)+c.charAt(s)+c.charAt(a);return l}function A(e){var t,r,i,n,o,s,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(n=a.indexOf(e.charAt(l++)))>>4,r=(15&n)<<4|(o=a.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(s=a.indexOf(e.charAt(l++))),c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(r)),64!==s&&(c+=String.fromCharCode(i));return c=function(e){for(var t="",r=0,i=0,n=0,o=0;r<e.length;)(i=e.charCodeAt(r))<128?(t+=String.fromCharCode(i),r++):i>191&&i<224?(o=e.charCodeAt(r+1),t+=String.fromCharCode((31&i)<<6|63&o),r+=2):(o=e.charCodeAt(r+1),n=e.charCodeAt(r+2),t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&n),r+=3);return t}(c),c}function S(e){return"</"===e.slice(0,2)}function k(e,t,r){var i="",n=0,o=!1,s=!1,a=0,c=e.length,l="",u="";e:for(a=0;a<c;a++){var h=e.charAt(a);if(!1===o){if("<"===h){o=a;continue}}else if(!1===s){if("<"===h){i+=r(e.slice(n,a)),o=a,n=a;continue}if(">"===h||a===c-1){i+=r(e.slice(n,o)),l=_(u=e.slice(o,a+1)),i+=t(o,i.length,l,u,S(u)),n=a+1,o=!1;continue}if('"'===h||"'"===h)for(var d=1,f=e.charAt(a-d);""===f.trim()||"="===f;){if("="===f){s=h;continue e}f=e.charAt(a-++d)}}else if(h===s){s=!1;continue}}return n<c&&(i+=r(e.substr(n))),i}function C(e,t){var r=0,n=0,o=[],s=!1,a=e.length;function c(e,r){if(!((e=(e=p.trim(e)).replace(i,"").toLowerCase()).length<1)){var n=t(e,r||"");n&&o.push(n)}}for(var l=0;l<a;l++){var u=e.charAt(l),h=void 0;if(!1!==s||"="!==u)if(!1===s||l!==n){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===s){if(-1===(h=y(e,l))){c(p.trim(e.slice(r,l))),s=!1,r=l+1;continue}l=h-1;continue}if(-1===(h=v(e,l-1))){c(s,b(p.trim(e.slice(r,l)))),s=!1,r=l+1;continue}}}else{if(-1===(h=e.indexOf(u,l+1)))break;c(s,p.trim(e.slice(n+1,h))),s=!1,r=(l=h)+1}else s=e.slice(r,l),r=l+1,n='"'===e.charAt(r)||"'"===e.charAt(r)?r:w(e,l+1)}return r<e.length&&(!1===s?c(e.slice(r)):c(s,b(p.trim(e.slice(r))))),p.trim(o.join(" "))}function M(e,t,r){if(r=function(e){return function(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return p.trim(t)}(e=function(e){return e.replace(c,":").replace(l," ")}(e=function(e){return e.replace(s,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}(e=function(e){return e.replace(a,'"')}(e))))}(r),"href"===t||"src"===t){if("#"===(r=p.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(u.lastIndex=0,u.test(r))return""}else if("style"===t){if(d.lastIndex=0,d.test(r))return"";if(h.lastIndex=0,h.test(r)&&(u.lastIndex=0,u.test(r)))return""}return function(e){return e=function(e){return e.replace(f,"&quot;")}(e),g(e)}(r)}var x=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},E=function(){function e(e){var t=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=M,t.escapeHtml=g,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onTag,n=t.onIgnoreTag,o=t.onTagAttr,s=t.onIgnoreTagAttr,a=t.safeAttrValue,c=t.escapeHtml;t.stripBlankChar&&(e=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")}(e)),t.allowCommentTag||(e=function(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("\x3c!--",r);if(-1===i){t+=e.slice(r);break}t+=e.slice(r,i);var n=e.indexOf("--\x3e",i);if(-1===n)break;r=n+3}return t}(e));var l=!1;t.stripIgnoreTagBody&&(l=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],n=!1;return{onIgnoreTag:function(o,s,a){if(function(t){return!!r||-1!==p.indexOf(e,t)}(o)){if(a.isClosing){var c="[/removed]",l=a.position+10;return i.push([!1!==n?n:a.position,l]),n=!1,c}return n||(n=a.position),"[removed]"}return t(o,s,a)},remove:function(e){var t="",r=0;return p.forEach(i,(function(i){t+=e.slice(r,i[0]),r=i[1]})),t+=e.slice(r)}}}(t.stripIgnoreTagBody,n),n=l.onIgnoreTag);var u=k(e,(function(e,t,l,u,h){var d={sourcePosition:e,position:t,isClosing:h,isWhite:Object.prototype.hasOwnProperty.call(r,l)},f=i(l,u,d);if(!m(f))return f;if(d.isWhite){if(d.isClosing)return"</".concat(l,">");var g=function(e){var t=p.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=p.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=p.trim(e.slice(0,-1))),{html:e,closing:r}}(u),_=r[l],y=C(g.html,(function(e,t){var r=-1!==p.indexOf(_,e),i=o(l,e,t,r);return m(i)?r?(t=a(l,e,t,null))?"".concat(e,'="').concat(t,'"'):e:m(i=s(l,e,t,r))?void 0:i:i}));return u="<".concat(l),y&&(u+=" ".concat(y)),g.closing&&(u+=" /"),u+">"}return m(f=n(l,u,d))?c(u):f}),c);return l&&(u=l.remove(u)),u},e}(),L=!0,I=function(e){return e&&e.Math==Math&&e},R=I("object"==typeof globalThis&&globalThis)||I("object"==typeof window&&window)||I("object"==typeof self&&self)||I("object"==typeof global&&global)||Function("return this")();try{!0!==(L=!!(L=String(L)).startsWith("<%=")||JSON.parse(L))&&"true"!==L||(R=new Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var O=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,r,i="cc_web";if(!p.includes(i,"bid"))return i;if(e.config&&e.config.bid)return e.config.bid;var n=R;if(n&&n._xssBid)return n._xssBid;if(n&&n.slardar&&"function"==typeof n.slardar.config){var o=(n.slardar.config()||{}).bid;if(o)return o}if(n&&n.Slardar&&"function"==typeof n.Slardar.config){var s=(n.Slardar.config()||{}).bid;if(s)return s}return(null===(r=null===(t=null==n?void 0:n.Slardar)||void 0===t?void 0:t._baseParams)||void 0===r?void 0:r.bid)||"argus"},this.getConfigRegion=function(){var t;return p.includes("va","region")?e.config&&e.config.region?e.config.region:((null===(t=null==R?void 0:R.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"va"},this.gerReportUrl=function(){var t={cn:A("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:A("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:A("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:A("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:A("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:A("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:A("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseReport){var t=!1;t=String(t);try{if(!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)return}catch(e){console.log(e)}var r=this.gerReportUrl();!this.lock&&r&&0!==this.batchData.length&&(this.lock=!0,setTimeout((function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),R.fetch(r,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch((function(e){console.warn("xss defense report error",e)})),e.lock=!1,e.upload()}),this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t,r=this.generateKey(e);if(R.fetch&&e.collectKey){var i=(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.href)||"SSR";e.documentUrl=i;var n={age:Math.floor(Date.now()),type:"xss",url:i,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==i||(n.url=r),"SSR"===i&&(n.url="SSR___".concat(n.url),n.body.ssr=!0),this.push(n)}},e}());function N(e,t){return O.setConfig(t),new E(t).process(e)}var P=function(e){return-1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,(function(e,t,r,i){return String.fromCharCode(t?parseInt(r,16):parseInt(i))})).replace(/(\t|\n|\r)/g,"").toLowerCase()};function j(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=P(e),p.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!p.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var r=["expression(","behavior:","view-source:"];if(p.some(r,(function(t){return-1!==e.indexOf(t)})))return p.forEach(r,(function(r){-1!==e.indexOf(r)&&t&&t(r)})),!1;var i=["data:application","data:javascript","data:text/html","data:texthtml"];if(p.some(i,(function(t){return-1!==e.indexOf(t)})))return p.forEach(i,(function(r){-1!==e.indexOf(r)&&t&&t(r)})),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var n=e.slice(11).replace(/\s/g,"").trim();return!!p.some(["void","void(0)","void0","false","undefined",";"],(function(e){return e===n}))||(t&&t("javascript:"),!1)}return!0}var $=function(e,t){var r,i,n=!1;if(n=String(n),"string"!=typeof e)return e;if(r=e,i=Number(-1),"NaN"!==r.toString()&&-1!==i&&r.length>=i)return e;if(j(e,t))return e;try{if(!0===(n=!n.startsWith("<%=")&&JSON.parse(n))||"true"===n){var o=new URL(e);return o.origin+o.pathname}}catch(e){return console.log(e),"#"}return"#"};function B(e,t,i){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!j(e=P(e)))return!1;var n=function(e){var t=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[];return{url:t[0],scheme:t[1],slash:t[2],host:t[3],port:t[4],path:t[5],query:t[6],hash:t[7]}}(e),o=n.scheme,s=n.host;return i?Boolean(i(e)):!(!o||!s)&&(!p.includes(["http","https","file"],o)||("object"==typeof window&&window&&(t=r(r([],t,!0),[location.host],!1)),p.some(t,(function(e){return!!(e instanceof RegExp&&e.test(s))||e===s}))))}var D=B,V=B,W=function(e,t){for(var r={},i=0,n=p.keys(e);i<n.length;i++){var o=n[i];Array.isArray(e[o])?r[o]=p.from(e[o]):r[o]=W({},e[o])}for(var s=0,a=p.keys(t);s<a.length;s++)(o=a[s])in e?Array.isArray(e[o])?r[o]=e[o].concat(t[o]):r[o]=W(e[o],t[o]):Array.isArray(t[o])?r[o]=p.from(t[o]):r[o]=W({},t[o]);return r},F={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var z={};z.blackAttrRegExps&&(z.blackAttrRegExps=z.blackAttrRegExps.map((function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))})));var U="merge";p.includes(U,"override")&&(F=z),p.includes(U,"merge")&&(F=W(F,z))}catch(e){console.log(e)}var q,H={mode:"black",whiteList:{},blackConfig:F,collect:null,initCollect:function(){H.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,r=function(r){Array.isArray(e[r])?0===e[r].length?delete e[r]:(e[r]=p.from(p.uniq(e[r])),t+=e[r].length):0===p.keys(e[r]).length?delete e[r]:p.keys(e[r]).forEach((function(i){e[r][i]=p.from(p.uniq(e[r][i])),t+=e[r][i].length}))},i=0,n=p.keys(e);i<n.length;i++)r(n[i]);return{count:t,ret:e}}(H.collect),t=e.count,r=e.ret;return H.collect=null,{collectKey:0===t?null:JSON.stringify(r),collectMode:"black"}},onIgnoreTag:function(e,t){var r;if(!p.includes(F.blackTags,e)){var i=k(t,(function(e,t,r,i,n){if(-1!==r.indexOf("/"))return g(i);if(n)return"</".concat(r,">");var o=function(e){var t,r=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=e.slice(r+1,-1).trim())[e.length-1];return i&&(e=e.slice(0,-1).trim()),{html:e,closing:i}}(i),s=C(o.html,(function(e,t){var i,n=0;if(F.blackList[r]&&p.includes(F.blackList[r],e)&&(H.collect.blackList[r]=H.collect.blackList[r]||[],H.collect.blackList[r].push(e),n++),F.blackAttrRegExps.length&&F.blackAttrRegExps.some((function(t){return t.test(e)}))&&p.forEach(F.blackAttrRegExps,(function(t){t.test(e)&&(H.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),n++)})),F.blackAttrs.length&&p.includes(F.blackAttrs,e)&&(F.blackAttrs.push(e),n++),!n){if(F.filterList&&F.filterList[r]&&p.includes(F.filterList[r],e)){var o=$(t,(function(e){var t;null===(t=H.collect)||void 0===t||t.filterProtocol.push(e)}));return o!==t&&(H.collect.filterList[r]=H.collect.filterList[r]||[],H.collect.filterList[r].push(e)),t?"".concat(e,"='").concat(o,"'"):e}return F.filterAttrs&&p.includes(F.filterAttrs,e)?(o=$(t,(function(e){var t;null===(t=H.collect)||void 0===t||t.filterProtocol.push(e)})),o!==t&&(null===(i=H.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(o,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}}));return i="<".concat(r),s&&(i+=" ".concat(s)),o.closing&&(i+=" /"),i+">"}),g);return i}null===(r=H.collect)||void 0===r||r.blackTags.push(e)}},G=function(e){var t=e.reportOnly,r=void 0===t||t,i=e.block;return r&&"all"===r?"report":("string"==typeof r&&("true"===r&&(r=!0),"false"===r&&(r=!1)),i?"enforce":r?"report":"enforce")},Q=function(e){return function(r,i,n){if(!r||"string"!=typeof r)return r;var o=i;e===N&&(o=H).initCollect();var s=e(r,o);if(x(s)===x(r))return r;if(!n)return s;var a=n.logType,c=G(n),l=o.removeCollect();return O.report(t(t({type:a,disposition:c},l),{sourceText:T(r.replace(/'/g,'"')),filterText:T(s.replace(/'/g,'"'))})),"enforce"===c?s:r}},J=Q((function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new E(t).process(e)})),K=Q(N),Y=(q=$,function(e,t,r){var i=[],n=q(e,(function(e){i.push(e)}));if(n===e)return e;i=p.from(p.uniq(i));var o=t||r||{};if(!o)return n;var s=o.logType,a=G(r);return O.report({type:s,disposition:a,collectKey:i.join("___"),collectData:JSON.stringify(i),collectMode:"black",sourceText:T(e),filterText:T(n)}),"enforce"===a?n:e}),X=R._xssProject||{},Z=R.xssNamespace||{},ee="3.0.30",te={FilterXSS:E,version:ee,webpackPluginVersion:"3.0.39",reportOnly:"all",filterXSS:J,_filterXSS:K,filterUrl:Y,BlackConfig:H,project:X,setProjectName:function(e){X[e]=this,R._xssProjectName=e}};Z.cc_web_editor_smart_toolbox=te,R.xssNamespace=Z,R.Math&&!R.Math.xssNamespace&&(R.Math.xssNamespace=Z),X[ee]=te,R.globalThis=R,R.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:te},R.xss=te,R.isSafeUrl=D,R.isSafeDomain=V,R.isSafeProtocol=j,R._xssProject=X,R._xssProjectName&&(X[R._xssProjectName]=te);var re=te.setProjectName.bind(te);e.BlackConfig=H,e.FilterXSS=E,e._filterXSS=K,e.filterUrl=Y,e.filterXSS=J,e.isSafeDomain=V,e.isSafeProtocol=j,e.isSafeUrl=D,e.project=X,e.setProjectName=re,e.setXssNamespace=function(e){var t=e.appId,r=e.bid,i=e.region,n=e.isCloseReport;Z[t]=te;var o=H;o.bid=r,o.region=i,o.enabled=!0,o.isCloseReport=n},e.xssNamespace=Z,Object.defineProperty(e,"__esModule",{value:!0})})),(window.webpackChunksmart_toolbox=window.webpackChunksmart_toolbox||[]).push([[62],{57319:function(e,t,r){var i=r(5614).stringify,n=r(9616);e.exports=function(e){return{parse:n(e),stringify:i}},e.exports.parse=n(),e.exports.stringify=i},9616:function(e,t,r){var i=null;const n=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,o=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;e.exports=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0),t.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,t.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"!==e.constructorAction&&"ignore"!==e.constructorAction&&"preserve"!==e.constructorAction)throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);t.constructorAction=e.constructorAction}if(void 0!==e.protoAction){if("error"!==e.protoAction&&"ignore"!==e.protoAction&&"preserve"!==e.protoAction)throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`);t.protoAction=e.protoAction}}var s,a,c,l,u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},h=function(e){throw{name:"SyntaxError",message:e,at:s,text:c}},d=function(e){return e&&e!==a&&h("Expected '"+e+"' instead of '"+a+"'"),a=c.charAt(s),s+=1,a},f=function(){var e,n="",o=!1;for("-"===a&&(n="-",d("-"));a>="0"&&a<="9";)n+=a,d();if("."===a)for(n+=".";d()&&a>="0"&&a<="9";)n+=a,o=!0;if("e"===a||"E"===a)for(n+=a,d(),"-"!==a&&"+"!==a||(n+=a,d());a>="0"&&a<="9";)n+=a,d();if(e=+n,isFinite(e))return null==i&&(i=r(63303)),o?e:n.length>15?t.storeAsString?n:t.useNativeBigInt?BigInt(n):new i(n):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(e):new i(e):e;h("Bad number")},g=function(){var e,t,r,i="";if('"'===a)for(var n=s;d();){if('"'===a)return s-1>n&&(i+=c.substring(n,s-1)),d(),i;if("\\"===a){if(s-1>n&&(i+=c.substring(n,s-1)),d(),"u"===a){for(r=0,t=0;t<4&&(e=parseInt(d(),16),isFinite(e));t+=1)r=16*r+e;i+=String.fromCharCode(r)}else{if("string"!=typeof u[a])break;i+=u[a]}n=s}}h("Bad string")},p=function(){for(;a&&a<=" ";)d()};return l=function(){switch(p(),a){case"{":return function(){var e,r=Object.create(null);if("{"===a){if(d("{"),p(),"}"===a)return d("}"),r;for(;a;){if(e=g(),p(),d(":"),!0===t.strict&&Object.hasOwnProperty.call(r,e)&&h('Duplicate key "'+e+'"'),!0===n.test(e)?"error"===t.protoAction?h("Object contains forbidden prototype property"):"ignore"===t.protoAction?l():r[e]=l():!0===o.test(e)?"error"===t.constructorAction?h("Object contains forbidden constructor property"):"ignore"===t.constructorAction?l():r[e]=l():r[e]=l(),p(),"}"===a)return d("}"),r;d(","),p()}}h("Bad object")}();case"[":return function(){var e=[];if("["===a){if(d("["),p(),"]"===a)return d("]"),e;for(;a;){if(e.push(l()),p(),"]"===a)return d("]"),e;d(","),p()}}h("Bad array")}();case'"':return g();case"-":return f();default:return a>="0"&&a<="9"?f():function(){switch(a){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null}h("Unexpected '"+a+"'")}()}},function(e,t){var r;return c=e+"",s=0,a=" ",r=l(),p(),a&&h("Syntax error"),"function"==typeof t?function e(r,i){var n,o=r[i];return o&&"object"==typeof o&&Object.keys(o).forEach((function(t){void 0!==(n=e(o,t))?o[t]=n:delete o[t]})),t.call(r,i,o)}({"":r},""):r}}},5614:function(e,t,r){var i=r(63303),n=e.exports;!function(){"use strict";var e,t,r,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,(function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function c(n,o){var s,l,u,h,d,f=e,g=o[n],p=null!=g&&(g instanceof i||i.isBigNumber(g));switch(g&&"object"==typeof g&&"function"==typeof g.toJSON&&(g=g.toJSON(n)),"function"==typeof r&&(g=r.call(o,n,g)),typeof g){case"string":return p?g:a(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":case"bigint":return String(g);case"object":if(!g)return"null";if(e+=t,d=[],"[object Array]"===Object.prototype.toString.apply(g)){for(h=g.length,s=0;s<h;s+=1)d[s]=c(s,g)||"null";return u=0===d.length?"[]":e?"[\n"+e+d.join(",\n"+e)+"\n"+f+"]":"["+d.join(",")+"]",e=f,u}if(r&&"object"==typeof r)for(h=r.length,s=0;s<h;s+=1)"string"==typeof r[s]&&(u=c(l=r[s],g))&&d.push(a(l)+(e?": ":":")+u);else Object.keys(g).forEach((function(t){var r=c(t,g);r&&d.push(a(t)+(e?": ":":")+r)}));return u=0===d.length?"{}":e?"{\n"+e+d.join(",\n"+e)+"\n"+f+"}":"{"+d.join(",")+"}",e=f,u}}"function"!=typeof n.stringify&&(n.stringify=function(i,n,o){var s;if(e="",t="","number"==typeof o)for(s=0;s<o;s+=1)t+=" ";else"string"==typeof o&&(t=o);if(r=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return c("",{"":i})})}()},51145:function(e,t,r){"use strict";r.d(t,{K8:function(){return o},Ww:function(){return n},oQ:function(){return i},yl:function(){return l}});let i=function(e){return e[e.TextToImage=1]="TextToImage",e[e.ImageToImage=2]="ImageToImage",e[e.ImageStyleAvatar=3]="ImageStyleAvatar",e[e.ImageNightEnhance=4]="ImageNightEnhance",e[e.ImageStyleConversion=5]="ImageStyleConversion",e[e.ImageUpscaler=6]="ImageUpscaler",e[e.ImageAiToning=7]="ImageAiToning",e[e.ImageColoring=8]="ImageColoring",e[e.ImageRestoration=9]="ImageRestoration",e[e.VideoStyleConversion=10]="VideoStyleConversion",e[e.VideoUpscaler=11]="VideoUpscaler",e[e.VideoSlowMotion=12]="VideoSlowMotion",e[e.VideoStabilization=13]="VideoStabilization",e[e.Autocut=14]="Autocut",e[e.TextToVideo=15]="TextToVideo",e[e.URLToVideo=16]="URLToVideo",e[e.LongToShort=21]="LongToShort",e[e.Resize=1001]="Resize",e[e.RemoveBackground=1002]="RemoveBackground",e[e.Script=1003]="Script",e}({});const n={5:"remove_background",6:"resize_video",7:"ad_script",8:"text_to_image",9:"image_to_image",10:"portrait_generator",11:"image_style_transfer",12:"video_style_transfer",13:"image_upscaler",14:"ai_color_correction",15:"photo_colorizer",16:"old_photo_restoration",17:"low_light_image_enhancement",18:"video_upscaler",19:"super_slow_motion",20:"video_stabilization",21:"chatgpt",22:"autocut",23:"text_to_video",24:"url_to_video",25:"template",26:"chatgpt_search",27:"long_to_short"},o=i,s=String.fromCharCode(99);String.fromCharCode(116);let a=function(e){return e[e.VA=0]="VA",e[e.GCP=1]="GCP",e[e.SG=2]="SG",e}({}),c=function(e){return e.VA="maliva",e.GCP="useast2a",e.SG="sg1",e}({});a.GCP,c.GCP,a.VA,c.VA,a.SG,c.SG,c.GCP,a.GCP,c.VA,a.VA,c.SG,a.SG;const l={APP_NAME:"cc_web",APP_ID:"348188",APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0"}},75495:function(e,t,r){"use strict";r.d(t,{oQ:function(){return n.oQ},Ww:function(){return n.Ww},bo:function(){return i},K8:function(){return n.K8}});const i={EVER_CLOUD:{BELOW_VERSION:40008,INSUFFICIENT_SPACE:20113,INVALID_IDC:1037},NO_SIGN_UPLOAD:{ACCESS_TIME_LIMIT:"200201",SOURCE_IS_OVERTIME:"200202",VIDEO_TRANSCODE_FAIL:"4010"},SIGN_UP_CODE:{SEND_CODE_ERROR_CODE:{SENDING_FREQUENTLY:1206,EMAIL_ERROR:1044},REGISTER_ERROR_CODE:{CODE_WRONG:1704,CODE_EXPIRED:1703},LOGIN_ERROR_CODE:{PASSWORD_WRONG:1009,USER_NOT_EXITE:1011}},USER_CODE:{NO_LOGIN:1015},SMART_TOOL_CREATE:{ACCESS_TIME_LIMIT:"203101",NO_AVATAR:"203102",FORMAT_UNSUPPORT:"203103",AIGC_SENSITIVE_WORDS:"203104",AIGC_SENSITIVE_IMAGES:"203105",NOT_ENOUGH_STORAGE:"200406",NO_LOGIN:"1015"},SMART_WRITER:{ACCESS_TIME_LIMIT:203107,AIGC_SENSITIVE_WORDS:203108,DOWNSTREAM_ERROR:203109,EMPTY:203110}};var n=r(51145);r(14148),r(58665),r(75838),r(70468),r(69097),r(10259),r(7461),r(51202),r(88785),r(49679),r(16355),r(75191),r(92716),r(7486),r(99069),r(43516),r(42264),r(93338),r(65064),r(56823),r(71714),r(20436),r(73212),r(26249),r(31523),r(23531),r(14683),r(62491),r(53101),r(68197),r(48797);const o=["Science fiction movie masterpieces, epic beautiful streetscapes, absurd future skyscrapers, botanical gardens, glass, holograms, neon lights, dramatic lighting, young,  intricate architecture, best quality, extremely detailed","city pop style, Hiroshi Nagai style, young people","beautiful person","a handsome guy","handsome guy, blushing and sweating, male high school student, thick eyebrows","Handsome, little prince, brown eyes, sense of atmosphere, perfect facial features, mixed race, noble","Handsome brunette, athletic boy, exquisite facial features","Phoenix Eyes, High Resolution, Atmosphere, Pure Desire, Handsome Face, White Skin, High Nose Bridge, Black Blue Hair","Juvenile, short hair, manga, atmosphere, anime male high school, red pupils","smile, sunshine, smiley eyes, handsome boy","Inch head, ruffian, cold white skin, blushing, strong, domineering president, exquisite eye characterization, exquisite facial characterization, handsome guy, delicate expression, shy expression, strong, youthful, anime male lead, masterpiece","Male God, Handsome Guy, Sunshine, Muscle, Short Hair, Smile, Atmosphere, vibe","Young boy, handsome facial features, handsome boy, youthful look, white skin, anime male lead, sense of atmosphere","Exquisite hat, High-quality masterpiece, exquisite facial features, exquisite hair, exquisite eyes, messy hair, peerless beauty, 4K picture quality, gorgeous light and shadow, Tyndall effect, halo, messy hair, gorgeous scenes, exquisite clothes, chains, feathers, unkempt hair, Beautiful and detailed eyes, girly, dynamic angles, magic, beautiful and detailed sky, beautiful golden long curly hair, green eyes, jewel eyes, gorgeous clothes, gorgeous, flowers, magic, blue pieces, exquisite and beautiful, Full body, cute, detailed light and shadow, sunshine, beauty","High quality, masterpiece, exquisite facial features, exquisite hair, exquisite eyes, messy hair, exquisite colored hair, peerless beauty, 4K quality, gorgeous light and shadow, Tyndall effect, halo, Messy hair, juvenile, gorgeous scene, delicate clothes, chains, feathers, disheveled hair, beautiful detailed eyes, a girl, dynamic angles, magician, frills, beautiful detailed sky, beautiful long golden curly hair , green eyes, jewel eyes, gorgeous clothes, gorgeous, flowers, magic, blue fragments, extremely delicate and beautiful, full body, skirts, cute, detailed light and shadow, sunshine, multiple beauties","Exquisite hat, High-quality masterpiece, exquisite facial features, exquisite hair, exquisite eyes, messy hair, peerless beauty, 4K picture quality, gorgeous light and shadow, Tyndall effect, halo, messy hair, gorgeous scenes, exquisite clothes, chains, feathers, unkempt hair, Beautiful and detailed eyes, girly, dynamic angles, magic, beautiful and detailed sky, beautiful golden long curly hair, green eyes, jewel eyes, gorgeous clothes, gorgeous, flowers, magic, blue pieces, exquisite and beautiful, Full body, skirt, cute, detailed light and shadow, sunshine, beauty","a princess wearing a crown,  messy hair,  peerless beauty, 4K quality, gorgeous light and shadow, Tyndall effect, halo, Messy hair\uff0cBroken, airy, big eyes, two-dimensional, cute girl, anime girl, light and shadow, cute, black hair, pure desire, cold white skin, lavender. Smudged belly red, 1080p, messy beauty, soft and cute, smooth hair, delicately portrayed face, delicately portrayed clothes","a beautiful girl, 1080p, master piece, cinematic lighting, delicate, high quality, delicate face, beautiful, pure desire","a princess wearing a crown,  messy hair, exquisite colored hair, peerless beauty, 4K quality, gorgeous light and shadow, Tyndall effect, halo, Messy hair","Girl, light, pure desire, blush, thin, white, clean, beautiful","Big eyes, beautiful blue sky, raise the arm, straw hat, cute sister, day girl, light and shadow, lovely, black hair, pure desire, cold white skin, dizzy blush, 1080p, messy beauty, soft cute, smooth hair, detailed portrayal of the face, detailed portrayal of clothes, atmosphere sense","Great beauty, perfect features, big eyes, green shirt, raised arms, thin, straw hat, light red lips, second element, smile, black hair, 1080p, smooth hair, Master work, detailed portrayal of the face, detailed portrayal of the clothes, atmosphere, high resolution","big eyes, lovely, delicate and beautiful, delicate features, gorgeous light and shadow, gorgeous scenes, delicate clothes, high quality, master works, delicate hair depiction, 4k picture quality, Dundar effect, juvenile, beautiful and delicate eyes, magic, extremely delicate and beautiful","Big black eyes, super cute girl, pink cheeks, oval face, cute, beautiful, single, gorgeous light and shadow, high definition, delicate, 16k, masterpiece, super clear cg, garden, cherry blossoms, petals","Male God, Handsome Guy, Sunshine, Muscle, Short Hair, Smile, Atmosphere, vibe","Phoenix Eyes, High Resolution, Atmosphere, Pure Desire, Handsome Face, White Skin, High Nose Bridge, Black Blue Hair","handsome boys and beautiful girls, vibe","Many people, group photos, beauty, cute, handsome, anime, joy, dream scene, happy","Handsome girl, an extremely delicate and beautiful work, masterpiece, best quality, fine details, short side parted hair, black short hair, blonde curly hair, blonde long hair, checked shirt, sun shining through green leaves, brilliant light shadows, Tyndall effect, gentle, sunny, breezy, close-up","handsome boy and beautiful girl, couple, vibe","handsome boy and beautiful girl, couple, vibe,  blushing, sweating","Exquisite eyes, white skin, hair decoration, looking at you, high quality, highest quality, masterpiece, masterwork, extreme details, exquisite facial features, exquisite hair depiction, exquisite eye depiction, 4k quality, gorgeous Light and shadow, sense of atmosphere, best quality, highest quality, high resolution, perfect facial features, high definition, illustrations, male protagonist of Korean comics, female protagonists of Korean comics, couples, good looks, big eyes","Couple, male lead of Korean comics, female lead of Korean comics, exquisite facial features, handsome men and beautiful women, sense of atmosphere, black color contact lenses","couple, boy, girl, sweet, love, sweet, cute","A family of three, big eyes, cute, Korean drama hero, Korean drama heroine, black hair, happiness, sweetness, warmth, sense of atmosphere","beautiful girls, vibe","Handsome boys","Two handsome guys, with exquisite facial features, black jacket, white shirt, plaid pants, blue eyes, black pants, messy hairstyle, atmosphere, dark sweater, youthful, two-dimensional male god, black hair, anime male lead, Anime, anime male lead, manga male lead, male god, masterpiece","big eyes, lovely, delicate and beautiful boy,delicate features, gorgeous light and shadow, gorgeous scenes, delicate clothes, high quality, master works, delicate hair depiction, 4k picture quality, Dundar effect, juvenile, beautiful and delicate eyes, magic, extremely delicate and beautiful","a cute dog, adorable, furry, high quality, master piece","dog, blush, round head, fluffy hair, blue left eye, blue right eye, small nose, very detailed CG, long haired cat, gold splinter, light tracing","a beautiful cat, furry","a person with a pet","female idol, rapper, pale and fine skin, singing with a microphone moment, highlighted hair, flowing hair, on a gorgeous stage, full-body shot, stage lights, shutter photo, Ray Tracing Reflections, highly detailed","Science fiction movie masterpieces, epic beautiful streetscapes, absurd future skyscrapers, botanical gardens, glass, holograms, neon lights, dramatic lighting, young girl,  intricate architecture, best quality, extremely detailed","a beautiful girl, Sailor Moon style, wearing laser transparent pvc texture clothing, prism, melancholy expression, beautiful eyes, brilliance, jewelry, portrait, game original painting, anime character concept design, beautiful face, sacred, long transparent iridescent GB hair, reflections transparent iridescent colors on her hair, highly detailed, gorgeous sacred girl, beautiful light on black background","Animated movie produced by Pixar studios, a lovely little girl lying in a field of roses, surrounded by many kinds of roses, big sparkling eyes, long curly hair, a blue sky in the background, a warm summer day, intricate illustrations, HD, digital art, complementary colors, art trends on Artstation, a peaceful and joyful scene, surrounded by colorful flowers and nature, detailed 3d animation style rendered by Disney Pixar Studios, detailed intricate illustrations, detailed illustrations, HD, digital art, super detailed art, Reference greg rutkowski, reference loish, complementary color, trends on artstation, Extreme art, detailed 3d art, surrounded by colorful flowers, sunlight, rich detail, 3d rendering","A 3D character from Disney Pixar animation, Old Chinese style, happy, round baby face, smile and closed eyes, clear theme, edge lighting, soft focus, light and dark contrast, Best Quality, C4D, blender, OC renderer, reflective transparent rainbow color, clear background","city pop style, Hiroshi Nagai style, young people, bright lights, cocktails, fresh, joyful, illustrator design, 1980s","8 bit game pixel art, city pop style","close-up, two futuristic organic flowers, digital plants, sense of design, intricate details, volumes and lines, textures, surrealism, clear plastic, glass, metal, neon lights, studio lighting, white background, bright, 3D art, C4D, Octane render, high quality, HD","Science fiction movie masterpieces, epic beautiful streetscapes, absurd future skyscrapers, botanical gardens, glass, holograms, neon lights, dramatic lighting, young girl, intricate architecture, best quality, extremely detailed","pastel colorful background, white tone, gradient, soft light, colorful transparent glass, foil holographic, 3d rendering, white tone, digital background, glass, high luminance, bright scene, holographic, fine luster, designed by Wes Cockx, 8k, holy light","extreme close-up, epic ink blending shot, POV View, first person, backlight, hair flying, seaside, blue-purple gradient, a girl wearing a white skirt standing on the beach, seagulls flying, sparkling, sunset sea, fixed Out-of-focus shot, full body, cute anime style, KyoAni Animation style, flat style, warm colors, warm lighting, plant background, fine details, ultra-detailed, ultra-high-definition, animated film texture, Hayao Miyazaki style, Makoto Shinkai style, and laughing heartily, exaggerated perspective, breathtaking moment","Girl swims underwater, black hair, sparkling earrings, close eyes, Sadness of emotions, Colorful reflections and details, brush, Low exposure, hyper-realistic oil, full body,Correct anatomy, Tyndall effect, water drops nother-of-pearl iridescence, pure background, Dark tone style,realistic"];n.K8.TextToImage,n.K8.ImageToImage},80360:function(e,t,r){"use strict";r.d(t,{NM:function(){return o},fT:function(){return a},hP:function(){return s}});var i=r(36060),n=r(51145);const o={[n.oQ.TextToImage]:"/magic-tools/convert-text-to-image",[n.oQ.ImageToImage]:"/magic-tools/generate-image",[n.oQ.ImageStyleAvatar]:"/magic-tools/generate-portrait",[n.oQ.ImageNightEnhance]:"/magic-tools/enhance-low-light-image",[n.oQ.ImageStyleConversion]:"/magic-tools/stylize-photo",[n.oQ.ImageUpscaler]:"/magic-tools/upscale-image",[n.oQ.ImageAiToning]:"/magic-tools/correct-color",[n.oQ.ImageColoring]:"/magic-tools/ai-colorize",[n.oQ.ImageRestoration]:"/magic-tools/ai-restore",[n.oQ.VideoStyleConversion]:"/magic-tools/stylize-video",[n.oQ.VideoUpscaler]:"/magic-tools/upscale-video",[n.oQ.VideoSlowMotion]:"/magic-tools/make-slomo",[n.oQ.VideoStabilization]:"/magic-tools/stablize-video",[n.oQ.Resize]:"/editor-tools/transform",[n.oQ.RemoveBackground]:"/editor-tools/cutout",[n.oQ.Script]:"/editor-tools/script",[n.oQ.Autocut]:"/editor-tools/autocut",[n.oQ.TextToVideo]:"/editor-tools/convert-script-to-video",[n.oQ.LongToShort]:"/editor-tools/long-video-to-shorts",[n.oQ.URLToVideo]:"/editor-tools/url-to-ads"},s={[n.oQ.Autocut]:-30,[n.oQ.TextToVideo]:-29,[n.oQ.URLToVideo]:-27,[n.oQ.ImageToImage]:1,[n.oQ.TextToImage]:2,[n.oQ.Script]:3,[n.oQ.RemoveBackground]:4,[n.oQ.ImageUpscaler]:5,[n.oQ.ImageStyleConversion]:6,[n.oQ.ImageStyleAvatar]:7,[n.oQ.Resize]:8,[n.oQ.VideoUpscaler]:9,[n.oQ.ImageRestoration]:10,[n.oQ.ImageAiToning]:11,[n.oQ.ImageColoring]:12,[n.oQ.ImageNightEnhance]:13,[n.oQ.VideoSlowMotion]:14,[n.oQ.VideoStabilization]:15,[n.oQ.VideoStyleConversion]:16,[n.oQ.LongToShort]:-28};function a(){const e=(0,i.B)().i18n;return{[n.oQ.TextToImage]:e.t("web_magicTools_title_text_to_image",{},"Text to Image"),[n.oQ.ImageToImage]:e.t("web_magicTools_title_image_to_image",{},"Image to Image"),[n.oQ.ImageStyleAvatar]:e.t("web_magicTools_title_portrait_generator",{},"Image Style Avatar"),[n.oQ.ImageNightEnhance]:e.t("web_magicTools_button_image_night_enhance",{},"Image Night Enhance"),[n.oQ.ImageStyleConversion]:e.t("web_magicTools_button_image_style_conversion",{},"Image Style Conversion"),[n.oQ.ImageUpscaler]:e.t("web_magicTools_button_image_upscaler",{},"Image Upscaler"),[n.oQ.ImageAiToning]:e.t("web_magicTools_button_image_color_correction",{},"Image AI Toning"),[n.oQ.ImageColoring]:e.t("web_magicTools_button_photo_colorizer",{},"Image Coloring"),[n.oQ.ImageRestoration]:e.t("web_magicTools_button_old_photo_restoration",{},"Image Restoration"),[n.oQ.VideoStyleConversion]:e.t("web_magicTools_button_video_style_transfer",{},"Video Style Conversion"),[n.oQ.VideoUpscaler]:e.t("web_magicTools_button_super_clarity_video",{},"Video Upscaler"),[n.oQ.VideoSlowMotion]:e.t("web_magicTools_button_super_slow_motion",{},"Video Slow Motion"),[n.oQ.VideoStabilization]:e.t("web_magicTools_button_video_stablizer",{},"Video Stabilization"),[n.oQ.Resize]:e.t("web_Resize_video",{},"Resize"),[n.oQ.RemoveBackground]:e.t("web_Remove_background",{},"Remove Background"),[n.oQ.Script]:e.t("web_ad_script",{},"Script"),[n.oQ.Autocut]:e.t("web_autocut_name_clips_video",{},"Clips to video"),[n.oQ.TextToVideo]:e.t("web_textvideo_title_how_use_intelligent",{},"Script to video"),[n.oQ.LongToShort]:e.t("web_ai_clip_shorts_tittle_clip_shorts",{},"Long video to shorts"),[n.oQ.URLToVideo]:e.t("smart_ad_url_web",{},"Product URL to Ads")}}},49976:function(e,t,r){"use strict";r.d(t,{L:function(){return s}});var i=r(99415),n=r(97858),o=r(67308);function s(e){const t=(0,o.useState)(!1),r=(0,i.A)(t,2),s=r[0],a=r[1],c=(0,o.useRef)();return(0,n.A)("scroll",(()=>{e.current&&(a(!0),c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{a(!1)}),50))}),{target:()=>e.current}),{isScrolling:s}}},68044:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});var i=r(99415),n=r(67308);function o(e){const t=(0,n.useState)(""),r=(0,i.A)(t,2),o=r[0],s=r[1];return(0,n.useEffect)((()=>{function t(){var t;s(null!==(t=e.region)&&void 0!==t?t:"")}null==e||e.on("lifecycle:mounted",t),null==e||e.on("changed:profile",t)}),[e]),o}},46646:function(e,t,r){"use strict";r.d(t,{Q:function(){return s}});var i=r(99415),n=r(82629),o=r(67308);const s=()=>{const e=(0,o.useState)(!1),t=(0,i.A)(e,2),r=t[0],s=t[1];return(0,o.useEffect)((()=>{(async()=>{try{const e=await n.k.checkPopup();s(!e.need_check)}catch{s(!1)}})()}),[]),{isShow:r}}},742:function(e,t,r){"use strict";r.d(t,{Sx:function(){return i}});let i=function(e){return e.Light="light",e.Dark="dark",e}({})},54006:function(e,t,r){"use strict";r.d(t,{b0:function(){return i},sb:function(){return n}});r(2799);const i=e=>{switch(e){case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 17;case 5:return 11;case 6:return 13;case 7:return 14;case 8:return 15;case 9:return 16;case 10:return 12;case 11:return 18;case 12:return 19;case 13:return 20;case 14:return 22;case 15:return 23;case 16:return 24;case 21:return 27;case 1001:return 6;case 1002:return 5;case 1003:return 7;default:return-1}},n=()=>{const e={current_page:"smart_tool_page",enter_from:"first_page",from_page:"first_page"},t=new URLSearchParams(location.search);return t.get("__from_page")&&(e.from_page=t.get("__from_page")),t.get("from_page")&&(e.from_page=t.get("from_page")),t.get("enter_from")&&(e.enter_from=t.get("enter_from")),t.get("from_tool_type")&&(e.from_tool_type=t.get("from_tool_type")),e}},64061:function(e,t,r){"use strict";r.d(t,{I:function(){return c}});var i=r(56741),n=r(14148),o=r(55389),s=function(e){return e.generatePortrait="/magic-tools/generate-portrait",e.stylizePhoto="/magic-tools/stylize-photo",e.aiRestore="/magic-tools/ai-restore",e.autocut="/editor-tools/autocut",e.longVideoToShorts="/editor-tools/long-video-to-shorts",e}(s||{});const a=e=>{switch(e){case s.generatePortrait:return n.F2.t("portrait_generator_not_available",{},"Portrait generator is currently not available in your country or region");case s.stylizePhoto:return n.F2.t("image_style_transfer_not_available",{},"Image style transfer is currently not available in your country or region");case s.aiRestore:return n.F2.t("old_photo_restoration_not_available",{},"Old photo restoration is currently not available in your country or region");case s.autocut:return n.F2.t("autocut_not_available",{},"AutoCut is currently not available in your country or region");case s.longVideoToShorts:default:return n.F2.t("long_to_shorts_not_available",{},"Long video to shorts is currently not available in your country or region")}};async function c(){try{if(![s.generatePortrait,s.stylizePhoto,s.aiRestore,s.autocut,s.longVideoToShorts].includes(location.pathname))return!1;const e=await o.ky.checkPopup();return e.need_check&&i.A.info({title:a(location.pathname),maskClosable:!1,onOk:()=>{location.href=new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(`${location.origin}/${location.search}`,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},wrapStyle:{zIndex:999999,backgroundColor:"var(--lvv-color-black-06)"},okText:n.F2.t("web_smart_tools_btn_got_it",{},"OK"),closable:!1}),e.need_check}catch{return!1}}},90157:function(e,t,r){"use strict";r.d(t,{R$:function(){return s},ir:function(){return a}});var i=r(40492),n=r(85371),o=r(46012);const s="TIMING_LCP",a="TIMING_RESTORE_DRAFT_LCP";const c=new class{constructor(e){var t;(0,i.A)(this,"slardar",void 0),(0,i.A)(this,"hasReportFirstScreen",void 0),(0,i.A)(this,"searchParams",void 0),(0,i.A)(this,"marksSet",void 0),(0,i.A)(this,"longtaskMap",void 0),this.slardar=e,this.searchParams=new URL(null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.href).searchParams,this.hasReportFirstScreen=!1,this.longtaskMap=new Map,this.marksSet=new Set,this.initListener()}initListener(){new PerformanceObserver((e=>{e.getEntries().forEach((e=>{"first-contentful-paint"===e.name&&this.reportFirstScreenPerf()}))})).observe({entryTypes:["paint"]})}getBaseProperties(){var e;return{from_page:this.searchParams.get("__from_page")||this.searchParams.get("from_page")||"none",page_url:null===(e=location)||void 0===e?void 0:e.pathname}}reportFirstScreenPerf(){var e,t,r;const i={...this.getBaseProperties(),event_type:"first_screen",timing_fcp:null===(e=performance.getEntriesByName("first-contentful-paint"))||void 0===e||null===(e=e[0])||void 0===e?void 0:e.startTime,timing_restore_draft_lcp:null===(t=performance.getEntriesByName(`${a}_END`))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.startTime,timing_lcp:null===(r=performance.getEntriesByName(`${s}_END`))||void 0===r||null===(r=r[0])||void 0===r?void 0:r.startTime},n=i.timing_fcp&&(i.timing_restore_draft_lcp||i.timing_lcp);!this.hasReportFirstScreen&&n&&(this.hasReportFirstScreen=!0,this.slardar.log("smart_tools_perf","perf",void 0,i))}performanceMarkStart(e,t){const r=(t||{}).reportInterval,i=Math.random(),n=performance.mark(`${e}_START`,{detail:{id:i}});if(r){const t=setInterval((()=>{if(this.longtaskMap.get(i)){const r=performance.now(),o=r-n.startTime,s=o>18e5,a={...this.getBaseProperties(),timing_start:null==n?void 0:n.startTime,timing_end:r,timing_duration:o,action_name:e,status:s?"running_timeout":"running",event_type:"key_path_perf"};s&&(clearInterval(t),this.longtaskMap.delete(i)),this.slardar.log("smart_tools_perf","perf",void 0,a)}}),r);this.longtaskMap.set(i,t)}return this.marksSet.add(i),i}performanceMarkEnd(e,t){var r;const i=null==t?void 0:t.id,o=performance.getEntriesByName(`${e}_START`)||[],s=(0,n.A)(i)?o[o.length-1]:o.find((e=>{var t;return(null==e||null===(t=e.detail)||void 0===t?void 0:t.id)===i})),a=null==s||null===(r=s.detail)||void 0===r?void 0:r.id,c=this.marksSet.has(a);if(this.marksSet.delete(a),!c&&"key_path_perf"===(null==t?void 0:t.detail.event_type))return;const l=performance.mark(`${e}_END`,t),u=this.longtaskMap.get(a);if((0,n.A)(u)||(clearInterval(u),this.longtaskMap.delete(a)),"key_path_perf"===(null==t?void 0:t.detail.event_type)){const r=t.detail||{};r.timing_start=null==s?void 0:s.startTime,r.timing_end=null==l?void 0:l.startTime,r.timing_duration=(null==l?void 0:l.startTime)-((null==s?void 0:s.startTime)||0),r.action_name=r.action_name||e;const i={...r,...this.getBaseProperties()};this.slardar.log("smart_tools_perf","perf",void 0,i)}else this.reportFirstScreenPerf()}}(o.Zq);t.Ay=c},32043:function(e,t,r){"use strict";function i(e){return!!e&&"en"===e}r.d(t,{V:function(){return i}})},31635:function(e,t,r){"use strict";r.d(t,{T:function(){return o},t:function(){return s}});var i=r(79552);let n=!1;function o(){const e=(0,i.TT)();return n||(n=!0,e.init(location.pathname),e.consumeReflowFlag()),e}function s(){o()}},72912:function(e,t,r){"use strict";async function i(e){var t;await async function(){if(e.checkAfterLifecycle("mounted"))return;return new Promise((t=>{e.once("lifecycle:mounted",t)}))}(),null!==(t=e.profile)&&void 0!==t&&t.uid||await async function(){return new Promise((t=>{e.once("behave:popup:close",t),e.once("changed:uid",t)}))}()}r.d(t,{W:function(){return i}})},90449:function(e,t,r){"use strict";r.d(t,{Dx:function(){return te}});var i=r(46012),n=r(24070);const o=(0,r(83002).A)(),s=86,a=80;function c(){return"chrome"===o.name}function l(){switch(h()){case"other":return!0;case"edge":return u()>=a;case"chrome":return u()>=s}}function u(){var e;const t=null===(e=o.version)||void 0===e?void 0:e.split(".")[0];return t?parseInt(t,10):0}function h(){return c()?/Edg\/([\d.]+)/.test(navigator.userAgent)?"edge":"chrome":"other"}function d(){let e=!1;try{e=void 0!==window.WebAssembly}catch(t){}return e}function f(){performance.mark("CHECK_WEBGL2_START");let e=!1,t=!1;try{const r=document.createElement("canvas");return e=Boolean(window.WebGL2RenderingContext),t=Boolean(r.getContext("webgl2")),e&&t}catch(r){return!1}finally{performance.mark("CHECK_WEBGL2_END",{detail:{supportType:e,supportContext:t}})}}function g(){return"undefined"!=typeof SharedArrayBuffer}const p={checked:!1,res:{isCompatible:!0,cause:{}}};let m=!1;function _(e){const t=window.ccWebSlardar;try{t&&!m&&t("sendEvent",{type:"event",name:"compatibility",metrics:{},categories:{reason:JSON.stringify(e)}}),t&&(m=!0)}catch(r){}}var y=r(90156),v=JSON.parse('{"xv":"1.0.1.1986","F_":[]}');v.xv.replace(/^1\.0\.1\./,""),v.xv,v.F_,new URL(r(67418),r.b).href,new URL(r(33907),r.b).href,new URL(r(83748),r.b).href,new URL(r(61750),r.b).href,new URL(r(66831),r.b).href,new URL(r(5352),r.b).href;var b=r(52179),w=r(99415),T=r(40492),A=r(26719),S=r.n(A),k=r(64144),C=r(46212),M=r(72579),x=r.n(M),E=r(91828);let L=function(e){return e[e.Silent=0]="Silent",e[e.Error=2]="Error",e[e.Warn=3]="Warn",e[e.Default=4]="Default",e[e.Debug=7]="Debug",e}({});class I{constructor(e){var t,r,i,n;(0,T.A)(this,"_logLevel",void 0),(0,T.A)(this,"_handler",void 0),(0,T.A)(this,"_logs",void 0),(0,T.A)(this,"_record",void 0),(0,T.A)(this,"_scope",void 0),(0,T.A)(this,"setScope",(e=>{this._scope=e})),(0,T.A)(this,"getScope",(()=>this._scope)),(0,T.A)(this,"setHandler",(e=>{this._handler=e})),(0,T.A)(this,"getHandler",(()=>this._handler)),(0,T.A)(this,"setLogLevel",(e=>{this._logLevel=e})),(0,T.A)(this,"getLogLevel",(()=>this._logLevel)),(0,T.A)(this,"setRecord",(e=>{this._record=e})),(0,T.A)(this,"getRecord",(()=>this._record)),(0,T.A)(this,"getLogs",(()=>this._logs)),(0,T.A)(this,"clearLogs",(()=>{this._logs=[]})),(0,T.A)(this,"appendLog",((e,t)=>{this._record&&this._logs.push({message:e,params:t})})),(0,T.A)(this,"_reflect",((e,t,r,...i)=>{if(this._logLevel>=t)return this.appendLog(`[${this._scope}] ${r}`,i),this._handler[e](`[${this._scope}] ${r}`,...i)})),(0,T.A)(this,"debug",((e,...t)=>this._reflect("debug",L.Debug,e,...t))),(0,T.A)(this,"log",((e,...t)=>this._reflect("log",L.Default,e,...t))),(0,T.A)(this,"info",((e,...t)=>this._reflect("info",L.Default,e,...t))),(0,T.A)(this,"warn",((e,...t)=>this._reflect("warn",L.Warn,e,...t))),(0,T.A)(this,"error",((e,...t)=>this._reflect("error",L.Error,e,...t))),this._scope=null!==(t=null==e?void 0:e.scope)&&void 0!==t?t:"",this._handler=null!==(r=null==e?void 0:e.handler)&&void 0!==r?r:console,this._logLevel=null!==(i=null==e?void 0:e.level)&&void 0!==i?i:L.Default,this._record=null!==(n=null==e?void 0:e.record)&&void 0!==n&&n,this._logs=[]}}let R=function(e){return e.origin="origin",e.originWithConsume="originWithConsume",e.flat="flat",e.flatWithConsume="flatWithConsume",e}({}),O=function(e){return e.immediate="immediate",e.error="error",e}({});const N=Symbol.for("default"),P=Symbol.for("all");function j(e,t){const r={};for(const o of e){var i=(0,w.A)(o,2);const e=i[0],s=i[1];r[e]={};for(const i of s){var n=(0,w.A)(i,2);const o=n[0],s=n[1],a=o===N?"symbol('default')":o;r[e][a]={...s},t&&(r[e][a].consume=s.begin>0&&s.finish>=s.begin?s.finish-s.begin:-1)}}return r}function $(e,t){const r={};for(const o of e){var i=(0,w.A)(o,2);const e=i[0],s=i[1];for(const i of s){var n=(0,w.A)(i,2);const o=n[0],s=n[1],a=o===N?e:`${e}_${o}`;r[`${a}_begin`]=s.begin,r[`${a}_finish`]=s.finish,t&&(r[`${a}_consume`]=s.begin>0&&s.finish>=s.begin?s.finish-s.begin:-1)}}return r}class B{constructor(e){(0,T.A)(this,"_collector",new Map),(0,T.A)(this,"_placeholder",new Map),(0,T.A)(this,"_capacity",void 0),(0,T.A)(this,"begin",((e,t)=>{this._collector.has(e)||this._collector.set(e,new Map);const r=this._collector.get(e);if(r.size>this._capacity){const e=[...r.keys()].filter((e=>"string"==typeof e)).filter((e=>{const t=r.get(e);return t&&t.begin>0&&t.finish>0})).sort().slice(this._capacity/2);for(const t of e)r.delete(t)}r.set("string"==typeof t?t:N,{begin:performance.now(),finish:-1})})),(0,T.A)(this,"finish",((e,t,r,i)=>{let n;if(i){var o;const e=this._placeholder.get(i);n=null==e?void 0:e.get(null!=t?t:N),null==e||e.delete(null!=t?t:N),(null!==(o=null==e?void 0:e.size)&&void 0!==o?o:0)>0||this._placeholder.delete(i)}if(!this._collector.has(e)){if(void 0===n)return void console.warn("`performer.finish` - has no point named(1):",e,"id:",t,"unexpected:",r,"placeholder:",i,"start:",n);this._collector.set(e,new Map)}const s=this._collector.get(e);let a;if("string"==typeof t){if(!s.has(t)){if(void 0===n)return void console.warn("`performer.finish` - has no point named(2):",e,"id:",t,"unexpected:",r,"placeholder:",i,"start:",n);s.set(t,{begin:n,finish:-1})}if(a=s.get(t),a.begin<=0)return void console.warn("`performer.finish` - point has no begin:",e,"id:",t,"unexpected:",r,"placeholder:",i,"start:",n);if(a.finish>0)return void console.warn("`performer.finish` - point has already finished:",e,"id:",t,"unexpected:",r,"placeholder:",i,"start:",n)}else{if(!s.has(N)){if(void 0===n)return void console.warn("`performer.finish` - has no default point:",e,"id:",t,"unexpected:",r,"placeholder:",i,"start:",n);s.set(N,{begin:n,finish:-1})}if(a=s.get(N),a.begin<=0)return void console.warn("`performer.finish` - default point has no begin:",e,"id:",t,"unexpected:",r,"placeholder:",i,"start:",n);if(a.finish>0)return void console.warn("`performer.finish` - default point has already finished:",e,"id:",t,"unexpected:",r,"placeholder:",i,"start:",n)}switch(r){case O.immediate:a.finish=a.begin;break;case O.error:a.finish=a.begin-1;break;default:a.finish=performance.now()}})),(0,T.A)(this,"placeholder",((e,t)=>{this._placeholder.set(e,new Map),this._placeholder.get(e).set(null!=t?t:N,performance.now())})),(0,T.A)(this,"ensure",((e,t)=>!!this._collector.has(e)&&("string"==typeof t?this._collector.get(e).has(t):this._collector.get(e).has(N)))),(0,T.A)(this,"flush",((e,t)=>{if(void 0===e)return void this._collector.clear();const r=this._collector.get(e);void 0!==t?null==r||r.delete(t):null==r||r.clear()})),(0,T.A)(this,"flushExclude",(e=>{const t={};for(const i of e){const e=i.name,r=i.id;r||(t[e]=P),t[e]!==P&&(t[e]||(t[e]={}),r===N?t["symbol('default')"]=!0:"string"==typeof r&&(t[r]=!0))}for(const i of this._collector){var r=(0,w.A)(i,2);const e=r[0],n=r[1];if(t[e]!==P)if(t[e]){for(const r of n){const i=(0,w.A)(r,1)[0],o=i===N?"symbol('default')":i;t[e][o]||n.delete(i)}n.size||this._collector.delete(e)}else this._collector.delete(e)}})),this._capacity=null!=e&&e.capacity&&e.capacity>1?e.capacity:100}format(e=R.flatWithConsume){switch(e){case R.origin:return j(this._collector);case R.originWithConsume:return j(this._collector,!0);case R.flat:return $(this._collector);case R.flatWithConsume:default:return $(this._collector,!0)}}}var D=r(95366);class V{get lifecycle(){return this._lifecycle}set lifecycle(e){(0,D.z)((()=>this.emit(`lifecycle:${e}`))),this._lifecycle=e}constructor(e){var t;(0,T.A)(this,"_performer",new B),(0,T.A)(this,"_eventEmitter",new(x())),(0,T.A)(this,"_messageHandler",void 0),(0,T.A)(this,"_lifeSequence",void 0),(0,T.A)(this,"debug",((...e)=>this._messageHandler.debug(...e))),(0,T.A)(this,"info",((...e)=>this._messageHandler.info(...e))),(0,T.A)(this,"log",((...e)=>this._messageHandler.log(...e))),(0,T.A)(this,"warn",((...e)=>this._messageHandler.warn(...e))),(0,T.A)(this,"error",((...e)=>this._messageHandler.error(...e))),(0,T.A)(this,"begin",((...e)=>this._performer.begin(...e))),(0,T.A)(this,"finish",((...e)=>this._performer.finish(...e))),(0,T.A)(this,"perfPlaceholder",((...e)=>this._performer.placeholder(...e))),(0,T.A)(this,"perfEnsure",((...e)=>this._performer.ensure(...e))),(0,T.A)(this,"perfFormat",this._performer.format.bind(this._performer)),(0,T.A)(this,"perfFlush",((...e)=>this._performer.flush(...e))),(0,T.A)(this,"perfFlushExclude",((...e)=>this._performer.flushExclude(...e))),this._messageHandler=new I(e.logOptions),this._lifeSequence=(null!==(t=e.lifecycles)&&void 0!==t?t:[]).reduce(((e,t,r)=>({...e,[t]:r})),{})}assertBeforeLifecycle(e,t){if(this._lifeSequence[this._lifecycle]>=this._lifeSequence[t])throw new E.J(`${e} must call BEFORE lifecycle changed to \`${t}\`, current is: \`${this._lifecycle}\``)}assetAfterLifecycle(e,t){if(this._lifeSequence[this._lifecycle]<this._lifeSequence[t])throw new E.J(`${e} must call AFTER lifecycle changed to \`${t}\`, current is: \`${this._lifecycle}\``)}checkBeforeLifecycle(e){return this._lifeSequence[this._lifecycle]<this._lifeSequence[e]}checkAfterLifecycle(e){return this._lifeSequence[this._lifecycle]>=this._lifeSequence[e]}async waitAfterLifecycle(e){return new Promise((t=>{this.once(`lifecycle:${e}`,(()=>t()))}))}setLogLevel(e){this._messageHandler.setLogLevel((null==e?void 0:e.level)||L.Warn)}on(e,t){if(e.startsWith("lifecycle:")){const r=e.replace(/^lifecycle:/,"");this.checkAfterLifecycle(r)&&t&&(0,D.z)((()=>null==t?void 0:t()))}return this._eventEmitter.on(e,t)}once(e,t){if(e.startsWith("lifecycle:")){const r=e.replace(/^lifecycle:/,"");this.checkAfterLifecycle(r)&&t&&(0,D.z)((()=>null==t?void 0:t()))}return this._eventEmitter.once(e,t)}off(e,t){return this._eventEmitter.off(e,t)}emit(e,...t){return this._eventEmitter.emit(e,...t)}}function W(e,t){return e instanceof Error?e instanceof E.J?e:new E.J(e.message,t.args,e):new E.J(`Error in VE ${t.next.onionName}, pointer: ${e}`,t.args,e)}function F(e){return e}function z(e,t){var r,i;const n=null!==(r=null==t?void 0:t.cbCheckResp)&&void 0!==r?r:F,o=null!==(i=null==t?void 0:t.genError)&&void 0!==i?i:W;return function(e,r,...i){let s;try{if(s=r.call(this,...i),!(0,D.yL)(s))return n.call(e,s,{next:r,args:i,config:t})}catch(a){throw o.call(e,a,{next:r,args:i,config:t})}return s.then((o=>n.call(e,o,{next:r,args:i,config:t})),(n=>{throw o.call(e,n,{next:r,args:i,config:t})}))}}const U={};function q(e,t){return e instanceof Error?e instanceof E.J?e:"FS error"===e.message?(e.message+=`, no: ${e.errno}, fn: ${t.next.onionName}, args: ${JSON.stringify(t.args)}`,e):new E.J(e.message,t.args,e):new E.J(`Error in FS ${t.next.onionName}, throws a non-error var: ${e}`,t.args,e)}let H=function(e){return e.Created="Created",e.Mounting="Mounting",e.Mounted="Mounted",e}({});class G extends V{get insaneFS(){return this._fs}constructor(e){return super({logOptions:{scope:"ifs",...e},lifecycles:[H.Created,H.Mounting,H.Mounted]}),(0,T.A)(this,"_fs",void 0),(0,T.A)(this,"_mountPoint",void 0),(0,T.A)(this,"plugins",[{creator:z,config:{genError:q}}]),(0,T.A)(this,"_lifecycle",H.Created),C.hn({workerURL:new URL(r(28580),r.b).href,numWorkers:2}),function(e){const t=e.plugins;if(null!=t&&t.length){const n=new WeakMap,o=Object.getOwnPropertyNames(Object.getPrototypeOf({})),s=Object.getOwnPropertyNames(Object.getPrototypeOf(e)).filter((t=>!o.includes(t)&&"function"==typeof e[t])),a=Object.getOwnPropertyNames(e).filter((t=>"function"==typeof e[t])),c=Array.from(new Set([...s,...a]));for(const l of t){let t,o,s;"function"==typeof l?(t=[...c],o=l,s=void 0):(t=[...c],l.enable&&(t=t.filter((e=>l.enable.includes(e)))),l.disable&&(t=t.filter((e=>!l.disable.includes(e)))),o=l.creator,s=l.config);for(const a of t){var r,i;n.has(o)||n.set(o,new WeakMap),n.get(o).has(null!==(r=s)&&void 0!==r?r:U)||n.get(o).set(null!==(i=s)&&void 0!==i?i:U,o(e,s));const t=e[a];t.onionName=a,e[a]=function(...r){var i;return n.get(o).get(null!==(i=s)&&void 0!==i?i:U).call(e,e,t,...r)},e[a].onionName=a}}}return e}(this)}async mount({module:e,mountPoint:t}){this.lifecycle=H.Mounting,this._fs=new k.U(e),this._mountPoint=t,await this._fs.init(),this.mkdirSync(this._mountPoint),this.lifecycle=H.Mounted}writeFileSync(e,t,r){const i=null!=r?r:{},n=i.skipExist,o=void 0===n||n,s=i.recursive,a=void 0===s||s;if(this.isExist(e)){if(o)return;this.rmSync(e)}a&&this.mkdirSync(b.dirname(e),{recursive:!0});"string"==typeof t||ArrayBuffer.isView(t)||(t=new Uint8Array(t));const c=this._fs.writeFileSync(e,t);if(c<0)throw new Error(`writeFile failed: ${c}`)}rmSync(e){this.isExist(e)?this.isDir(e)?this.warn(`can not rm, ${e} is a dir`):this._fs.unlink(e):this.warn(`can not rm, file not exist at ${e}!`)}mkdirSync(e,t){return this._fs.mkdir(e,t)}rmdirSync(e,t){this.isExist(e)?this.isDir(e)?null!=t&&t.recursive?this.isExist(e)&&(this.readdirSync(e).filter((e=>"."!==e&&".."!==e)).forEach((t=>{const r=b.join(e,t);this.isDir(r)?this.rmdirSync(r,{recursive:!0}):this.rmSync(r)})),this._fs.rmdir(e)):this._fs.rmdir(e):this.warn(`can not rmdir, ${e} is not a dir`):this.warn(`can not rmdir, directory not exist at ${e}!`)}readdirSync(e){return this._fs.readDir(e).filter((e=>!/^\.+$/.test(e)))}readFileSync(e,t){const r=(null!=t?t:{}).encoding,i=void 0===r?"binary":r;return this._fs.readFileSync(e,i)}statSync(e){const t=this._fs.stat(e);return"number"==typeof t?(this.warn(`can not stat, nothing exist at ${e}!`),{}):t}isDir(e){return this._fs.isDir(e)}isFile(e){return this._fs.isFile(e)}isExist(e,t){if(this.checkBeforeLifecycle(H.Mounted))return!1;const r=this._fs.isExist(e);if(r&&null!=t&&t.useSize){const t=this._fs.stat(e);return"number"!=typeof t&&0!==t.size}return r}createTempFile(e,t,r){const i=G.ensureRootPath(b.join("/tmp",`${S().generate()}${e}`));return void 0!==t&&this.writeFileSync(i,t,r),{path:i,recycle:()=>this.rmSync(i)}}async unzip(e){const t=(await C.$1(e)).entries,r={};for(const n of Object.entries(t)){var i=(0,w.A)(n,2);const e=i[0],t=i[1];e.startsWith("__MACOSX")||e.includes(".DS_Store")||(r[e]={name:e,content:await t.arrayBuffer(),isDirectory:t.isDirectory})}return r}batchUnzip(e){return function(e,t){if(null==t||!t.callback)return Promise.all(e);const r=t.frequency,i=t.callback,n=e.length;let o=1,s=1/r,a=0;for(const c of e)c.then((()=>{a++,a/n>=s&&(i(a/n),s=1/r*++o)}));return Promise.all(e)}(e.srcs.map((e=>this.unzip(e))),e.progressOpt)}async _saveEntriesToPath(e){const t=e.entries,r=e.destPath;for(const i in t)if(t[i].isDirectory)this.mkdirSync(b.join(r,i),{recursive:!0});else{const e=/^(.+\/)*(.+)$/.exec(i),n=(null==e?void 0:e[1])||"",o=(null==e?void 0:e[2])||"";this.writeFileSync(b.join(r,n,o),t[i].content,{recursive:!0})}}async unzipToPath(e){const t=e,r=t.src,i=t.destPath,n=await this.unzip(r);await this._saveEntriesToPath({entries:n,destPath:i})}async unzipFromFSToPath(e){const t=e.fromPath,r=e.toPath,i=void 0===r?b.join(b.dirname(t),b.basename(t,".zip")):r;if(!this.isExist(t,{useSize:!0}))throw new E.J(".zip file not exist, can not unzip.",e);{const e=this.readFileSync(t,{encoding:"binary"});await this.unzipToPath({src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),destPath:i}).catch((e=>{throw e.message=`unzip from ${t}; error: ${e.message}`,e}))}}static ensureRootPath(e){return e.startsWith("/")||(e=`/${e}`),k.U.ensureRootPath(e)}}const Q=G.ensureRootPath("/editor"),J=(b.join(Q,"font"),b.join(Q,"effect"),b.join(Q,"model"),b.join(Q,"builtin_font"),b.join(Q,"areaLocked"),b.join(Q,"assets/default-sprite.png"),{[y.nC.MetaTypeContrast]:"/editor/res/integration/contrast",[y.nC.MetaTypeFade]:"/editor/res/integration/fade",[y.nC.MetaTypeBrightness]:"/editor/res/integration/brightness",[y.nC.MetaTypeHighlight]:"/editor/res/integration/highlight",[y.nC.MetaTypeSaturation]:"/editor/res/integration/saturation",[y.nC.MetaTypeLightSensation]:"/editor/res/integration/light_sensation",[y.nC.MetaTypeParticle]:"/editor/res/integration/particle",[y.nC.MetaTypeSharpen]:"/editor/res/integration/sharp",[y.nC.MetaTypeShadow]:"/editor/res/integration/shadow",[y.nC.MetaTypeTemperature]:"/editor/res/integration/temperature",[y.nC.MetaTypeHue]:"/editor/res/integration/tone",[y.nC.MetaTypeVignetting]:"/editor/res/integration/vignetting"}),K=Object.keys(J).reduce(((e,t)=>(e[t]=G.ensureRootPath(J[t]),e)),{});Object.keys(K).map((e=>({path:K[e],value:0,type:Number(e)}))),y.nC.MetaTypeFade,y.nC.MetaTypeLightSensation,y.nC.MetaTypeBrightness,y.nC.MetaTypeContrast,y.nC.MetaTypeParticle,y.nC.MetaTypeSaturation,y.nC.MetaTypeHighlight,y.nC.MetaTypeShadow,y.nC.MetaTypeSharpen,y.nC.MetaTypeTemperature,y.nC.MetaTypeHue,y.nC.MetaTypeVignetting,y.nC.MetaTypeHsl,y.nC.MetaTypeChroma,y.nC.MetaTypeChroma,y.nC.MetaTypeColorCurves;var Y,X,Z,ee;const te=5e3,re=(y.$5.TrackTypeVideo,y.$5.TrackTypeText,y.$5.TrackTypeTextToVideoText,y.$5.TrackTypeSticker,y.$5.TrackTypeVideoEffect,y.$5.TrackTypeFilter,y.$5.TrackTypeAdjust,new URL(window.location.href)),ie=re.pathname,ne=re.searchParams;let oe="480";const se="_is_gpu_exist";try{const e=function(){if(void 0!==window._compatible)return window._compatible;if(p.checked)return!m&&_(p.res),p.res;const e={isCompatible:!0,cause:{}},t=(0,n.N)(),r=t.isMobile,i=t.mobileType;if(r)return e.isCompatible=!1,e.cause={type:"device",details:{mobile_type:i}},p.checked=!0,p.res=e,_(e),e;const o=function(){const e=u(),t=[],r=h();return c()||t.push("BrowserType"),l()||t.push("BrowserVersion"),d()||t.push("WebAssembly"),f()||t.push("WebGL2"),g()||t.push("SharedArrayBuffer"),{unsupported:t,chromeOrEdge:r,browserVersion:e}}();return o.unsupported,o.browserVersion,o.chromeOrEdge,navigator.cookieEnabled?(p.checked=!0,p.res=e,_(e),e):(e.isCompatible=!1,e.cause={type:"setting",details:{browser_unsupported_feature:["Cookies"]}},p.checked=!0,p.res=e,_(e),e)}();if(e.isCompatible){const e={cpu:8,gpu:1},t=navigator.hardwareConcurrency;let r=localStorage.getItem(se);if(null===r){const e=document.createElement("canvas");r=e.getContext("webgl")instanceof WebGLRenderingContext?"1":"0",localStorage.setItem(se,r)}(null==e?void 0:e.cpu)<=t&&(null==e?void 0:e.gpu)===Number(r)&&(oe="720")}}catch(de){i.Zq.error("resolution","got resolution init failed",de.message)}window._canvas_resolution=oe;const ae={480:[864,486],720:[1296,729],1080:[1944,1093.5]},ce=(Y=null==ae||null===(X=ae[oe])||void 0===X?void 0:X[0],Z=null==ae||null===(ee=ae[oe])||void 0===ee?void 0:ee[1],ie.startsWith("/editor-template")),le=ne.get("mock_log_level"),ue=(le&&Number.isFinite(parseInt(le,10))&&parseInt(le,10),ne.get("mock_pool_size"));let he;he=ue&&Number.isFinite(parseInt(ue,10))?parseInt(ue,10):20},90156:function(e,t,r){"use strict";r.d(t,{$5:function(){return n},nC:function(){return i}});let i=function(e){return e[e.MetaTypeNone=0]="MetaTypeNone",e[e.MetaTypeVideo=1]="MetaTypeVideo",e[e.MetaTypePhoto=2]="MetaTypePhoto",e[e.MetaTypeGif=3]="MetaTypeGif",e[e.MetaTypeMusic=4]="MetaTypeMusic",e[e.MetaTypeExtractMusic=5]="MetaTypeExtractMusic",e[e.MetaTypeSound=6]="MetaTypeSound",e[e.MetaTypeRecord=7]="MetaTypeRecord",e[e.MetaTypeImage=8]="MetaTypeImage",e[e.MetaTypeText=9]="MetaTypeText",e[e.MetaTypeSubtitle=10]="MetaTypeSubtitle",e[e.MetaTypeLyrics=11]="MetaTypeLyrics",e[e.MetaTypeSticker=12]="MetaTypeSticker",e[e.MetaTypeFilter=13]="MetaTypeFilter",e[e.MetaTypeLUT=14]="MetaTypeLUT",e[e.MetaTypeReshape=15]="MetaTypeReshape",e[e.MetaTypeBeauty=16]="MetaTypeBeauty",e[e.MetaTypeVideoEffect=17]="MetaTypeVideoEffect",e[e.MetaTypeBrightness=18]="MetaTypeBrightness",e[e.MetaTypeContrast=19]="MetaTypeContrast",e[e.MetaTypeSaturation=20]="MetaTypeSaturation",e[e.MetaTypeSharpen=21]="MetaTypeSharpen",e[e.MetaTypeHighlight=22]="MetaTypeHighlight",e[e.MetaTypeShadow=23]="MetaTypeShadow",e[e.MetaTypeTemperature=24]="MetaTypeTemperature",e[e.MetaTypeHue=25]="MetaTypeHue",e[e.MetaTypeFade=26]="MetaTypeFade",e[e.MetaTypeLightSensation=27]="MetaTypeLightSensation",e[e.MetaTypeVignetting=28]="MetaTypeVignetting",e[e.MetaTypeParticle=29]="MetaTypeParticle",e[e.MetaTypeSegCanvas=30]="MetaTypeSegCanvas",e[e.MetaTypeCanvasColor=31]="MetaTypeCanvasColor",e[e.MetaTypeCanvasImage=32]="MetaTypeCanvasImage",e[e.MetaTypeCanvasBlur=33]="MetaTypeCanvasBlur",e[e.MetaTypeTransition=34]="MetaTypeTransition",e[e.MetaTypeAudioEffect=35]="MetaTypeAudioEffect",e[e.MetaTypeAudioFade=36]="MetaTypeAudioFade",e[e.MetaTypeBeats=37]="MetaTypeBeats",e[e.MetaTypeTailLeader=38]="MetaTypeTailLeader",e[e.MetaTypeAnimation=39]="MetaTypeAnimation",e[e.MetaTypeVideoAnimation=40]="MetaTypeVideoAnimation",e[e.MetaTypeTextEffect=41]="MetaTypeTextEffect",e[e.MetaTypeTextShape=42]="MetaTypeTextShape",e[e.MetaTypeTextToAudio=43]="MetaTypeTextToAudio",e[e.MetaTypeVideoMix=44]="MetaTypeVideoMix",e[e.MetaTypeAdjust=45]="MetaTypeAdjust",e[e.MetaTypeVideoMask=46]="MetaTypeVideoMask",e[e.MetaTypeSpeed=47]="MetaTypeSpeed",e[e.MetaTypeChroma=48]="MetaTypeChroma",e[e.MetaTypeTextTemplate=49]="MetaTypeTextTemplate",e[e.MetaTypeVideoOriginalSound=50]="MetaTypeVideoOriginalSound",e[e.MetaTypeStretchLeg=51]="MetaTypeStretchLeg",e[e.MetaTypeRealtimeDenoise=52]="MetaTypeRealtimeDenoise",e[e.MetaTypeFigure=53]="MetaTypeFigure",e[e.MetaTypeFaceEffect=54]="MetaTypeFaceEffect",e[e.MetaTypeVideoTracking=55]="MetaTypeVideoTracking",e[e.MetaTypeHsl=56]="MetaTypeHsl",e[e.MetaTypeColorCurves=57]="MetaTypeColorCurves",e[e.MetaTypeAudioBalance=58]="MetaTypeAudioBalance",e[e.MetaTypeComposition=59]="MetaTypeComposition",e[e.MetaTypeCover=60]="MetaTypeCover",e[e.MetaTypeLeader=61]="MetaTypeLeader",e[e.MetaTypeTailer=62]="MetaTypeTailer",e[e.MetaTypePrimaryColorWheels=63]="MetaTypePrimaryColorWheels",e[e.MetaTypeLogColorWheels=64]="MetaTypeLogColorWheels",e[e.MetaTypeHandwriteImage=65]="MetaTypeHandwriteImage",e[e.MetaTypeHandwriteRes=66]="MetaTypeHandwriteRes",e[e.MetaTypeCombination=67]="MetaTypeCombination",e[e.MetaTypeManualDeformation=68]="MetaTypeManualDeformation",e[e.MetaTypePluginEffect=69]="MetaTypePluginEffect",e[e.MetaTypeLockObject=70]="MetaTypeLockObject",e[e.MetaTypeSmartMotion=71]="MetaTypeSmartMotion",e[e.MetaTypeAdCube=72]="MetaTypeAdCube",e[e.MetaTypeMattingStroke=73]="MetaTypeMattingStroke",e[e.MetaTypeSmartColorAdjust=74]="MetaTypeSmartColorAdjust",e[e.MetaTypeChannelMapping=75]="MetaTypeChannelMapping",e[e.MetaTypeBloom=76]="MetaTypeBloom",e[e.MetaTypeTextPreset=77]="MetaTypeTextPreset",e[e.MetaTypeGreenScreen=78]="MetaTypeGreenScreen",e[e.MetaTypeArticleToVideoTemplate=79]="MetaTypeArticleToVideoTemplate",e[e.MetaTypeFont=80]="MetaTypeFont",e[e.MetaTypeAll=81]="MetaTypeAll",e}({}),n=function(e){return e[e.TrackTypeNone=0]="TrackTypeNone",e[e.TrackTypeVideo=1]="TrackTypeVideo",e[e.TrackTypeAudio=2]="TrackTypeAudio",e[e.TrackTypeSticker=3]="TrackTypeSticker",e[e.TrackTypeText=4]="TrackTypeText",e[e.TrackTypeVideoEffect=5]="TrackTypeVideoEffect",e[e.TrackTypeFilter=6]="TrackTypeFilter",e[e.TrackTypeAdjust=7]="TrackTypeAdjust",e[e.TrackTypeTextToVideoText=8]="TrackTypeTextToVideoText",e[e.TrackTypeTextToVideoTextAudio=9]="TrackTypeTextToVideoTextAudio",e[e.TrackTypeComposition=10]="TrackTypeComposition",e[e.TrackTypePluginEffect=11]="TrackTypePluginEffect",e[e.TrackTypeAdCube=12]="TrackTypeAdCube",e[e.TrackTypeCombination=13]="TrackTypeCombination",e}({})},64939:function(e,t,r){"use strict";r.d(t,{Lk:function(){return n},h3:function(){return i}});r(14148);function i(e){return function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.is_matting}(e)||function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.is_reverse}(e)||function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.is_gameplay}(e)||function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.is_algorithm}(e)||function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.is_stable}(e)}function n(e){return(null==e?void 0:e.is_matting)||(null==e?void 0:e.is_reverse)}},42958:function(e,t,r){"use strict";r.d(t,{s:function(){return g}});var i=r(40492),n=r(51327),o=r(89243);const s=`wss://sami-api-boe.${n.qC}.org`,a=`https://sami-api-boe.${n.qC}.org`,c={sg1:"wss://sami-sg1.byteintlapi.com",maliva:"wss://sami-maliva.byteintlapi.com"},l={sg1:"https://sami-sg1.byteintlapi.com",maliva:"https://sami-maliva.byteintlapi.com"},u={web_domain:`https://capcut-os-boe.${n.AU}.net`,tts_domain:s,sami_domain:a,frontier_domain:`wss://capcut-os-boe.${n.AU}.net`,commerce_domain:""},h={web_domain:`https://capcut-web-va.${n.AU}.net`,frontier_domain:`wss://frontier-va.${n.AU}.net`,commerce_domain:`https://commerce-api-va.${n.AU}.net`,tts_domain:c.maliva,sami_domain:l.maliva},d={web_domain:"https://edit-api-va.capcut.com",commerce_domain:"https://commerce-api-va.capcut.com",frontier_domain:"wss://frontier-va.capcut.com",tts_domain:c.maliva,sami_domain:l.maliva},f={code:"US",country_name:"",city:"",web_idc:"maliva",domain:o.az?h:d};o.SC&&(f.domain=u);const g=new class{constructor(){(0,i.A)(this,"_map",new Map),this.setVars(function(){let e=window.__locationInfo;if(e){const t=e.web_idc;e.domain.tts_domain=c[t],e.domain.sami_domain=l[t]}else console.warn("no injected variables found"),e=f;return{web_idc:e.web_idc,country_code:e.code,...e.domain}}())}setVar(e,t){"tts_domain"===e&&this._map.get("tts_domain")||"sami_domain"===e&&this._map.get("sami_domain")||this._map.get(e)&&void 0===t||this._map.set(e,t)}setVars(e){for(const t in e)this.setVar(t,e[t])}getVar(e){return this._map.get(e)}getVars(e=[]){e=0===e.length?Array.from(this._map.keys()):e;const t={};for(const r of e)t[r]=this._map.get(r);return t}}},7146:function(e,t,r){"use strict";r.d(t,{Ts:function(){return i}});const i={BELOW_VERSION:40008,INSUFFICIENT_SPACE:20113,INVALID_NAME:40031,INVALID_MATERIAL_NAME:24001,DELETED_PACKAGE:40004,DELETED_MATERIAL:1e4,INVALID_MATERIAL:40006,INVALID_FORMAT:200206,INVALID_MATERIAL_INFORMATION:200204,INVALID_TOKEN:20127,AUTO_SAVE_OVERFLOW:-10001,EXT_NOT_MATCH_FORMAT:20233,ENCODING_NOT_SUPPORTED:20209,EXCEED_SIZE_LIMIT:-20001,INVALID_FORMAT_LOCAL:-20002},n="2005",o="2009";i.BELOW_VERSION,i.DELETED_PACKAGE,i.DELETED_MATERIAL},88650:function(e,t,r){"use strict";r.d(t,{T:function(){return i},k:function(){return n}});const i="filerCloudStore",n="filerVisitorStore"},57672:function(e,t,r){"use strict";r.d(t,{o:function(){return i}});let i=function(e){return e[e.None=0]="None",e[e.Local=1]="Local",e[e.Online=2]="Online",e[e.Transcoding=3]="Transcoding",e[e.Downloading=4]="Downloading",e[e.Preparing=5]="Preparing",e[e.Pending=6]="Pending",e[e.Uploading=7]="Uploading",e[e.TranscodeFailed=8]="TranscodeFailed",e[e.DownloadFailed=9]="DownloadFailed",e[e.UploadFailed=10]="UploadFailed",e[e.LoginSyncing=11]="LoginSyncing",e[e.LoginSyncFailed=12]="LoginSyncFailed",e[e.LoginSynced=13]="LoginSynced",e[e.NoTranscodeInformation=14]="NoTranscodeInformation",e[e.TranscodeNotSupported=15]="TranscodeNotSupported",e}({})},28172:function(e,t,r){"use strict";r.d(t,{H7:function(){return i},ke:function(){return n}});let i=function(e){return e.Visitor="visitor",e.Cloud="cloud",e.Third="third",e}({}),n=function(e){return e[e.NoCopy=4]="NoCopy",e[e.NoOccupation=8]="NoOccupation",e[e.Invisible=16]="Invisible",e[e.InvisibleNoOccupation=24]="InvisibleNoOccupation",e}({})},18195:function(e,t,r){"use strict";r.d(t,{i:function(){return o}});var i=r(8800);function n(e,t=0){const r=10**t;return Math.floor(e*r)/r}function o(e,t=i.Yi){let r=e,o="B";return r>=t&&(r=n(r/t),o="KB"),r>=t&&(r=n(r/t),o="MB"),r>=t&&(r=n(r/t,1),o="GB"),`${r}${o}`}},46320:function(e,t,r){"use strict";r.d(t,{Oo:function(){return s},a6:function(){return a}});var i=r(52179),n=r(57672);const o=e=>{if(!e.md5&&!e.fileId)return e.type.startsWith("video")||e.type.startsWith("image")?"videos":e.type.startsWith("audio")?"audios":"";switch(e.groupType){case"video":case"image":return"videos";case"audio":return"audios";default:return""}};function s(e){if(e.fileId){const t=o(e);let r=e.ext;return r=r&&!r.startsWith(".")?`.${r}`:"",i.join(t,`${e.fileId}${r}`)}if(e.md5){const t=o(e);let r=e.ext;return r=r&&!r.startsWith(".")?`.${r}`:"",i.join(t,`${e.md5}${r}`)}return""}function a(e){return[n.o.Local,n.o.Online,n.o.Downloading].includes(e)}},49025:function(e,t,r){"use strict";r.d(t,{F2:function(){return n},JI:function(){return o}});var i=r(57672);function n(e){var t;return!((null===(t=e.material)||void 0===t?void 0:t.fileStatus)!==i.o.Online||!("video"===e.material.groupType&&e.material.playInfo||"audio"===e.material.groupType&&e.material.playInfo||"image"===e.material.groupType&&e.material.encryptedCover))}function o(e,t){var r;return!!e._options.streamEditEnable&&"video"===(null===(r=t.material)||void 0===r?void 0:r.groupType)}},7329:function(e,t,r){"use strict";r.d(t,{EH:function(){return i},_e:function(){return o},_n:function(){return n}});r(59111),r(84698);const i="switch_website_language",n={landingPage:"landing_page",detailPage:"detail_page",workSpace:"work_space",articlePage:"article_page",editor:"editor",templateEditor:"template_editor",recent:"recent"},o={pageFooter:"page_footer",personalProfile:"personal_profile"}},46012:function(e,t,r){"use strict";r.d(t,{Zq:function(){return b}});var i=r(40492);const n=e=>{var t,r;if(null==e)return new Error("error is empty");if(e instanceof Error){if(function(e,t){const r=Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),t)||{};return Boolean(r.writable)}(e,"message"))return e;{const t=new Error(e.message,{cause:e.cause});return t.stack=e.stack,t}}if(e instanceof Event)return e instanceof ErrorEvent?e.error?n(e.error):new Error(`[ErrorEvent] type: ${e.type} msg: ${e.message}`):new Error(`[Event] type: ${e.type}`);if("object"!=typeof e)return new Error(e);let i=null!==(t=null===(r=e.toString)||void 0===r?void 0:r.call(e))&&void 0!==t?t:"[unkown type]";try{i=`${i} ${JSON.stringify(e)}`}catch(e){i=`${i} error message cannot stringify`}return new Error(i)};var o=r(49416),s=r(28159),a=r(41967),c=r(99152),l=r(57319),u=r.n(l);const h=(e,t=!1)=>(0,c.A)(e,((e,r,i)=>{if(i.startsWith("__"))console.error('slardar tags \u4e2d\u7684 key \u4e0d\u5141\u8bb8\u7528"__"\u5f00\u5934',i);else if(!t||!(0,a.A)(r))try{e[i]=(0,s.A)(r)?r:u().stringify(r)}catch(n){}}),{});function d(...e){const t=e[0],r=e.slice(1);let i="";return[t,...r].forEach((e=>{""!==i&&(i+=" ");const t=new Set;i+="string"==typeof e?e:u().stringify(e,((e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))return"";t.add(r)}return function(e){const t=typeof e;return"undefined"===t||"bigint"===t||"boolean"===t||"number"===t||"string"===t}(r)?r:"symbol"==typeof r||"function"==typeof r||r instanceof Error?r.toString():r}))})),i}var f=r(37814);function g(e,...t){e.label,e.bold,e.color,e.level}const p=e=>{switch(e){case"fatal":return"#f00";case"error":return"#e33";case"warn":return"#f4bd02";default:return""}},m={appVersion:"",veVersion:"",videoeditorScmVersion:"",buildCommitId:"",buildTime:"",templateIds:""};const _=(e,t,r="")=>{e("sendEvent",{type:"event",name:"slardar_internal_error",metrics:{},categories:{apiName:t,errorMsg:r}})};function y(e,t){try{const r=t.reason,i=t.level,o=t.label,s=t.describe,a=t.extra,c=void 0===a?{}:a;Object.assign(c,m);const l=n(t.error),u=r?` (${r})`:"";l.message=`[${o}] - ${s}${u}; ${l.message}`,c.errorStr=l;const h=c.react;c.react=void 0,Object.keys(c).forEach((e=>{if("string"!=typeof c[e])try{c[e]=JSON.stringify(c[e])}catch(t){c[e]="failed to stringify",console.error("can not stringify extra property:",c[e])}})),c.level=i,c.label=o,c.reason=r||"",e("captureException",l,c,h),g({level:i,label:`${i} =>`,color:p(i)},l.message)}catch(s){var r,i,o;const n=null!==(r=t.label)&&void 0!==r?r:"slardar_js_error",a=null!==(i=t.describe)&&void 0!==i?i:"";_(e,`${n}_${a}`,`${null!==(o=s.message)&&void 0!==o?o:s}`),console.error("Slardar \u5185\u90e8\u9519\u8bef",s)}}function v(e,t,r,i){return function(e,t,r={}){try{const i=(0,f.A)(r,a.A),n=h(r,!0);Object.assign(n,m),e("sendEvent",{type:"event",name:t,metrics:i,categories:n}),g({label:"info =>"})}catch(n){var i;_(e,null!=t?t:"slardar_js_error",`${null!==(i=n.message)&&void 0!==i?i:n}`),console.error("Slardar sendEvent",n)}}(e,t,{describe:r,...i})}const b=new class{constructor(){(0,i.A)(this,"_categories",{appVersion:"",veVersion:"",videoeditorScmVersion:"",videoeditorScmVersionV1:0,videoeditorScmVersionV2:0,videoeditorScmVersionV3:0,videoeditorScmVersionV4:0,videoeditorScmVersionSIMD:"",buildCommitId:"",buildTime:"",templateIds:""}),(0,i.A)(this,"_sendLog",(({type:e,level:t,msgs:r})=>{var i;null===(i=this.sdk)||void 0===i||i.call(this,"sendLog",{content:d(...r),level:t,extra:{...this.categories,log_name:e}})}))}get _sdk(){return window.ccWebSlardar}get sdk(){return this._sdk}get categories(){return this._categories}set categories(e){Object.assign(this._categories,e),e.videoeditorScmVersion&&(e.videoeditorScmVersion.split(".").forEach(((e,t)=>{this._categories[`videoeditorScmVersionV${t+1}`]=((e,t="_")=>{let r=Number(e);if(Number.isNaN(r))if(e.includes(t)){const t=Number(e.split("_")[0]);r=Number.isNaN(t)?-1:t}else r=-1;return r})(e)})),this._categories.videoeditorScmVersionSIMD=e.videoeditorScmVersion.endsWith("_simd")?"simd":"common"),(e=>{Object.assign(m,e)})(e)}fatal(...e){return this._sdk?function(e,t,r,i,n,o){return y(e,{reason:i,level:"fatal",label:t,describe:r,error:n,extra:o})}(this._sdk,...e):console.error(...e)}error(...e){return this._sdk?function(e,t,r,i,n,o){return y(e,{reason:i,level:"error",label:t,describe:r,error:n,extra:o})}(this._sdk,...e):console.error(...e)}warn(...e){return this._sdk?function(e,t,r,i,n,o){return y(e,{level:"warn",label:t,describe:r,error:n,extra:o,reason:i})}(this._sdk,...e):console.warn(...e)}log(e,t,r,i){return this._sdk?v(this._sdk,e,t,{...this.categories,...i,error:(o=r,n(o).message)}):void 0;var o}debug(...e){this.log(...e)}info(...e){this.log(...e)}sendLog(e,t,r,i="error"){return this._sdk?("error"===i&&this._sdk("start"),this._sdk("sendLog",{content:`[${e}]: ${t}`,extra:{...this.categories,...r},level:i})):console.warn("sendLog need init Slarlar before")}sendInfo({type:e,msgs:t}){this._sendLog({type:e,level:o.$.INFO,msgs:t})}sendWarn({type:e,msgs:t}){this._sendLog({type:e,level:o.$.WARN,msgs:t})}sendDebug({type:e,msgs:t}){this._sendLog({type:e,level:o.$.DEBUG,msgs:t})}sendError({type:e,msgs:t}){var r;null===(r=this.sdk)||void 0===r||r.start(),this._sendLog({type:e,level:o.$.ERROR,msgs:t})}getLogger(e){return{info:(...t)=>{this.sendInfo({type:e,msgs:t})},warn:(...t)=>{this.sendWarn({type:e,msgs:t})},debug:(...t)=>{this.sendDebug({type:e,msgs:t})},error:(...t)=>{this.sendError({type:e,msgs:t})}}}}},49416:function(e,t,r){"use strict";r.d(t,{$:function(){return i},z:function(){return n}});let i=function(e){return e.INFO="info",e.WARN="warn",e.ERROR="error",e.DEBUG="debug",e}({}),n=function(e){return e.USER_TRACK="user_track",e.EDITOR_MANAGER="editor_manager",e}({})},43066:function(e,t,r){"use strict";r.d(t,{Uy:function(){return s},X9:function(){return n},hd:function(){return o},l3:function(){return i}});const i=324442,n={},o="dwell_time",s={threshold:1}},32927:function(e,t,r){"use strict";r.d(t,{A:function(){return w}});var i=r(67308),n=r(2830),o=r(43066),s=r(53265),a=r(72579),c=r.n(a),l=r(99415),u=r(40492),h=r(76916);var d=r(42615),f=r(87549);const g="force_refresh";let p=!1;"DedicatedWorkerGlobalScope"!==globalThis.constructor.name&&navigator.cookieEnabled&&(p=Boolean(localStorage.getItem("disable_compatible_versions")));const m=(e,t={})=>{const r=new URL(e);for(const i in t)r.searchParams.append(i,t[i]);return r.href};const _=new class{constructor(){(0,u.A)(this,"_eventbus",new(c())),(0,u.A)(this,"_options",{}),(0,u.A)(this,"_cache",null),(0,u.A)(this,"_cacheInitPromise",void 0),(0,u.A)(this,"_cacheKeysPromise",void 0),(0,u.A)(this,"_injectPromise",void 0),(0,u.A)(this,"_promise",void 0),(0,u.A)(this,"_task",new Map),(0,u.A)(this,"_cachedList",[]),this._cacheInitPromise=caches.open("cache_manager").then((e=>this._cache=e)).catch((e=>console.error("CacheManager error: ",e))),this._injectPromise=(async(e,t)=>{var r;const i="lifecycle:",n=t.startsWith(i),o=n?t.substring(10):"",s="destroyed"===o;if(n&&null!==(r=e.checkAfterLifecycle)&&void 0!==r&&r.call(e,o)&&(s||"destroyed"!==e.lifecycle))return;const a=new Promise((r=>{e.once(t,(()=>{(s||"destroyed"!==e.lifecycle)&&r(void 0)}))}));await a})(this._eventbus,"injected:editorSdk"),this._promise=Promise.all([this._cacheInitPromise,this._injectPromise]),this._cacheKeysPromise=this._initCachedList()}injectOptions(e){this._options={...this._options,...e};const t=Object.keys(e);for(const r of t)this._eventbus.emit(`injected:${r}`)}async getCachedBuf(e,t={}){const r=await this.getCachedResponse(e,t);return await(null==r?void 0:r.arrayBuffer())}async getCachedResponse(e,t={}){var r,i,n;let o;await this._cacheInitPromise;const s=(null===(r=t.versions)||void 0===r?void 0:r.length)&&(null===(i=t.marks)||void 0===i?void 0:i.group)&&(null===(n=t.marks)||void 0===n?void 0:n.name)&&!p,a=m(e,t.marks);"DedicatedWorkerGlobalScope"===globalThis.constructor.name&&(p=globalThis.disableCompatible);try{if(s){const r=await this.getCachedKeysByGroup(t.marks.group,t.versions),i=null==r?void 0:r.find((e=>e.name===t.marks.name));i&&(o=await this._cache.match(i.url,{ignoreSearch:!0}),i.version!==t.versions[0]&&this._cache.match(e,{ignoreSearch:!0}).then((e=>{void 0===e?this._cache.add(a):a!==e.url&&this._cache.put(a,e.clone())})))}return o||(o=await this._cache.match(e,{ignoreSearch:!0}),o&&a!==o.url&&this._cache.put(a,o.clone()),o)}catch(c){return}}_perfSuccess(e,t,r){return(0,d.qD)(e,{categories:{hit_cache:t,status:"success"},metrics:{file_size:null==r?void 0:r.byteLength}}),r}_perfError(e){(0,d.qD)(e,{categories:{status:"fail"}})}async _fetchArrayBuffer(e,t={}){const r=t.perfName,i=t.forceRefresh,n=t.marks,o=void 0===n?{}:n;await this._cacheInitPromise,(0,d.jo)(r);let s=i?void 0:await this.getCachedBuf(e,t);if(s)return this._perfSuccess(r,"idb",s),s;try{var a;const t=await(0,h.sl)(i?m(e,{[g]:`${Date.now()}`}):e,{},{onProgress:t=>this._eventbus.emit(`progress:${e}`,t)});return s=await t.arrayBuffer(),null===(a=this._cache)||void 0===a||a.put(m(e,o),new Response(s)),this._eventbus.removeAllListeners(`progress:${e}`),this._perfSuccess(r,(0,f.$)(e),s),s}catch(c){throw this._perfError(r),this._eventbus.removeAllListeners(`progress:${e}`),c}}async _fetchResponse(e,t={}){const r=t.perfName,i=t.forceRefresh,n=t.marks;await this._cacheInitPromise,(0,d.jo)(r);let o=i?void 0:await this.getCachedResponse(e,t);if(o)return this._perfSuccess(r,"idb"),o;try{var s;return o=await(0,h.sl)(i?m(e,{[g]:`${Date.now()}`}):e,{},{onProgress:t=>{this._eventbus.emit(`progress:${e}`,t),t>=1&&(this._eventbus.removeAllListeners(`progress:${e}`),this._perfSuccess(r,(0,f.$)(e)))}}),null===(s=this._cache)||void 0===s||s.put(m(e,n),o.clone()),o}catch(a){throw this._perfError(r),this._eventbus.removeAllListeners(`progress:${e}`),a}}async fetchWithCache(e,t){const r=null!=t?t:{},i=r.onProgress,n=r.removeAfterDone,o=void 0===n||n,s=r.returnType,a=void 0===s?"arraybuffer":s;i&&this._eventbus.on(`progress:${e}`,i);const c=`${e}_${a}`,l=this._task.get(c);if(l)return l;const u="arraybuffer"===a?this._fetchArrayBuffer(e,t):this._fetchResponse(e,t);return this._task.set(c,u),o&&u.finally((()=>this._task.delete(c))),u}async writeToFS(e,t,{needUnzip:r=!1}={}){await this._promise,await new Promise(((i,n)=>{this._options.editorSdk.once("lifecycle:fs-mounted",(async()=>{try{r?await this._options.editorSdk.fs.unzipToPath({src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),destPath:t}):this._options.editorSdk.fs.writeFileSync(t,e),i()}catch(o){n(o)}}))}))}deleteTask(e,t="arraybuffer"){const r=`${e}_${t}`;this._task.delete(r)}async writeToFsIfExist(e,t,r){const i=await this.getCachedBuf(e);if(i)try{return await this.writeToFS(i,t,r),i}catch(n){return}}async ensure(e,t,r={}){const i=await this._fetchArrayBuffer(e);return await this.writeToFS(i,t,r),i}async ensureIdle(e,t,{eventbus:r=this._options.eventbus,triggerEvent:i="",delayMs:n=1e3,entryTypes:o=["resource","longtask"],condition:s,...a}){await this._promise;const c=await this.writeToFsIfExist(e,t,a);if(c)return c;let l,u;const h=new Promise(((e,t)=>(l=e,u=t))),d=async()=>{var r;if(s&&!1===s())return void u("condition not met");const i=await this.ensure(e,t,a);null===(r=l)||void 0===r||r(i)};let f;if(0!==n){let e;const t=new PerformanceObserver((()=>{e&&clearTimeout(e),e=setTimeout((()=>{d(),clearTimeout(e),t.disconnect()}),n)}));f=()=>t.observe({entryTypes:o})}else f=()=>d();return""!==i&&r?r.once(i,f):f(),await h}async deleteCache(e,t){var r;await this._cacheInitPromise,await(null===(r=this._cache)||void 0===r?void 0:r.delete(e,t))}async _initCachedList(){var e,t;if(this._cachedList.length)return;await this._cacheInitPromise;const r=null!==(e=await(null===(t=this._cache)||void 0===t?void 0:t.keys()))&&void 0!==e?e:[];this._cachedList=r.map((({url:e})=>{const t={},r=new URL(e).searchParams.entries();for(const n of r){var i=(0,l.A)(n,2);const e=i[0],r=i[1];t[e]=r}return{url:e,...t}}))}async getCachedKeysByGroup(e,t){await this._cacheKeysPromise;const r=this._cachedList.filter((t=>t.group===e));if(!r.length)return;const i=new Set(r[0].names.split("~")),n=r.reduce(((e,t)=>t.version&&t.name?(e.hasOwnProperty(t.version)||(e[t.version]=[]),e[t.version].push(t),e):e),{});for(const o in n){const e=new Set(n[o].map((e=>e.name)));e.size===i.size&&[...i].every((t=>e.has(t)))||delete n[o]}if(!t)return n;for(const o of t)if(n[o])return n[o]}async clearCacheByGroup(e,t){try{var r;if(null!==(r=navigator.storage)&&void 0!==r&&r.estimate){const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return;const t=e.usage/e.quota*100,r=e.quota-e.usage;if(e.quota>1e10&&t<30)return;if(r/1e6>100)return}await this._cacheKeysPromise;const i=this._cachedList.filter((t=>{var r,i;return t.group===e||(null===(r=(i=t.url).includes)||void 0===r?void 0:r.call(i,e))}));for(const e of i)t.includes(e.version)||this.deleteCache(e.url);return!0}catch(i){return!1}}};const y=(0,i.createContext)({store:{},eventbus:new(c()),module:{},method:{},configure:{},pendent:new class{get _totalW(){return this._pendents.reduce(((e,t)=>e+t.weight),0)}get _done(){return this._pendents.filter((e=>e.progress>=1))}get _doneW(){return this._done.reduce(((e,t)=>e+t.weight),0)}get _remains(){return this._pendents.filter((e=>e.progress<1))}get _remainsDoneW(){return this._remains.reduce(((e,t)=>e+t.weight*t.progress),0)}get _remain(){return this._remains[0]}get current(){const e=this._remain;return{progress:(this._remainsDoneW+this._doneW)/this._totalW,message:(null==e?void 0:e.message)||(null==e?void 0:e.title)||""}}constructor(e){(0,u.A)(this,"_events",new(c())),(0,u.A)(this,"_pendents",void 0),(0,u.A)(this,"_shortcut",new Map),this._pendents=e.map((e=>({...e,progress:0,message:""})));for(const t of this._pendents)this._shortcut.set(t.key,t)}reset(e){const t={};for(const r of this._pendents)(r.progress||r.message)&&(t[r.key]={progress:r.progress,message:r.message});this._pendents=e.map((e=>{var r;return{...e,...null!==(r=t[e.key])&&void 0!==r?r:{progress:0,message:""}}}));for(const r of this._pendents)this._shortcut.set(r.key,r)}update(e,t,r){const i=this._shortcut.get(e);if(i&&i.progress<t&&t<=1)i.progress=t,i.message=r,this._events.emit("update",this.current),this.current.progress>=1&&this._events.emit("done");else{const i={key:e,progress:t,message:r,title:"",weight:0};this._pendents.push(i),this._shortcut.set(e,i)}}on(e,t){"done"===e&&this.current.progress>=1?t(this.current):this._events.on(e,t)}once(e,t){"done"===e&&this.current.progress>=1?t(this.current):this._events.once(e,t)}off(e,t){this._events.off(e,t)}}([]),cacheManager:_,serviceProxy:new class{constructor(){(0,u.A)(this,"module",void 0),(0,u.A)(this,"_sprite_split_service",void 0),(0,u.A)(this,"_graphic_cover_service",void 0),(0,u.A)(this,"_ffmpeg_init",Promise.resolve()),(0,u.A)(this,"_ffmpeg_adapter_service",void 0)}async GetSpriteSplitService(){if(this._sprite_split_service)return this._sprite_split_service;const e=await r.e(7806).then(r.bind(r,15367));return this._sprite_split_service=new e.SpriteSplitService,this._sprite_split_service}async GetGraphicCoverService(){if(this._graphic_cover_service)return this._graphic_cover_service;const e=await r.e(7806).then(r.bind(r,1148));return this._graphic_cover_service=new e.GraphicCoverService(this.module.filerCloud,this.module.editorSdk),this._graphic_cover_service}async GetFFmpegAdapterService(){if(this._ffmpeg_adapter_service)return await this._ffmpeg_init,this._ffmpeg_adapter_service;const e=await r.e(7806).then(r.bind(r,90384));return this._ffmpeg_adapter_service=new e.FFmpegAdapterService,this._ffmpeg_init=this._ffmpeg_adapter_service.init(),await this._ffmpeg_init,this._ffmpeg_adapter_service}},destroy:()=>{}});var v=r(38e3);function b({children:e,events:t={},enable:r=!0,ioOptions:a,...c},l){const u=(0,i.useRef)({}),h=i.isValidElement(e),d=(0,i.useRef)(l),f=(0,i.useContext)(y).method,g=(0,i.useMemo)((()=>({...o.Uy,...a})),[a]),p=(0,i.useCallback)((e=>{if(!e||!r)return;const t=e.type,i=e.once,n=void 0!==i&&i;if(!n||!u.current[t]){if((0,s.PS)(e)){(0,e.fn)()}else{const r=e.params;f.trackerReport(t,r)}n&&(u.current[t]=!0)}}),[r]),m=(0,i.useCallback)((0,n.A)(p,null==g?void 0:g.debounce),[p,null==g?void 0:g.debounce]),_=(0,i.useCallback)(((e,r)=>{if(e)if((0,s.PS)(e))p(e);else{const i=e.params,n=void 0===i?{}:i,s=t.onLeave;s&&(n[s.dwellTimeKey||o.hd]=r),p({...e,params:n})}}),[p,t]),b=(0,i.useCallback)((0,n.A)(_,null==g?void 0:g.debounce),[_,null==g?void 0:g.debounce]),w=(0,i.useCallback)((e=>{"function"==typeof l?l(e):l&&(l.current=e),d.current=e}),[l]);return(0,i.useEffect)((()=>{const e=d.current,r=e&&e instanceof HTMLElement,i=null==t?void 0:t.onEnter,n=null==t?void 0:t.onLeave;if(!r||!i&&!n)return;let o=Date.now();const s=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(o=Date.now(),m(i)):b(n,Date.now()-o)}))}),g);return s.observe(e),()=>{s.unobserve(e),s.disconnect()}}),[g,m,b,t]),h?i.cloneElement(e,{ref:w}):(0,v.jsx)("div",{ref:w,...c,children:e})}var w=i.forwardRef(b)},56940:function(e,t,r){"use strict";r.d(t,{A:function(){return C}});var i,n,o,s,a,c=r(40492),l=r(92439),u=r(87759),h=r(89243),d=r(43066),f=r(53265),g=r(46012),p=r(84698),m=r(11256),_=r(28141),y=r(36662);const v=l.h,b=u.p,w={user_id:(null===(i=window.__userInfo)||void 0===i||null===(i=i.user_info)||void 0===i?void 0:i.user_id)||"",occupation:"",region:(null===(n=window.__locationInfo)||void 0===n?void 0:n.code)||"",user_is_login:Boolean(null===(o=window.__userInfo)||void 0===o||null===(o=o.user_info)||void 0===o?void 0:o.user_id),user_is_subscribed:!1,user_is_new:!1},T={isProd:!h.H1,appId:d.l3},A=(e={},t=f.PK.Editor)=>{const r=e.business,i=void 0===r?[]:r;return 0===i.length&&i.push(f.PK.Editor),i.includes(t)};let S=b(s=v((a=class{static getInstance(e){return this.instance||(this.instance=new k(e)),this.instance}get _allDone(){const e=Boolean(y.n.enable&&this.checkAfterLifecycle("mounted")&&this._authorized);return this._enableCareered?e&&this._careered:e}get _serverReportReady(){return this.checkAfterLifecycle("mounted")&&this._authorized}set authorized(e){const t=e!==this._authorized;this._authorized=e,t&&this.emit("changed:authorized",this._authorized)}get authorized(){return this._authorized}get abConfig(){return this._abConfig}set careered(e){const t=e!==this._careered;this._careered=e,t&&(this.emit("changed:careered",this._careered),this._careered&&this.emit("changed:careered:true"))}get careered(){return this._careered}get teaInstance(){return this.tea}constructor(e){(0,c.A)(this,"trackCb",[]),(0,c.A)(this,"_lifeSequence",{initialized:0,mounted:1}),(0,c.A)(this,"_lifecycle","initialized"),(0,c.A)(this,"tea",void 0),(0,c.A)(this,"_webId",""),(0,c.A)(this,"logicHub",void 0),(0,c.A)(this,"_enableCareered",!1),(0,c.A)(this,"_authorized",!1),(0,c.A)(this,"_careered",!1),(0,c.A)(this,"_settled",!1),(0,c.A)(this,"_serverReportSettled",!1),(0,c.A)(this,"_abConfig",null),(0,c.A)(this,"options",void 0),(0,c.A)(this,"_boomerangs",[]),(0,c.A)(this,"_serverBoomerangs",[]),(0,c.A)(this,"_settle",(()=>{this._serverReportReady&&!this._serverReportSettled&&(this._serverReportSettled=!0,this.flushServerBoomerang()),this._allDone&&!this._settled&&(this._settled=!0,this.flushBoomerang(),this.predefinePageView())})),(0,c.A)(this,"_reReport",(()=>{this.careered?(this.predefinePageView(),this.emit("need_re_report")):this.once("changed:careered:true",this._reReport)})),this.options={...T,...e},this.tea=e.Tea,this.logicHub=e.logicHub,this.init(e),setTimeout((()=>{this.once("changed:authorized",this._settle),this.once("changed:careered:true",this._settle),this.on("changed:user_id",this._reReport)}),0)}async init(e){var t,i,n,o,s,a,c,l,u;const h=null!==(t=null==e?void 0:e.appId)&&void 0!==t?t:d.l3,f=null!==(i=null==e?void 0:e.enableTTWid)&&void 0!==i&&i,_=null!==(n=null==e?void 0:e.enableCareered)&&void 0!==n&&n;this._enableCareered=_;const v=window.GATEWAY_INJECTED_WEB_ID,b="string"==typeof v&&Boolean(v);this.tea.init({disable_auto_pv:!0,disable_sdk_monitor:!y.n.enable,channel:this.options.channel,app_id:null!==(o=null==e?void 0:e.appId)&&void 0!==o?o:d.l3,enable_ab_test:null!==(s=null==e||null===(a=e.teaConfig)||void 0===a?void 0:a.enableAbTest)&&void 0!==s&&s,ab_channel_domain:null!==(c=null==e||null===(l=e.teaConfig)||void 0===l?void 0:l.abChannelDomain)&&void 0!==c?c:"",autotrack:{custom:"tea"},disable_webid:b,max_report:30,reportTime:2e3});const T=new URL(window.location.href).searchParams,A=function(){try{return window.gfdatav1||{}}catch(e){return{}}}().ver,S=T.get("open_from_pwa")?1:0,k=(0,m.Gn)()?1:0,C=(0,m.Wo)(),M=document.createElement("canvas").getContext("webgl")instanceof WebGLRenderingContext?"1":"0";if(this.tea.config({enable_ttwebid:f,app_version:A?`1.0.${A.split(".").pop()}`:"",...b?{web_id:v}:{},_staging_flag:this.options.isProd?0:1,...w,evtParams:Object.assign(e.evtParams||{},{open_from_pwa:S,is_pwa:k,pwa_from:C}),custom:{channel:"googleadwords_int"===T.get("ad_platform_id")?"google sem":"direct",url:location.href,lang:this.fixLanguage(p.A.get("capcut_locale")),branch:window._currentBranch,resolution:null!==(u=window._canvas_resolution)&&void 0!==u?u:480,cpu_cores:navigator.hardwareConcurrency,gpu_exist:M,business:e.business}}),b)this._webId=v;else try{const e=(await this.getToken()).web_id;this._webId=e}catch(E){g.Zq.warn("tea","[EventTracker] init getToken failed","get_token_failed",E)}if(f&&!b){const e=new(0,(await r.e(2167).then(r.bind(r,95268))).TtWid)({aid:Number(h),service:location.host,unionHost:this.options.isProd?this.options.ttWidUnionHost:this.options.ttWidUnionHostDev});try{await e.checkWebIdFromTea()}catch(E){g.Zq.warn("tea","[EventTracker] init checkWebIdFromTea failed!","init_checkWebIdFromTea",E)}}var x;(this.lifecycle="mounted",this.flushServerBoomerang(),y.n.enable)?(await(null==e||null===(x=e.configUTParams)||void 0===x?void 0:x.call(e)),await this.setSelfWebId(),this.tea.start(),this._settle()):y.n.once("changed:enable:true",(async()=>{var t;await(null==e||null===(t=e.configUTParams)||void 0===t?void 0:t.call(e)),await this.setSelfWebId(),this.tea.start(),this._settle(),this.handleRefreshAbConfig()}))}auth(e=""){const t={};t.user_is_login=Boolean(e)&&Number(e)>0,t.user_is_login?(t.user_id=e,t.user_unique_id=e):(t.user_id="",t.user_unique_id=void 0);const r=(this.tea.getConfig()||{}).user_id;this._authorized&&r!==t.user_id&&setTimeout((()=>this.emit("changed:user_id")),0),this.tea.config(t),y.n.enable&&this.tea.start(),this.authorized=!0}async setRegion(e=""){e&&(this.tea.config({region:e}),this.handleRefreshAbConfig())}async handleRefreshAbConfig(){var e;if(!(y.n.enable||null!==(e=this.tea)&&void 0!==e&&e.sdkReady))return this.emit("changed:ab_disable"),void(this._abConfig={abDone:!0,abDisable:!0});const t=await this.refreshAbConfig();this.emit("changed:ab_config",{abConfig:t}),this._abConfig={abDone:!0,abDisable:!1}}setEvtParams(e){this.tea.config({evtParams:e})}refreshAbConfig(){return new Promise((e=>{var t,r;null===(t=this.tea)||void 0===t||null===(r=t.getABconfig)||void 0===r||r.call(t,{},e)}))}getVar(e,t){return new Promise((r=>{this.tea.getVar(e,t,r)}))}career(e){void 0!==e&&this.config({custom:{career:e}}),this.careered=void 0!==e}config(e){if(e){if(delete e.user_id,delete e.user_is_login,delete e.user_unique_id,Object.prototype.hasOwnProperty.call(e,"custom")){var t;const r=null===(t=this.tea.getConfig().header)||void 0===t?void 0:t.custom;e.custom={...r||{},...e.custom||{}}}this.tea.config({...e})}}getToken(){return new Promise((e=>{this.tea.getToken(e,300)}))}async getWebId(){if(await this.waitAfterLifecycle("mounted"),!this._webId)try{const e=(await this.getToken()).web_id;this._webId=e}catch(e){g.Zq.warn("tea","[EventTracker] getWebId by getToken failed","get_token_failed",e)}return this._webId}async setSelfWebId(){const e=await this.getWebId();this.config({custom:{web_id:e}})}predefinePageView(){const e={},t=(0,_.UA)(),r=t.isFirstVisitPage,i=t.isSessionStartPage;e.is_first_visit_page=r?1:0,e.is_session_start_page=i?1:0,this.tea.predefinePageView(e)}_report(e,t,r){if(!A(r,this.options.business))return;const i={...d.X9[e],...t},n=e.trim();n&&this.tea.event(n,i)}_reportBecon(e,t,r){if(!A(r,this.options.business))return;const i={...d.X9[e],...t},n=e.trim();n&&this.tea.beconEvent(n,i)}track(e,t,r){this._authorized&&(null!=r&&r.reportByServer?this._reportByServer(e,t,r):y.n.enable&&this._report(e,t,r)),this.trackCb.forEach((r=>{r(e,t)}))}trackerBoomerang(e,t,r){if(null!=r&&r.reportByServer){if(!this._serverReportReady)return void this._serverBoomerangs.push({event:e,params:t,extra:r})}else if(!this._allDone)return void this._boomerangs.push({event:e,params:t,extra:r});this.track(e,t,r)}flushBoomerang(){if(this._allDone){const e=[...this._boomerangs];this._boomerangs.splice(0,this._boomerangs.length);for(const t of e){const e=t.event,r=t.params,i=t.extra;this.track(e,r,i)}}}flushServerBoomerang(){if(this._serverReportReady){const e=[...this._serverBoomerangs];this._serverBoomerangs.splice(0,this._serverBoomerangs.length);for(const t of e){const e=t.event,r=t.params,i=t.extra;this.track(e,r,i)}}}trackerBecon(e,t,r){this.trackCb.forEach((r=>{r(e,t)})),y.n.enable&&this._authorized&&this._reportBecon(e,t,r)}fixLanguage(e){return"es-la"===(null==e?void 0:e.toLowerCase())?"es-ES":e}_reportByServer(e,t,r){if(A(r,this.options.business))try{const r={session_id:this.tea.sessionManager.getSessionId(),...d.X9[e],...t},n=e.trim();if(n){var i;const e=this.tea.getConfig()||{},t=e.header,o=e.user,s={header:t,client_ip:"",params:this.tea.getConfig("evtParams"),user:o};null===(i=this.logicHub)||void 0===i||i.module.effecter.lvApi.eventReport({event_name:n,custom_info:JSON.stringify(s),params:JSON.stringify(r)}).catch((e=>{g.Zq.error("report_by_server","request error",void 0,e)}))}}catch(n){g.Zq.error("report_by_server","logic error",void 0,n)}}},(0,c.A)(a,"instance",null),s=a))||s)||s;const k=S;var C=S},36662:function(e,t,r){"use strict";r.d(t,{n:function(){return o}});var i,n=r(40492);const o=new((0,r(92439).h)(i=class{constructor(){(0,n.A)(this,"_enable",!1)}get enable(){return this._enable}set enable(e){const t=e!==this._enable;this._enable=e,t&&this.emit("changed:enable",e),e?this.emit("changed:enable:true"):this.emit("changed:enable:false")}})||i)},53265:function(e,t,r){"use strict";r.d(t,{PK:function(){return n},PS:function(){return i}});function i(e){return"function"==typeof e.fn}let n=function(e){return e.Editor="editor",e.Tool="tool",e.Template="template",e}({})},58108:function(e,t,r){"use strict";r.d(t,{PU:function(){return i}});r(14148);new Map,new Map;let i=function(e){return e.CLICK_ADD="click_add",e.DRAG_TO_PANEL="drag_to_panel",e.DRAG_TO_CANVA="drag_to_canva",e.DRAG_TO_TRACK="drag_to_track",e.SHORT_KEY="shortkey",e.TTLIVE_AUTHORIZE="ttlive_authorize",e}({})},54079:function(e,t,r){"use strict";async function i(e,t,r="#000000",i="image/png"){const n=document.createElement("canvas");n.width=e,n.height=t;const o=n.getContext("2d");return o.fillStyle=r,o.fillRect(0,0,e,t),new Promise((e=>{n.toBlob((t=>e(t)),i)}))}r.d(t,{L:function(){return i}})},51327:function(e,t,r){"use strict";r.d(t,{AU:function(){return g},qC:function(){return p},sP:function(){return m}});const i=String.fromCharCode(97),n=String.fromCharCode(98),o=String.fromCharCode(99),s=String.fromCharCode(100),a=String.fromCharCode(101),c=String.fromCharCode(102),l=String.fromCharCode(103),u=(String.fromCharCode(104),String.fromCharCode(105),String.fromCharCode(106),String.fromCharCode(107),String.fromCharCode(108),String.fromCharCode(109),String.fromCharCode(110)),h=String.fromCharCode(111),d=(String.fromCharCode(112),String.fromCharCode(113),String.fromCharCode(114),String.fromCharCode(115),String.fromCharCode(116)),f=(String.fromCharCode(117),String.fromCharCode(118),String.fromCharCode(119),String.fromCharCode(120),String.fromCharCode(121)),g=(String.fromCharCode(122),`${n}${f}${d}${a}${s}${i}${u}${o}${a}`),p=`${n}${f}${d}${a}${s}`,m=`${l}${h}${h}${c}${f}`},24070:function(e,t,r){"use strict";r.d(t,{N:function(){return o}});var i=r(83002);const n=e=>{const t=e.userAgent,r=e.platform,i=e.maxTouchPoints;return void 0!==t&&"MacIntel"===r&&"number"==typeof i&&i>1},o=()=>{var e;const t=(null===(e=navigator)||void 0===e?void 0:e.userAgent)||"",r=(0,i.A)(t);let o=r.mobile;const s=r.os,a=void 0===s?"":s,c=t.toLowerCase(),l=/crios/.test(c);let u="other";return/android/.test(c)&&(u="android",o=!0),(/ios/.test(a)||/ipad|iphone|ipod|mac os x/i.test(c))&&(u="apple"),{isMobile:Boolean(o)||n(navigator)||l,mobileType:u}}},89243:function(e,t,r){"use strict";r.d(t,{H1:function(){return n},SC:function(){return s},az:function(){return o}});var i=r(51327);const n=/^\w+\.web\.bytedance\.net$/.test(window.location.host)||/^\S+?boe\.bytedance\.net$/.test(window.location.host)||/^\S?capcut-os\.bytedance\.net$/.test(window.location.host)||window.location.host.endsWith(`.boe.${i.sP}.app`)||window.location.host.includes("localhost")||"127.0.0.1"===window.location.hostname||/^[\d.]+$/.test(window.location.hostname)||!1,o=/^\S+?\.bytedance\.net$/.test(window.location.host),s=window.location.host.split(".")[0].includes("boe");/^\/editor-template\/?/.test(window.location.pathname)||/^\/ssr-editor\//.test(window.location.pathname)},92439:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var i=r(40492),n=r(72579),o=r.n(n);function s(e){class t extends e{constructor(...e){super(...e),(0,i.A)(this,"_event",new(o())),(0,i.A)(this,"on",((...e)=>this._event.on(...e))),(0,i.A)(this,"once",((...e)=>this._event.once(...e))),(0,i.A)(this,"off",((...e)=>this._event.off(...e))),(0,i.A)(this,"emit",((...e)=>this._event.emit(...e)))}}return t.__MARK_DECO__=!0,t}},87759:function(e,t,r){"use strict";r.d(t,{p:function(){return s}});var i=r(40492),n=r(91828),o=r(95366);function s(e){class t extends e{constructor(...e){super(...e),(0,i.A)(this,"_lifecycleStashes",void 0),(0,i.A)(this,"on",((...e)=>{if(e[0].startsWith("lifecycle:")){const t=e[0].replace(/^lifecycle:/,"");this.checkAfterLifecycle(t)&&e[1]&&(0,o.z)((()=>{var t;return null===(t=e[1])||void 0===t?void 0:t.call(e)}))}return this._event.on(...e)})),(0,i.A)(this,"once",((...e)=>{if(e[0].startsWith("lifecycle:")){const t=e[0].replace(/^lifecycle:/,"");if(this.checkAfterLifecycle(t)&&e[1])return(0,o.z)((()=>{var t;return null===(t=e[1])||void 0===t?void 0:t.call(e)})),this._event}return this._event.once(...e)}))}get lifecycleStashes(){return this._lifecycleStashes||(this._lifecycleStashes=new Map),this._lifecycleStashes}get lifecycle(){return this._lifecycle}set lifecycle(e){const t=this.lifecycleStashes.get(e);null!=t&&t.length&&(t.forEach((e=>e())),this.lifecycleStashes.delete(e)),e!==this._lifecycle&&(0,o.z)((()=>this.emit(`lifecycle:${e}`))),this._lifecycle=e}runEnsureLifecycle(e,t){if(this.checkAfterLifecycle(t))return void e();const r=this.lifecycleStashes.get(t);r?r.push(e):this.lifecycleStashes.set(t,[e])}assertBeforeLifecycle(e,t){if(this._lifeSequence[this._lifecycle]>=this._lifeSequence[t])throw new n.J(`${e} must call BEFORE lifecycle changed to \`${t}\`, current is: \`${this._lifecycle}\``)}assetAfterLifecycle(e,t){if(this._lifeSequence[this._lifecycle]<this._lifeSequence[t])throw new n.J(`${e} must call AFTER lifecycle changed to \`${t}\`, current is: \`${this._lifecycle}\``)}checkBeforeLifecycle(e){return this._lifeSequence[this._lifecycle]<this._lifeSequence[e]}checkAfterLifecycle(e){return this._lifeSequence[this._lifecycle]>=this._lifeSequence[e]}async waitAfterLifecycle(e){if(!this.checkAfterLifecycle(e))return new Promise((t=>{this.once(`lifecycle:${e}`,(()=>t()))}))}}return t.__MARK_DECO__=!0,t}},8113:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});const i=e=>t=>async function(...r){performance.mark(`${e}_START`);const i=t.apply(this,r);return await i,performance.mark(`${e}_END`),i}},91828:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});var i=r(40492);class n extends Error{constructor(e,t,r){super(e),(0,i.A)(this,"params",void 0),(0,i.A)(this,"original_error",void 0),(0,i.A)(this,"stack_before",void 0),this.name=this.constructor.name,this.original_error=r,this.stack_before=this.stack;const n=(this.message.match(/\n/g)||[]).length+1;this.stack=`${(this.stack||"").split("\n").slice(0,n+1).join("\n")}\n\n${(null==r?void 0:r.stack)||""}`,this.params=t}}},76916:function(e,t,r){"use strict";r.d(t,{b4:function(){return a},sl:function(){return c}});var i=r(99415),n=r(91828),o=r(94284);function s(e){if(e&&e.status>=200&&e.status<300)return e;throw new n.J(`Unexpected status code: ${e.status}`)}function a(e,t={},r){const i=null!=r?r:{},c=i.delayMs,l=void 0===c?500:c,u=i.numTry,h=void 0===u?2:u,d=i.checkResponse,f=void 0===d?s:d;return e.startsWith("http://")&&(e=e.replace(/^http:\/\//,"https://")),fetch(e,t).then(f).catch((async r=>{if(!(r instanceof DOMException&&"AbortError"===r.name)){const i=h-1;if(i<=0)throw console.warn("fetch-retry no more retry times, url:",e,", error:",r),new n.J(r.message,[e,t],r);return console.warn("fetch-retry url:",e,", will retry:",i,", error:",r),await(0,o.y)(l),await a(e,t,{delayMs:l,numTry:i})}console.warn(`fetch ${e} has been aborted`)}))}async function c(e,t={},{onProgress:r}={}){var n,o;const s=await a(e,t);if(!(s.status>=200&&s.status<300)){const t=new Error(`Request status(${s.status}): ${e}`);throw t.response=t,t}const c=s.body,l=s.headers,u=Number(null!==(n=null!==(o=l.get("Content-Length"))&&void 0!==o?o:l.get("Media-Length"))&&void 0!==n?n:0);if(!c||!u)return s;let h=0;const d=new Response(new ReadableStream({start(e){const t=c.getReader();return function i(){return t.read().then((({done:t,value:n})=>{if(!t)return e.enqueue(n),h+=n.byteLength,null==r||r(h/u),i();e.close()}))}()}}),{status:s.status,statusText:s.statusText});for(const a of s.headers.entries()){var f=(0,i.A)(a,2);const e=f[0],t=f[1];d.headers.set(e,t)}return d}},87549:function(e,t,r){"use strict";function i(e,t=!0){var r;let i=null===(r=performance.getEntriesByName(e))||void 0===r?void 0:r[0];if(!i&&t){const t=e.split("/").pop();t&&(i=performance.getEntries().find((e=>e.name.includes(t))))}return i&&void 0!==i.transferSize?0===i.transferSize?"browser":"none":"unknown"}r.d(t,{$:function(){return i}})},43107:function(e,t,r){"use strict";var i,n=r(40492),o=r(92439);let s=(0,o.h)(i=class{get startAt(){return this._startAt}get finishAt(){return this._finishAt}get spendTime(){return-1===this._finishAt||-1===this._startAt?-1:this._finishAt-this._startAt}get timeout(){return this._timeout}get name(){return this._name}get categories(){return this._categories}get metrics(){return this._metrics}get contents(){return this._contents}set status(e){const t=e!==this._status;this._status=e,t&&this.emit("changed:status",e,this),"start"===this._status&&t&&this._start(),"success"!==this._status&&"failed"!==this._status||(-1===this._finishAt&&(this._finishAt=Date.now()),void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0))}get status(){return this._status}constructor(e){(0,n.A)(this,"_startAt",-1),(0,n.A)(this,"_finishAt",-1),(0,n.A)(this,"_timeout",void 0),(0,n.A)(this,"_name",void 0),(0,n.A)(this,"_categories",void 0),(0,n.A)(this,"_metrics",void 0),(0,n.A)(this,"_contents",void 0),(0,n.A)(this,"_timer",void 0),(0,n.A)(this,"_status","wait");const t=e.name,r=e.startImmediately,i=void 0===r||r,o=e.timeout,s=e.categories,a=e.metrics,c=e.contents;this._name=t,this._timeout=o||12e4,this._categories=null!=s?s:{},this._metrics=null!=a?a:{},this._contents=null!=c?c:{},i&&(this._status="start",this._start())}_start(){this._startAt=Date.now(),this._timeout&&!this._timer&&(this._timer=setTimeout((()=>{this.status="timeout",this._timer&&(clearTimeout(this._timer),this._timer=void 0)}),this._timeout))}compound(e,{categories:t,metrics:r,contents:i}={}){return Object.assign(this._categories,t),Object.assign(this._metrics,r),Object.assign(this._contents,i),this.status=e,this}summarize(){const e=-1===this._finishAt?Date.now():this._finishAt;return{name:this.name,metrics:{...this.metrics,spend_time:e-this.startAt},categories:{...this.categories,status:this.status,content:this.contents?JSON.stringify(this.contents):void 0}}}})||i;t.A=s},42615:function(e,t,r){"use strict";r.d(t,{jo:function(){return n},qD:function(){return o}});const i=(e,t={})=>{if(!e)return;performance.getEntriesByName(e).length||performance.mark(e,{detail:t})},n=(e,t={})=>{e&&i(`${e}_START`,t)},o=(e,t={})=>{e&&i(`${e}_END`,t)}},8800:function(e,t,r){"use strict";r.d(t,{Yi:function(){return u}});var i=r(87483),n=r.n(i);let o,s=function(e){return e.OSX="osx",e.WINDOWS="windows",e}({});const a=()=>{var e,t;if(o)return o;const r=null!==(e=null===(t=n().os)||void 0===t||null===(t=t.family)||void 0===t?void 0:t.toLowerCase().replace(/ /g,""))&&void 0!==e?e:"";return o=/\bwin/.test(r)?`${s.WINDOWS}`:/darwin|osx/.test(r)?`${s.OSX}`:`${s.WINDOWS}`,o};let c;a(),s.OSX;const l=a()===`${s.WINDOWS}`,u=((()=>{var e,t;if(c)return c;const r=null!==(e=null===(t=n().os)||void 0===t||null===(t=t.family)||void 0===t?void 0:t.toLowerCase().replace(/ /g,""))&&void 0!==e?e:"";c=/\bwin/.test(r)?`${s.WINDOWS}`:/darwin|osx/.test(r)?`${s.OSX}`:"linux"})(),l?1024:1e3)},94284:function(e,t,r){"use strict";function i(e,t){return new Promise(((r,i)=>setTimeout(t?()=>i(t):r,e)))}r.d(t,{y:function(){return i}})},83194:function(e,t,r){"use strict";function i(e,t){return String(e).padStart(t,"0")}r.d(t,{dX:function(){return o}});const n=(0,r(71743).A)(/(\??h+)?((.)(\??m+))?((.)(\??s+))?((.)((ms)+))?((.)((f)+))?/,{h:1,dm:3,m:4,ds:6,s:7,dms:9,ms:10,df:13,f:14});function o(e,t="?hh:mm:ss",r=30,o=!1){var s;const a=(null===(s=n.exec(t))||void 0===s?void 0:s.groups)||{},c=a.h,l=a.m,u=a.dm,h=void 0===u?"":u,d=a.s,f=a.ds,g=void 0===f?"":f,p=a.ms,m=a.dms,_=void 0===m?"":m,y=a.f,v=a.df,b=void 0===v?"":v;let w=e,T="";if(y){T=`${i(Math.round(w%1e3/1e3*r),y.replace(/^\?/,"").length)}`}if(p&&(T=`${i(w%1e3,p.replace(/^\?/,"").length/2)}${b}${T}`),w=Math.floor(w/1e3),d){const e=w%60;!e&&d.startsWith("?")||(T=`${i(e,d.replace(/^\?/,"").length)}${_||b}${T}`)}if(w=Math.floor(w/60),l){let e=w%60;if(o&&(e=w>9999?"9999+":w),!e&&l.startsWith("?")||(T=`${i(e,l.replace(/^\?/,"").length)}${g}${T}`),o)return T}if(w=Math.floor(w/60),c){const e=w;!e&&c.startsWith("?")||(T=`${i(e,c.replace(/^\?/,"").length)}${h}${T}`)}return T}},29089:function(e,t,r){"use strict";function i(e,t){const r=Object.entries(t).map((([e,t])=>null==t?"":`${e}=${encodeURIComponent(t)}`)).filter(Boolean),i=e.includes("?")?"&":"?";return e+i+r.join("&")}r.d(t,{EZ:function(){return i}})},95366:function(e,t,r){"use strict";r.d(t,{yL:function(){return n},z:function(){return i}});const i=e=>setTimeout(e,0),n=e=>Boolean(e)&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then},16940:function(e,t,r){"use strict";r.d(t,{AY:function(){return f},Ay:function(){return d}});var i=r(40492),n=r(72579),o=r.n(n),s=r(59448);const a="data",c="capture_start",l="capture_progress",u="capture_end";class h{constructor(){(0,i.A)(this,"_video",void 0),(0,i.A)(this,"_canvas",document.createElement("canvas")),(0,i.A)(this,"_ctx",this._canvas.getContext("2d")),(0,i.A)(this,"_screenshotting",!1),(0,i.A)(this,"_cache",[]),(0,i.A)(this,"_promise",void 0),(0,i.A)(this,"_resolve",void 0),(0,i.A)(this,"_reject",void 0),(0,i.A)(this,"_captureStart",void 0),(0,i.A)(this,"_captureEnd",void 0),(0,i.A)(this,"_countCurrent",void 0),(0,i.A)(this,"_countTotal",void 0),(0,i.A)(this,"_outputType",void 0),(0,i.A)(this,"_canvasSize",void 0),(0,i.A)(this,"_ee",new(o())),(0,i.A)(this,"addListener",this._addListener.bind(this)),(0,i.A)(this,"on",this.addListener),(0,i.A)(this,"removeListener",this._removeListener.bind(this)),(0,i.A)(this,"off",this.removeListener),(0,i.A)(this,"emit",this._emit.bind(this)),(0,i.A)(this,"_capture",(()=>{const e=this._video,t=this._canvas,r=this._ctx;t.width=this._canvasSize.width,t.height=this._canvasSize.height,r.drawImage(e,0,0,e.videoWidth,e.videoHeight,0,0,t.width,t.height)})),(0,i.A)(this,"_captureToBase64",(()=>(this._capture(),this._canvas.toDataURL("image/png")))),(0,i.A)(this,"_captureToBlob",(async()=>(this._capture(),new Promise(((e,t)=>{this._canvas.toBlob((r=>r?e(r):t(new Error("[_captureToBlob] unknown error"))),"image/png")}))))),(0,i.A)(this,"_captureToObjectURL",(async()=>URL.createObjectURL(await this._captureToBlob()))),(0,i.A)(this,"_captureToArrayBuffer",(async()=>(await this._captureToBlob()).arrayBuffer())),(0,i.A)(this,"_captureToImageData",(()=>{this._capture();const e=this._canvas.getContext("2d");if(!e)throw new Error("[_captureToImageData] cant getContext");return e.getImageData(0,0,this._canvas.width,this._canvas.height)})),(0,i.A)(this,"_makeOutput",(async()=>{switch(this._outputType){case s.YY.Base64:return{dataUrl:this._captureToBase64()};case s.YY.ObjectURL:return{url:await this._captureToObjectURL()};case s.YY.ArrayBuffer:return{buffer:await this._captureToArrayBuffer()};case s.YY.ImageData:return{imageData:this._captureToImageData()}}throw new Error("unknown outputType")})),(0,i.A)(this,"_screenshot",(async e=>(this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),this._video.currentTime=e,this._promise))),(0,i.A)(this,"_listener",(async e=>{if(this._screenshotting)try{var t;const r={timestamp:e.target.currentTime,...await this._makeOutput()};this._cache.push(r),null===(t=this._resolve)||void 0===t||t.call(this,void 0)}catch(i){var r;console.warn("shot-line meets error:",i),null===(r=this._reject)||void 0===r||r.call(this,i)}}))}_addListener(e,t){return this._ee.addListener(e,t)}_removeListener(e,t){return this._ee.removeListener(e,t)}_emit(e,...t){return this._ee.emit(e,...t)}_compressCanvasSize(e){let t,r;if(e)if("number"==typeof e.width&&e.width>0)t=e.width,r=t*this._video.videoHeight/this._video.videoWidth;else if("number"==typeof e.height&&e.height>0){r=e.height,t=r*this._video.videoWidth/this._video.videoHeight}else t=this._video.videoWidth,r=this._video.videoHeight;else t=this._video.videoWidth,r=this._video.videoHeight;return{width:t,height:r}}async run(e){var t;let r,i,n,o,h;if(this._captureStart=new Date,this.emit(c,{event:c,start:this._captureStart.getTime(),end:void 0,current:void 0,total:void 0}),(0,s.zN)(e.input)||(0,s.zM)(e.input))r=e.input.url;else if((0,s.Zk)(e.input))r=URL.createObjectURL(e.input.file);else{if(!(0,s.Cd)(e.input))throw new Error("unrecognized input type or input parameter mismatch!");r=URL.createObjectURL(new Blob([e.input.buffer]))}if(!((0,s.HK)(e.output)||(0,s.Yh)(e.output)||(0,s.dx)(e.output)||(0,s.bR)(e.output)))throw new Error("unrecognized output type!");this._outputType=e.output.type,this._screenshotting=!0,this._video=document.createElement("video"),this._video.crossOrigin="anonymous",this._video.src=new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(r,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),this._video.addEventListener("seeked",this._listener);try{await new Promise(((e,t)=>{o=e,h=t,this._video.addEventListener("canplay",e),this._video.addEventListener("error",t)}))}catch(_){throw this._screenshotting=!1,this._video.removeEventListener("seeked",this._listener),delete this._video,_}finally{var d,f;null===(d=this._video)||void 0===d||d.removeEventListener("canplay",o),null===(f=this._video)||void 0===f||f.removeEventListener("error",h)}this._canvasSize=this._compressCanvasSize(e.compress);const g=this._video.duration,p=[];if((0,s.jg)(e.run)){i=e.run.interval,this._countTotal=Math.ceil(1e3*g/e.run.interval);for(let e=0;e<g;e+=i/1e3)p.push(e)}else if((0,s.RH)(e.run)){const t=e.run.totalCount;this._countTotal=t,i=Number(Math.min(g/(t-1),g).toFixed(1));for(let e=0;e<t;++e)p.push(e*i)}else{if(!(0,s.QI)(e.run))throw this._screenshotting=!1,this._video.removeEventListener("seeked",this._listener),delete this._video,new Error("unrecognized run type!");p.push(...e.run.keyFrames.map((e=>e/1e3))),this._countTotal=p.length}this._cache=[],this._countCurrent=0;for(const s of p)await this._screenshot(s),this._countCurrent===this._countTotal-2&&(n=new Date),this.emit(l,{event:l,start:this._captureStart.getTime(),end:n?n.getTime():void 0,current:this._countCurrent,total:this._countTotal}),this.emit(a,{screenshot:this._cache[this._cache.length-1],event:a,start:this._captureStart.getTime(),end:n?n.getTime():void 0,current:this._countCurrent,total:this._countTotal}),++this._countCurrent;const m=this._cache;return this._screenshotting=!1,this._video.removeEventListener("seeked",this._listener),delete this._video,this._cache=[],this._captureEnd=null!==(t=n)&&void 0!==t?t:new Date,this.emit(u,{event:u,start:this._captureStart.getTime(),end:this._captureEnd.getTime(),current:this._countCurrent,total:this._countTotal}),m}}async function d(e){const t=new h;let r,i;(e={...e}).callbacks&&("function"==typeof e.callbacks.progress&&(r=e.callbacks.progress,t.addListener(c,r),t.addListener(l,r),t.addListener(u,r)),"function"==typeof e.callbacks.data&&(i=e.callbacks.data,t.addListener(a,i)),delete e.callbacks);const n=await t.run(e);return r&&(t.removeListener(c,r),t.removeListener(l,r),t.removeListener(u,r)),i&&t.removeListener(a,i),n}function f(e){return d({run:{type:s._w.keyFrame,keyFrames:[0]},...e})}},59448:function(e,t,r){"use strict";r.d(t,{Cd:function(){return c},HK:function(){return u},QI:function(){return m},RH:function(){return p},YY:function(){return o},Yh:function(){return h},Zk:function(){return s},_w:function(){return i},bR:function(){return f},dx:function(){return d},fl:function(){return n},jg:function(){return g},zM:function(){return l},zN:function(){return a}});let i=function(e){return e[e.interval=0]="interval",e[e.totalCount=1]="totalCount",e[e.keyFrame=2]="keyFrame",e}({}),n=function(e){return e[e.File=0]="File",e[e.ObjectURL=1]="ObjectURL",e[e.ArrayBuffer=2]="ArrayBuffer",e[e.CdnURL=3]="CdnURL",e}({}),o=function(e){return e[e.Base64=0]="Base64",e[e.ObjectURL=1]="ObjectURL",e[e.ArrayBuffer=2]="ArrayBuffer",e[e.ImageData=3]="ImageData",e}({});function s(e){return e.type===n.File&&e.file instanceof File}function a(e){return e.type===n.ObjectURL&&Boolean(e.url)}function c(e){return e.type===n.ArrayBuffer&&Boolean(e.buffer)}function l(e){return e.type===n.CdnURL&&Boolean(e.url)}function u(e){return e.type===o.Base64}function h(e){return e.type===o.ObjectURL}function d(e){return e.type===o.ArrayBuffer}function f(e){return e.type===o.ImageData}function g(e){return e.type===i.interval&&e.interval>0}function p(e){return e.type===i.totalCount&&e.totalCount>0}function m(e){return e.type===i.keyFrame&&Array.isArray(e.keyFrames)}},85006:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});var i=r(64977);async function n(e,{mimeType:t}){const r=new Blob([e],{type:t}),n=URL.createObjectURL(r);try{return await(0,i.b)(n)}finally{URL.revokeObjectURL(n)}}},64977:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});var i=r(99415);async function n(e,{attrs:t={}}={}){return new Promise(((r,n)=>{const o=new Image;for(const e of Object.entries(t)){var s=(0,i.A)(e,2);const t=s[0],r=s[1];o[t]=r}o.onload=()=>r(o),o.onerror=(e,t,r,i,o)=>{n(o)},o.src=new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}))}},3317:function(e,t,r){"use strict";function i(e){const t=[];if(!isFinite(e))return t;for(let r=0;r<e/33.333333;++r)t.push(Math.floor(1e3*Math.pow(Math.random(),.25))/1e3);return t}r.d(t,{j:function(){return i}})},19974:function(e,t,r){"use strict";function i(e){return"number"==typeof(null==e?void 0:e.width)&&e.width>0}function n(e){return"number"==typeof(null==e?void 0:e.height)&&e.height>0}r.d(t,{B:function(){return l}});var o=r(85006);const s=12e3;async function a(e,{mimeType:t},{compress:r,thresholdBlockSize:a}){return function(e,t,{compress:r,thresholdBlockSize:o}){let a,c;i(r)?(a=r.width,c=a*e.naturalHeight/e.naturalWidth):n(r)?(c=r.height,a=c*e.naturalWidth/e.naturalHeight):(a=e.naturalWidth,c=e.naturalHeight);const l=e.naturalWidth/a,u=[],h=a>s?Math.floor(s/o.width)*o.width:a,d=c>s?Math.floor(s/o.height)*o.height:c,f=Math.ceil(a/h),g=Math.ceil(c/d);for(let i=0;i<g;++i){const t=i===g-1?c-(g-1)*d:d;u[i]=[];for(let r=0;r<f;++r){const n=r===f-1?a-(f-1)*h:h,o=document.createElement("canvas");o.width=n,o.height=t;const s=o.getContext("2d");if(!s)throw new Error("[htmlImage2CanvasThresholdSync] create context failed!");s.drawImage(e,h*l*r,d*l*i,n*l,t*l,0,0,n,t),u[i][r]=o}}return u}(await(0,o.L)(e,{mimeType:t}),0,{compress:r,thresholdBlockSize:a})}const c=(e,t,r,i,n)=>{const o=e.getContext("2d");if(!o)throw new Error("[split2D] get context failed!");for(let s=0;s*r<e.height;s++)for(let a=0;a*t<e.width;a++)if(n.length<i){const e=o.getImageData(a*t,s*r,t,r);n.push({imageData:e})}};async function l(e,{mimeType:t,x:r,y:o,count:s},{compress:l,thresholdBlockSize:u}){var h;let d;void 0!==l&&(i(l)?d={width:l.width*r}:n(l)&&(d={height:l.height*o}));const f=await a(e,{mimeType:t},{compress:d,thresholdBlockSize:u});if(!f.length||null==f||null===(h=f[0])||void 0===h||!h[0])throw new Error("[split2D] no canvas generated");const g=f[0].reduce(((e,t)=>e+t.width),0)/r,p=f.reduce(((e,t)=>e+t[0].height),0)/o,m=[];for(const i of f)for(const e of i)c(e,g,p,s,m);return m}},29478:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});var i=r(64977);async function n(e){const t=await(0,i.b)(e);return{width:t.naturalWidth,height:t.naturalHeight}}},8610:function(e,t,r){"use strict";r.d(t,{$n:function(){return i},qF:function(){return n}});const i=100,n=100},24595:function(e,t,r){"use strict";function i(e){let t;return t=e>=72e6?e/36e5:e>=36e6?2e4:e>=18e6?1e4:e>=36e5?5e3:e>=18e5?3e3:e>=6e5?2e3:e>=6e4?1e3:e>=1e4?500:e>=5e3?125:100,t}r.d(t,{r:function(){return i}})},8249:function(e,t,r){"use strict";var i=r(22857),n=r(38e3);function o(e){return e.replace("&amp;","&")}t.A=({title:e="",description:t="",keywords:r="",canonical:s=!0,changeReady:a=!0})=>{const c=o(e),l=o(t),u=o(r);return(0,n.jsxs)(i.m,{children:[c&&(0,n.jsx)("title",{children:c}),l&&(0,n.jsx)("meta",{name:"description",content:l}),u&&(0,n.jsx)("meta",{name:"keywords",content:u}),a&&(0,n.jsx)("meta",{name:"x-custom-title-ready",content:a.toString()}),s&&(0,n.jsx)("link",{rel:"canonical",href:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(location.origin+location.pathname,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})})]})}},78106:function(e,t,r){"use strict";r.d(t,{A:function(){return h}});var i=r(99415),n=r(67308),o=r(30395),s=r.n(o),a=r(60710),c=r(63719),l=r(38e3);const u=({src:e="",draggable:t=!1,alt:r="",phType:o,className:u,wrapperStyle:h,withCredentials:d=!1,onLoad:f,loading:g,imageLoadingStyle:p={visibility:"hidden"},style:m,loader:_,fallbackImgSrc:y,onError:v,...b})=>{const w=(0,n.useState)(!1),T=(0,i.A)(w,2),A=T[0],S=T[1],k=(0,n.useRef)(!1),C=(0,n.useRef)(null),M=(0,n.useRef)([]),x=(0,n.useState)(e),E=(0,i.A)(x,2),L=E[0],I=E[1],R=(0,n.useMemo)((()=>_||("music"===o?(0,l.jsx)("div",{className:"loader-music",children:(0,l.jsx)(c.Ahn,{})}):"sound"===o?(0,l.jsx)("div",{className:"loader-music",children:(0,l.jsx)(c.ugv,{})}):null)),[_]);return(0,n.useEffect)((()=>{var e;null!==(e=C.current)&&void 0!==e&&e.complete&&L&&S(!0)}),[L]),(0,a.A)((()=>{e===L||M.current.includes(e)||(I(e),k.current=!1)}),[e]),(0,l.jsxs)("div",{className:s()("image-wrapper",u),style:h,children:[A?null:R,(0,l.jsx)("img",{ref:C,className:"image",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(L,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),draggable:t,alt:r,crossOrigin:d?"use-credentials":"anonymous",style:A?m:{...m,...p},onLoad:e=>{S(!0),null==f||f(e)},onError:e=>{M.current.push(L),k.current||(null==v||v(e),k.current=!0,y&&(S(!1),I(y)))},loading:g,...b})]})};var h=(0,n.memo)(u)},61750:function(e,t,r){"use strict";e.exports=r.p+"static/media/vesdk-lvapi.acae7731.js"},66831:function(e,t,r){"use strict";e.exports=r.p+"static/media/vesdk-lvapi.0d47b466.wasm"},5352:function(e,t,r){"use strict";e.exports=r.p+"static/media/vesdk-lvapi.worker.a66d8202.js"},67418:function(e,t,r){"use strict";e.exports=r.p+"static/media/vesdk-lvapi-opt.ea9f8e63.js"},33907:function(e,t,r){"use strict";e.exports=r.p+"static/media/vesdk-lvapi-opt.ba1a6be3.wasm"},83748:function(e,t,r){"use strict";e.exports=r.p+"static/media/vesdk-lvapi-opt.worker.12fa6a89.js"},57167:function(){},24333:function(){}}]);
//# sourceMappingURL=main-d00dba5c.39a630b8.js.map