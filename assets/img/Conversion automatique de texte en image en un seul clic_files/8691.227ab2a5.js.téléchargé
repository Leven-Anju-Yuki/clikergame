/*! For license information please see 8691.227ab2a5.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var i=/[^a-zA-Z0-9\\_:.-]/gim,r=/</g,o=/>/g,a=/&#([a-zA-Z0-9]*);?/gim,s=/&quot;/g,c=/&colon;?/gim,u=/&newline;?/gim,l=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,f=/u\s*r\s*l\s*\(.*/gi,h=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,p=/"/g,g=function(e){return e.replace(r,"&lt;").replace(o,"&gt;")},d={indexOf:function(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},some:function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(e){return e instanceof Array},includes:function(e,t){if("string"==typeof e)return-1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],i=0;i<e.length;i++)t[e[i]]||(n.push(e[i]),t[e[i]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function v(e){return null==e}function m(e){var t,n=d.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=d.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function y(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}return-1}function _(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}return-1}function b(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}function w(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}return-1}function S(e){var t,n,i,r,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",l=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e);l<e.length;)r=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(n=e.charCodeAt(l++))>>4,a=(15&n)<<2|(i=e.charCodeAt(l++))>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),u=u+c.charAt(r)+c.charAt(o)+c.charAt(a)+c.charAt(s);return u}function E(e){var t,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(r=s.indexOf(e.charAt(u++)))>>4,n=(15&r)<<4|(o=s.indexOf(e.charAt(u++)))>>2,i=(3&o)<<6|(a=s.indexOf(e.charAt(u++))),c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(n)),64!==a&&(c+=String.fromCharCode(i));return c=function(e){for(var t="",n=0,i=0,r=0,o=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),r=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&r),n+=3);return t}(c),c}function k(e){return"</"===e.slice(0,2)}function O(e,t,n){var i="",r=0,o=!1,a=!1,s=0,c=e.length,u="",l="";e:for(s=0;s<c;s++){var f=e.charAt(s);if(!1===o){if("<"===f){o=s;continue}}else if(!1===a){if("<"===f){i+=n(e.slice(r,s)),o=s,r=s;continue}if(">"===f||s===c-1){i+=n(e.slice(r,o)),u=m(l=e.slice(o,s+1)),i+=t(o,i.length,u,l,k(l)),r=s+1,o=!1;continue}if('"'===f||"'"===f)for(var h=1,p=e.charAt(s-h);""===p.trim()||"="===p;){if("="===p){a=f;continue e}p=e.charAt(s-++h)}}else if(f===a){a=!1;continue}}return r<c&&(i+=n(e.substr(r))),i}function A(e,t){var n=0,r=0,o=[],a=!1,s=e.length;function c(e,n){if(!((e=(e=d.trim(e)).replace(i,"").toLowerCase()).length<1)){var r=t(e,n||"");r&&o.push(r)}}for(var u=0;u<s;u++){var l=e.charAt(u),f=void 0;if(!1!==a||"="!==l)if(!1===a||u!==r){if(/\s|\n|\t/.test(l)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(f=y(e,u))){c(d.trim(e.slice(n,u))),a=!1,n=u+1;continue}u=f-1;continue}if(-1===(f=_(e,u-1))){c(a,b(d.trim(e.slice(n,u)))),a=!1,n=u+1;continue}}}else{if(-1===(f=e.indexOf(l,u+1)))break;c(a,d.trim(e.slice(r+1,f))),a=!1,n=(u=f)+1}else a=e.slice(n,u),n=u+1,r='"'===e.charAt(n)||"'"===e.charAt(n)?n:w(e,u+1)}return n<e.length&&(!1===a?c(e.slice(n)):c(a,b(d.trim(e.slice(n))))),d.trim(o.join(" "))}function R(e,t,n){if(n=function(e){return function(e){for(var t="",n=0,i=e.length;n<i;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return d.trim(t)}(e=function(e){return e.replace(c,":").replace(u," ")}(e=function(e){return e.replace(a,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}(e=function(e){return e.replace(s,'"')}(e))))}(n),"href"===t||"src"===t){if("#"===(n=d.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(l.lastIndex=0,l.test(n))return""}else if("style"===t){if(h.lastIndex=0,h.test(n))return"";if(f.lastIndex=0,f.test(n)&&(l.lastIndex=0,l.test(n)))return""}return function(e){return e=function(e){return e.replace(p,"&quot;")}(e),g(e)}(n)}var x=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},I=function(){function e(e){var t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=R,t.escapeHtml=g,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,i=t.onTag,r=t.onIgnoreTag,o=t.onTagAttr,a=t.onIgnoreTagAttr,s=t.safeAttrValue,c=t.escapeHtml;t.stripBlankChar&&(e=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")}(e)),t.allowCommentTag||(e=function(e){for(var t="",n=0;n<e.length;){var i=e.indexOf("\x3c!--",n);if(-1===i){t+=e.slice(n);break}t+=e.slice(n,i);var r=e.indexOf("--\x3e",i);if(-1===r)break;n=r+3}return t}(e));var u=!1;t.stripIgnoreTagBody&&(u=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),i=[],r=!1;return{onIgnoreTag:function(o,a,s){if(function(t){return!!n||-1!==d.indexOf(e,t)}(o)){if(s.isClosing){var c="[/removed]",u=s.position+10;return i.push([!1!==r?r:s.position,u]),r=!1,c}return r||(r=s.position),"[removed]"}return t(o,a,s)},remove:function(e){var t="",n=0;return d.forEach(i,(function(i){t+=e.slice(n,i[0]),n=i[1]})),t+=e.slice(n)}}}(t.stripIgnoreTagBody,r),r=u.onIgnoreTag);var l=O(e,(function(e,t,u,l,f){var h={sourcePosition:e,position:t,isClosing:f,isWhite:Object.prototype.hasOwnProperty.call(n,u)},p=i(u,l,h);if(!v(p))return p;if(h.isWhite){if(h.isClosing)return"</".concat(u,">");var g=function(e){var t=d.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=d.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=d.trim(e.slice(0,-1))),{html:e,closing:n}}(l),m=n[u],y=A(g.html,(function(e,t){var n=-1!==d.indexOf(m,e),i=o(u,e,t,n);return v(i)?n?(t=s(u,e,t,null))?"".concat(e,'="').concat(t,'"'):e:v(i=a(u,e,t,n))?void 0:i:i}));return l="<".concat(u),y&&(l+=" ".concat(y)),g.closing&&(l+=" /"),l+">"}return v(p=r(u,l,h))?c(l):p}),c);return u&&(l=u.remove(l)),l},e}(),T=!0,C=function(e){return e&&e.Math==Math&&e},P=C("object"==typeof globalThis&&globalThis)||C("object"==typeof window&&window)||C("object"==typeof self&&self)||C("object"==typeof global&&global)||Function("return this")();try{!0!==(T=!!(T=String(T)).startsWith("<%=")||JSON.parse(T))&&"true"!==T||(P=new Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var L=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,n,i="cc_web";if(!d.includes(i,"bid"))return i;if(e.config&&e.config.bid)return e.config.bid;var r=P;if(r&&r._xssBid)return r._xssBid;if(r&&r.slardar&&"function"==typeof r.slardar.config){var o=(r.slardar.config()||{}).bid;if(o)return o}if(r&&r.Slardar&&"function"==typeof r.Slardar.config){var a=(r.Slardar.config()||{}).bid;if(a)return a}return(null===(n=null===(t=null==r?void 0:r.Slardar)||void 0===t?void 0:t._baseParams)||void 0===n?void 0:n.bid)||"argus"},this.getConfigRegion=function(){var t;return d.includes("va","region")?e.config&&e.config.region?e.config.region:((null===(t=null==P?void 0:P.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"va"},this.gerReportUrl=function(){var t={cn:E("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:E("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:E("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:E("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:E("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:E("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:E("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseReport){var t=!1;t=String(t);try{if(!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)return}catch(e){console.log(e)}var n=this.gerReportUrl();!this.lock&&n&&0!==this.batchData.length&&(this.lock=!0,setTimeout((function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),P.fetch(n,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch((function(e){console.warn("xss defense report error",e)})),e.lock=!1,e.upload()}),this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t,n=this.generateKey(e);if(P.fetch&&e.collectKey){var i=(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.href)||"SSR";e.documentUrl=i;var r={age:Math.floor(Date.now()),type:"xss",url:i,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==i||(r.url=n),"SSR"===i&&(r.url="SSR___".concat(r.url),r.body.ssr=!0),this.push(r)}},e}());function D(e,t){return L.setConfig(t),new I(t).process(e)}var N=function(e){return-1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,(function(e,t,n,i){return String.fromCharCode(t?parseInt(n,16):parseInt(i))})).replace(/(\t|\n|\r)/g,"").toLowerCase()};function M(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=N(e),d.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!d.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var n=["expression(","behavior:","view-source:"];if(d.some(n,(function(t){return-1!==e.indexOf(t)})))return d.forEach(n,(function(n){-1!==e.indexOf(n)&&t&&t(n)})),!1;var i=["data:application","data:javascript","data:text/html","data:texthtml"];if(d.some(i,(function(t){return-1!==e.indexOf(t)})))return d.forEach(i,(function(n){-1!==e.indexOf(n)&&t&&t(n)})),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var r=e.slice(11).replace(/\s/g,"").trim();return!!d.some(["void","void(0)","void0","false","undefined",";"],(function(e){return e===r}))||(t&&t("javascript:"),!1)}return!0}var z=function(e,t){var n,i,r=!1;if(r=String(r),"string"!=typeof e)return e;if(n=e,i=Number(-1),"NaN"!==n.toString()&&-1!==i&&n.length>=i)return e;if(M(e,t))return e;try{if(!0===(r=!r.startsWith("<%=")&&JSON.parse(r))||"true"===r){var o=new URL(e);return o.origin+o.pathname}}catch(e){return console.log(e),"#"}return"#"};function j(e,t,i){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!M(e=N(e)))return!1;var r=function(e){var t=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[];return{url:t[0],scheme:t[1],slash:t[2],host:t[3],port:t[4],path:t[5],query:t[6],hash:t[7]}}(e),o=r.scheme,a=r.host;return i?Boolean(i(e)):!(!o||!a)&&(!d.includes(["http","https","file"],o)||("object"==typeof window&&window&&(t=n(n([],t,!0),[location.host],!1)),d.some(t,(function(e){return!!(e instanceof RegExp&&e.test(a))||e===a}))))}var G=j,U=j,B=function(e,t){for(var n={},i=0,r=d.keys(e);i<r.length;i++){var o=r[i];Array.isArray(e[o])?n[o]=d.from(e[o]):n[o]=B({},e[o])}for(var a=0,s=d.keys(t);a<s.length;a++)(o=s[a])in e?Array.isArray(e[o])?n[o]=e[o].concat(t[o]):n[o]=B(e[o],t[o]):Array.isArray(t[o])?n[o]=d.from(t[o]):n[o]=B({},t[o]);return n},F={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var V={};V.blackAttrRegExps&&(V.blackAttrRegExps=V.blackAttrRegExps.map((function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))})));var K="merge";d.includes(K,"override")&&(F=V),d.includes(K,"merge")&&(F=B(F,V))}catch(e){console.log(e)}var W,H={mode:"black",whiteList:{},blackConfig:F,collect:null,initCollect:function(){H.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,n=function(n){Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=d.from(d.uniq(e[n])),t+=e[n].length):0===d.keys(e[n]).length?delete e[n]:d.keys(e[n]).forEach((function(i){e[n][i]=d.from(d.uniq(e[n][i])),t+=e[n][i].length}))},i=0,r=d.keys(e);i<r.length;i++)n(r[i]);return{count:t,ret:e}}(H.collect),t=e.count,n=e.ret;return H.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},onIgnoreTag:function(e,t){var n;if(!d.includes(F.blackTags,e)){var i=O(t,(function(e,t,n,i,r){if(-1!==n.indexOf("/"))return g(i);if(r)return"</".concat(n,">");var o=function(e){var t,n=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=e.slice(n+1,-1).trim())[e.length-1];return i&&(e=e.slice(0,-1).trim()),{html:e,closing:i}}(i),a=A(o.html,(function(e,t){var i,r=0;if(F.blackList[n]&&d.includes(F.blackList[n],e)&&(H.collect.blackList[n]=H.collect.blackList[n]||[],H.collect.blackList[n].push(e),r++),F.blackAttrRegExps.length&&F.blackAttrRegExps.some((function(t){return t.test(e)}))&&d.forEach(F.blackAttrRegExps,(function(t){t.test(e)&&(H.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),r++)})),F.blackAttrs.length&&d.includes(F.blackAttrs,e)&&(F.blackAttrs.push(e),r++),!r){if(F.filterList&&F.filterList[n]&&d.includes(F.filterList[n],e)){var o=z(t,(function(e){var t;null===(t=H.collect)||void 0===t||t.filterProtocol.push(e)}));return o!==t&&(H.collect.filterList[n]=H.collect.filterList[n]||[],H.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(o,"'"):e}return F.filterAttrs&&d.includes(F.filterAttrs,e)?(o=z(t,(function(e){var t;null===(t=H.collect)||void 0===t||t.filterProtocol.push(e)})),o!==t&&(null===(i=H.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(o,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}}));return i="<".concat(n),a&&(i+=" ".concat(a)),o.closing&&(i+=" /"),i+">"}),g);return i}null===(n=H.collect)||void 0===n||n.blackTags.push(e)}},q=function(e){var t=e.reportOnly,n=void 0===t||t,i=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),i?"enforce":n?"report":"enforce")},J=function(e){return function(n,i,r){if(!n||"string"!=typeof n)return n;var o=i;e===D&&(o=H).initCollect();var a=e(n,o);if(x(a)===x(n))return n;if(!r)return a;var s=r.logType,c=q(r),u=o.removeCollect();return L.report(t(t({type:s,disposition:c},u),{sourceText:S(n.replace(/'/g,'"')),filterText:S(a.replace(/'/g,'"'))})),"enforce"===c?a:n}},X=J((function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new I(t).process(e)})),Y=J(D),$=(W=z,function(e,t,n){var i=[],r=W(e,(function(e){i.push(e)}));if(r===e)return e;i=d.from(d.uniq(i));var o=t||n||{};if(!o)return r;var a=o.logType,s=q(n);return L.report({type:a,disposition:s,collectKey:i.join("___"),collectData:JSON.stringify(i),collectMode:"black",sourceText:S(e),filterText:S(r)}),"enforce"===s?r:e}),Z=P._xssProject||{},Q=P.xssNamespace||{},ee="3.0.30",te={FilterXSS:I,version:ee,webpackPluginVersion:"3.0.39",reportOnly:"all",filterXSS:X,_filterXSS:Y,filterUrl:$,BlackConfig:H,project:Z,setProjectName:function(e){Z[e]=this,P._xssProjectName=e}};Q.cc_web_editor_smart_toolbox=te,P.xssNamespace=Q,P.Math&&!P.Math.xssNamespace&&(P.Math.xssNamespace=Q),Z[ee]=te,P.globalThis=P,P.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:te},P.xss=te,P.isSafeUrl=G,P.isSafeDomain=U,P.isSafeProtocol=M,P._xssProject=Z,P._xssProjectName&&(Z[P._xssProjectName]=te);var ne=te.setProjectName.bind(te);e.BlackConfig=H,e.FilterXSS=I,e._filterXSS=Y,e.filterUrl=$,e.filterXSS=X,e.isSafeDomain=U,e.isSafeProtocol=M,e.isSafeUrl=G,e.project=Z,e.setProjectName=ne,e.setXssNamespace=function(e){var t=e.appId,n=e.bid,i=e.region,r=e.isCloseReport;Q[t]=te;var o=H;o.bid=n,o.region=i,o.enabled=!0,o.isCloseReport=r},e.xssNamespace=Q,Object.defineProperty(e,"__esModule",{value:!0})})),(window.webpackChunksmart_toolbox=window.webpackChunksmart_toolbox||[]).push([[8691],{68042:function(e,t,n){"use strict";n.d(t,{Dk:function(){return c}});var i,r,o=n(67308),a=n(14148),s=n(8743);function c(e){var t=o.useState(!1),n=t[0],c=t[1],u=o.useCallback((function(e){c((function(e){return!e}))}),[]),l=e.i18n||(0,s.TO)()||a.F2,f=e.locale||(l||{}).i18nInstance.instance.language||void 0;o.useEffect((function(){if(l){var e=l.i18nInstance.instance;return Object.keys(i).forEach((function(t){e.on(t,(function(){return u(t)}))})),Object.keys(r).forEach((function(t){e.store.on(t,(function(){return u(t)}))})),function(){Object.keys(i).forEach((function(t){e.off(t)})),Object.keys(r).forEach((function(t){e.store.off(t)}))}}}),[l]);var h=o.useMemo((function(){return{i18n:l,locale:f||a.F2.i18nInstance.instance.language}}),[l,f,n]);return o.createElement(s.gJ.Provider,{value:h},e.children)}!function(e){e.languageChanged="languageChanged",e.loaded="loaded",e.initialized="initialized"}(i||(i={})),function(e){e.added="added"}(r||(r={}))},8743:function(e,t,n){"use strict";n.d(t,{gJ:function(){return l},rV:function(){return p},TO:function(){return u},w9:function(){return f}});var i=n(67308),r=n(48983),o=n(72475),a=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function s(e){var t=e.t.bind(e);e.t=function(n,s,c){var u,l=Object.entries(s||{}).map((function(e){var t=e[0],n=e[1];return(0,i.isValidElement)(n)?t:null})).filter((function(e){return!!e}));if(!l.length)return t(n,s,c);try{var f=e.i18nInstance.instance.options||{},h=(s||{}).ns||f.ns||"translation";h=Array.isArray(h)?h[0]:"translation";var p=function(t){return e.i18nInstance.instance.getResource(t,h,n)},g=f.fallbackLng,d=p(e.language)||function(){var t;switch(g?Array.isArray(g)&&g.length?"array":typeof g:"null"){case"array":g.find((function(e){return t=p(e)}));break;case"function":var i=g(e.language);if(!Array.isArray(i))return console.error("fallbackLng must be return array"),c||n;i.find((function(e){return t=p(e)}))}return void 0===t&&(t=c||n),t}();Array.isArray(d)&&(d=d[0]);var v=new r.S(d,e.language,{},{ignoreTag:!!(null===(u=f.formatOptions)||void 0===u?void 0:u.ignoreTag)});try{var m=v.formatToParts(s);if(1===m.length)return m[0].value;var y=m.reduce((function(e,t){return e.length&&t.type===o.TT.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return i.createElement.apply(void 0,a([i.Fragment,{}],y,!1))}catch(b){console.warn("[intl-react-plugin] Key ".concat(JSON.stringify(n)," has missing some interpolation, use fallback target text ").concat(JSON.stringify(d)," fallback. More: ").concat(b));var _=t(n,s,c);return(0,i.createElement)(i.Fragment,{},_)}}catch(b){return console.error("[intl-react-plugin] Some error occurred",b),t(n,s,c)}}}var c=null;function u(){return c}var l=i.createContext({i18n:void 0,locale:void 0}),f={type:"intl3rdParty",init:function(e){!function(e){c=e}(e),s(e)}},h={bindI18n:"languageChanged loaded initialized",bindI18nStore:"added",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0};function p(){return h}},36060:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var i=n(67308),r=n(8743);function o(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{var t=function(){setTimeout((function(){e.off("initialized",t)}),0),n()};e.on("initialized",t)}}))}var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function s(e,t){void 0===t&&(t={});var n=t.i18n,s=(i.useContext(r.gJ)||{}).i18n,c=n||s||(0,r.TO)()||void 0;if(!c){console.warn("You will need to pass in an @ies/starling_intl instance by using registerReactInstance");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}var f=c.i18nInstance.instance;f.options.react&&void 0!==f.options.react.wait&&console.warn("It seems you are still using the old wait option, you may migrate to the new useSuspense behavior.");var h=a(a(a({},(0,r.rV)()),f.options.react),t),p=h.useSuspense,g=e||f.options&&f.options.defaultNS||[];g="string"==typeof g?[g]:g||["translation"];var d=(f.isInitialized||f.initializedStoreOnce)&&g.every((function(e){return function(e,t,n){if(void 0===n&&(n={}),!t.languages||!t.languages.length)return console.warn("i18n.languages were undefined or empty",t.languages),!0;var i=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(i,e)&&t.services.backendConnector.backend&&(!a(i,e)||r&&!a(o,e)))}(e,f,h)}));function v(){return{t:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!Array.isArray(e))return"";var n=e[0],i=e[1],r=void 0===i?{}:i,o=e[2];return Array.isArray(g)&&g.filter((function(e){return!!e})).length&&(r.ns=g),c.t(n,r,o)}}}var m=i.useState(v()),y=m[0],_=m[1],b=i.useRef(!0);i.useEffect((function(){var e=h.bindI18n,t=h.bindI18nStore;function n(){b.current&&_(v())}b.current=!0,d||p||o(f,g,(function(){b.current&&_(v())}));var i=e?e.split(" ").filter((function(e){return!!e})):"",r=t?t.split(" ").filter((function(e){return!!e})):"";return i&&f&&i.forEach((function(e){return f.on(e,n)})),r&&f&&r.forEach((function(e){return f.store.on(e,n)})),function(){b.current=!1,i&&f&&i.forEach((function(e){return f.off(e,n)})),r&&f&&r.forEach((function(e){return f.store.off(e,n)}))}}),[f,g.join()]);var w=i.useRef(!0);i.useEffect((function(){b.current&&!w.current&&_(v()),w.current=!1}),[f]);var S=[y.t,c,d];if(S.t=y.t,S.i18n=c,S.ready=d,d)return S;if(!d&&!p)return S;throw new Promise((function(e){o(f,g,(function(){e()}))}))}},82888:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e){i(this,"type","backend"),i(this,"name","@ies/intl-backend-plugin"),i(this,"_services",void 0),i(this,"_options",void 0),i(this,"_allOptions",void 0),i(this,"_configLng",void 0),this._options=e}_emit(e,t,n,i){const r=(this._options.on||{})[e];"function"==typeof r&&r(t,n),i(null,n)}_getStorageKey(e){const{apiKey:t,namespace:n}=this._options.loadOptions||{};if(t&&n)return`text.${t}.${n}.${e}`}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._options=Object.assign({},t,this._options),this._allOptions=n,this._services=e,this._services.resourceStore.options.initImmediate=t.initImmediate||!1}read(e,t,i){if(this._configLng||(this._configLng=this._services.resourceStore.options.lng),"string"!=typeof this._configLng)if(this._services.languageDetector&&"function"==typeof this._services.languageDetector.detect)try{this._configLng=this._services.languageDetector.detect()}catch(e){this._configLng="zh-CN"}else this._configLng="zh-CN";if(this._options.simpleLoad&&e!==this._configLng)return this._emit("simpleBlocked",e,{},i);const{initialTexts:r,fallbackTexts:o={}}=this._options;let a={};if("function"==typeof r?a=r(e,this._getStorageKey(e),t):r&&"object"==typeof r&&(a=r[e]||{}),"object"!=typeof a)try{a=JSON.parse(a)}catch(e){a={}}const s=o[e]||{},c=Object.assign({locale:e,namespace:"",apiKey:"",fallbackLang:this._allOptions.fallbackLng||[this._allOptions.lng]},this._options.loadOptions||{});this._emit("receiveInit",e,a,i),(async()=>{let t=this._options.client||null;if(!t)try{const e=n(78609);if("function"==typeof e.default)t=e.default;else{if("function"!=typeof e)throw new Error('Error: can not get any client instance, intl backend plugin will emit "fallback" events');t=e}}catch(t){return this._emit("fallback",e,s,i)}try{t=new t(c)}catch(e){}try{if(!t||"function"!=typeof t.load)throw new Error;const n=await t.load((t=>this._emit("chunk",e,t,i)),{options:c,callback:t=>this._emit("chunk",e,t,i)});this._emit("done",e,n,i)}catch(t){this._emit("fallback",e,s,i)}})()}save(){}create(e,t,n,i){}}i(r,"type","backend"),t.lH=function(){return new r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},1732:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}n.d(t,{U:function(){return y}});var a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,s=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),i&&(r.domain=i),document.cookie=function(e,t,n){var i=n||{};i.path=i.path||"/";var r=e+"="+encodeURIComponent(t);if(i.maxAge>0){var o=i.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");r+="; Max-Age="+Math.floor(o)}if(i.domain){if(!a.test(i.domain))throw new TypeError("option domain is invalid");r+="; Domain="+i.domain}if(i.path){if(!a.test(i.path))throw new TypeError("option path is invalid");r+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(r+="; HttpOnly"),i.secure&&(r+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}(e,encodeURIComponent(t),r)},c=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},u={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=c(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&s(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},l={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},f=null,h=function(){if(null!==f)return f;try{f="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){f=!1}return f},p={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&h()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&h()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},g={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},d={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("=");if(r>0)n[i].substring(0,r)===e.lookupQuerystring&&(t=n[i].substring(r+1))}return t}},v={mute:!1,_allowedLog:function(){return/^dev(?:elopment)?$/.test("production")&&!this.mute},info:function(e){this._allowedLog()&&console.log("[Starling Language Detector] [INFO] ".concat(e))}};var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"starling-language",lookupLocalStorage:"starling-language",fallback:"zh-CN",caches:["cookie"],mute:!1};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="languageDetector",this.detectors={},this.options=t,this.addDetector(u),this.addDetector(d),this.addDetector(l),this.addDetector(p),this.addDetector(g)}var t,n,r;return t=e,n=[{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"init",value:function(e,t,n){this.configLang=n.lng,this.fallbackLang=n.fallbackLng,n.lng=void 0,this.services=e,this.options=Object.assign({},{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"starling-language",lookupLocalStorage:"starling-language",fallback:"zh-CN",caches:["cookie"],mute:!1},this.options||{},t||{}),this.i18nOptions=n,v.mute=!!this.options.mute}},{key:"detect",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,i=Array.isArray(this.fallbackLang),r=o(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(this.detectors[a]){var s=this.detectors[a].lookup(this.options);if(s&&"string"==typeof s&&(s=[s]),Array.isArray(s)&&s.length){v.info("Find ".concat(s.length," langs from ").concat(a));for(var c=0;c<s.length;c++){var u=s[c];if(v.info('Processing "'.concat(u,'" from ').concat(a,"[").concat(c,"]")),"boolean"==typeof this.options.ignoreSpecialAreas&&this.options.ignoreSpecialAreas&&(u=u.split("-")[0],v.info('Ignore special areas, then processing "'.concat(u,'"'))),!i||-1!==this.fallbackLang.indexOf(u)){e=u;break}v.info('"'.concat(u,'" is not in fallbackLng list, ignore it'))}e&&v.info("Detected language ".concat(e," from ").concat(a));break}}}}catch(l){r.e(l)}finally{r.f()}return e||(v.info("Can't find a suitable language, use ".concat(i?"fallbackLang[0]":"fallback"," instead")),e=i?this.fallbackLang[0]:this.options.fallback||this.configLang),"function"==typeof this.options.validator&&(e=this.options.validator(e)||e,v.info("Validator result: ".concat(e))),e}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)}))}}],n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(){return new m(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}m.type="languageDetector"},78609:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ne}});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(T){o(T)}}function s(e){try{c(i.throw(e))}catch(T){o(T)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(T){o=[6,T],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var u=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.originError=i,r.name="StarlingError",r.code=t,r.message=n,r.originError=i,Error.captureStackTrace&&Error.captureStackTrace(r,r.constructor),r}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),l={ERROR_CODE:103,ERROR_MESSAGE:"Request failed, confirm your apiKey and namespace is correct"},f={ERROR_CODE:110,ERROR_MESSAGE:"Check your params, parameter apiKey, namespace and zoneHost is required!"},h={ERROR_CODE:111,ERROR_MESSAGE:"Check your params, parameter request and store is required!"},p={ERROR_CODE:112,ERROR_MESSAGE:"Cache error!"},g={ERROR_CODE:120,ERROR_MESSAGE:"Version is not found, please check your param [version]!"},d={zone:"CN",locale:"zh",timeout:15e3,test:!1,mode:"normal",format:"merged",lazyUpdate:!1,fallbackLang:["zh"],tracker:function(){},cache:!0};var v=function(){function e(e){this.options=e,this.options=e}return e.prototype.getText=function(e,t){return s(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,this._request(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){var n=e[0],i=e[1];return t.getText(n,i)})))},e.prototype._request=function(e,t){return s(this,void 0,void 0,(function(){var n,i,r,o,a,s,f,h,p,d,v,m,y,_,b,w;return c(this,(function(c){switch(c.label){case 0:return n=this.options.getReleaseVersion,i=n(e),e&&i&&t?[2,{}]:(r=this.getUrl(e,t),o=this.options,a=o.request,s=o.timeout,[4,a(r,{timeout:s})]);case 1:if(f=c.sent(),h=f.data,p=h.status,d=h.message,200==+p)return[2,this._mapResponse(d)];if(1001==+p)throw m=(v=g).ERROR_CODE,y=v.ERROR_MESSAGE,new u(m,y);throw b=(_=l).ERROR_CODE,w=_.ERROR_MESSAGE,new u(b,w)}}))}))},e.prototype.getUrl=function(e,t){var n=this.options,i=n.apiKey,r=n.locale,o=n.fallbackLang,a=n.zoneHost,s=n.mode,c=n.getReleaseVersion,u=[r].concat(o),l=a+"/check_and_get_text/"+i+"/"+s+"/"+e+"?lang="+u,f=c(e);return f&&(l=a+"/text_by_release_version/"+i+"/"+s+"/"+e+"/"+f+"?lang="+u),"string"==typeof t&&(l+="&version="+t),l},e.prototype._mapResponse=function(e){return e?Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{}):{}},e}(),m=function(){function e(e){this.options=e,this.options=e}return e.prototype._setCache=function(e,t){try{return this.options.store.set(e,t)}catch(i){var n=p.ERROR_CODE;return void this.options.tracker("cache_error",{code:n,message:i.message,stack:i.stack})}},e.prototype._getCache=function(e){var t=this.options,n=t.store,i=t.cache;try{return i&&n.get(e)}catch(o){var r=p.ERROR_CODE;return void this.options.tracker("cache_error",{code:r,message:o.message,stack:o.stack})}},e.prototype.getVersion=function(e){var t=this.options,n="version."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);return i&&(n+="."+i),this.getText(e)?this._getCache(n):null},e.prototype.getVersions=function(e){var t=this;return Promise.all(e.map((function(e){return t.getVersion(e)})))},e.prototype.getText=function(e){var t=this.options,n="text."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);return i&&(n+="."+i),this._getCache(n)},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){return t.getText(e)})))},e.prototype.refresh=function(e,t,n,i){return s(this,void 0,void 0,(function(){var r,o,a,s,u,l=this;return c(this,(function(c){switch(c.label){case 0:return r=this.options,o=r.apiKey,a=r.getReleaseVersion,s=r.cache,u=[],t.forEach((function(r,c){var f="text."+o+"."+e[c]+"."+i[c],h="version."+o+"."+e[c]+"."+i[c],p=a(e[c]);p&&(f+="."+p,h+="."+p),s&&(u.push(l._setCache(f,t[c])),u.push(l._setCache(h,n[c])))})),[4,Promise.all(u)];case 1:return c.sent(),[2,t.reduce((function(e,t){return Object.assign(e,t)}),{})]}}))}))},e}();var y=function(){function e(e){void 0===e&&(e=[]),this._list=[],this._list=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.getList=function(){return this._list},e.prototype.getNamespaces=function(){return this._list.map((function(e){return e.namespace}))},e.prototype.addNamespace=function(e){this._list.push(e)},e.prototype.insertTexts=function(e){this._list.forEach((function(t,n){t.texts=e[n]}))},e.prototype.sortByPrior=function(){return this._list.sort((function(e,t){return e.prior-t.prior})),this._list},e.prototype.concat=function(t){return new e(this._list.concat(t.getList()))},e}(),_=function(){function e(e,t,n){this._promiseRefresh=Promise.resolve(null),this.remote=e,this.local=t,this.options=n}return e.prototype._checkVersions=function(e){return s(this,void 0,void 0,(function(){var t,n,i,r,o,a;return c(this,(function(s){switch(s.label){case 0:return t=this.options.locale,[4,this.local.getVersions(e)];case 1:return n=s.sent(),i=e.map((function(e,t){return[e,n[t]]})),[4,this.remote.getTexts(i)];case 2:return r=s.sent(),o=new y,a=new y,e.forEach((function(e,i){var s=r[i],c=s.updated,u=s.version,l=s.data,f=s.lang;c?a.addNamespace({namespace:e,prior:i,version:u,texts:l,lang:f}):o.addNamespace({namespace:e,prior:i,version:n[i],lang:t})})),[2,{equalNs:o,diffNs:a}]}}))}))},e.prototype.waitForRefresh=function(){return this._promiseRefresh},e.prototype._refresh=function(e){var t=e.getList(),n=[],i=[],r=[],o=[];return t.forEach((function(e){n.push(e.namespace),i.push(e.version),r.push(e.texts),o.push(e.lang)})),this.local.refresh(n,r,i,o)},e.prototype._getLocalTexts=function(e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this.local.getTexts(e.getNamespaces())];case 1:return t=n.sent(),e.insertTexts(t),[2,t]}}))}))},e.prototype.load=function(e){return s(this,void 0,void 0,(function(){var t,n,i,r,o;return c(this,(function(a){switch(a.label){case 0:return t=this.options.format,[4,this._checkVersions(e)];case 1:return n=a.sent(),i=n.equalNs,r=n.diffNs,i.length?[4,this._getLocalTexts(i)]:[3,3];case 2:return a.sent(),[3,4];case 3:a.label=4;case 4:return o=this._formatTexts(t,r.concat(i)),r.length?[4,this._refresh(r)]:[3,6];case 5:a.sent(),a.label=6;case 6:return[2,{texts:o,diffNs:r.getNamespaces(),equalNs:i.getNamespaces()}]}}))}))},e.prototype._getCacheText=function(e){return s(this,void 0,void 0,(function(){var t,n,i,r,o,a,s;return c(this,(function(c){switch(c.label){case 0:return t=this.options,n=t.locale,i=t.format,[4,this.local.getTexts(e)];case 1:return r=c.sent(),[4,this.local.getVersions(e)];case 2:return o=c.sent(),a=r.map((function(t,i){if(t)return{namespace:e[i],version:o[i],lang:n,texts:t}})).filter((function(e){return!!e})),s=new y(a),[2,this._formatTexts(i,s)]}}))}))},e.prototype.lazyLoad=function(e){return s(this,void 0,void 0,(function(){var t,n,i;return c(this,(function(r){switch(r.label){case 0:return[4,this._getCacheText(e)];case 1:return t=r.sent(),n=0===Object.keys(t).length,this._promiseRefresh=this.load(e),n?[4,this._promiseRefresh]:[3,3];case 2:i=r.sent(),t=i.texts,r.label=3;case 3:return[2,{texts:t,diffNs:n?i&&i.diffNs:[],equalNs:n?i&&i.equalNs:e}]}}))}))},e.prototype._formatTexts=function(e,t){if("splitted"===e)return t.getList().reduce((function(e,t){var n=t.namespace,i=t.lang,r=t.texts,o=t.version;return e[n]={lang:i,texts:r,version:o},e}),{});var n,i,r=t.sortByPrior().map((function(e){return e.texts}));return n=r,(i?n.concat(i):n).reduce((function(e,t){return Object.assign(e,t)}),{})},e}();"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},writable:!0,configurable:!0});var b,w="client_exception",S="client_load",E="client_cache",k="client_load_time";!function(e){e.AfterLoad="afterLoad"}(b||(b={}));var O=function(){function e(e){this.afterLoadPlugins=[],this.setConfig(e)}return e.prototype._init=function(e){var t=this;this.options=function(e){var t=(e=Object.assign({},d,e)).namespace,n=e.apiKey,i=e.request,r=e.store,o=e.zoneHost;if(e.test&&(e.mode="test"),e.namespace=t=t?Array.isArray(t)?t:[t]:[],e.apiKey=n=n||e.api_key,!i||!r){var a=h,s=a.ERROR_CODE,c=a.ERROR_MESSAGE;throw new u(s,c,null)}if(!n||!t.length||!o){var l=f;throw s=l.ERROR_CODE,c=l.ERROR_MESSAGE,new u(s,c,null)}return e}(e);var n=this.options,i=n.apiKey,r=n.locale,o=n.zoneHost,s=n.request,c=n.timeout,l=n.fallbackLang,p=n.store,g=n.lazyUpdate,y=n.test,b=n.mode,w=n.format,S=n.cache,E={mode:g?"lazy":y?"test":"prod",zone:o,locale:r,apiKey:i};this._tracker=function(e,n){try{t.options.tracker(e,a(a({},E),n))}catch(i){console.log(i)}};var k=this._getReleaseVersionByNamespace.bind(this),O=new v({request:s,timeout:c,apiKey:i,locale:r,zoneHost:o,fallbackLang:l,mode:b,getReleaseVersion:k}),A=new m({apiKey:i,locale:r,store:p,tracker:this._tracker,getReleaseVersion:k,cache:S});this._textManager=new _(O,A,{locale:r,format:w}),this.initPlugin()},e.prototype.initPlugin=function(){var e=this,t=this.options.plugins||[];Array.isArray(t)&&t.every((function(e){return"object"==typeof e}))&&t.forEach((function(t){t.type===b.AfterLoad&&e.afterLoadPlugins.push(t)}))},e.prototype._getReleaseVersionByNamespace=function(e){var t=this.options.namespace,n=this.options.version,i=null;if(Array.isArray(n)){var r=t.findIndex((function(t){return t===e}));i=n[r]}else n&&"object"==typeof n?i=n[e]:"string"==typeof n&&(i=n);return i},e.prototype.setConfig=function(e){var t=Object.assign({},this.options,e);this._init(t)},e.prototype.waitForRefresh=function(){return s(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,this._textManager.waitForRefresh()];case 1:return[2,(e=t.sent())?e.texts:null]}}))}))},e.prototype._load=function(){return s(this,void 0,void 0,(function(){var e,t,n,i,r;return c(this,(function(o){switch(o.label){case 0:return e=this.options,t=e.namespace,n=e.lazyUpdate,i=t,n?[4,this._textManager.lazyLoad(i)]:[3,2];case 1:return r=o.sent(),[3,4];case 2:return[4,this._textManager.load(i)];case 3:r=o.sent(),o.label=4;case 4:return[2,r]}}))}))},e.prototype.load=function(e,t){return s(this,void 0,void 0,(function(){var n,i,r,o,a,s,u,l,f,h,p,g,d,v,m=this;return c(this,(function(c){switch(c.label){case 0:n=Date.now(),i=this.options.namespace,c.label=1;case 1:return c.trys.push([1,5,,10]),this._tracker(S,{state:"start",version:"0.5.9"}),[4,this._load()];case 2:return r=c.sent(),o=r.diffNs,a=r.equalNs,s=r.texts,u=this.afterLoadPlugins,Array.isArray(u)&&u.length?[4,u.reduce((function(e,t){return e.then((function(e){return"function"==typeof t.process?t.process(e||s,m.options):e}))}),Promise.resolve(s))]:[3,4];case 3:l=c.sent(),s=l||s,c.label=4;case 4:return e&&e(s),this._tracker(k,{time:Date.now()-n}),this._tracker(S,{state:"success",version:"0.5.9"}),f=o.length,h=a.length,p=i.length,g=(h/p).toFixed(2),this._tracker(E,{diffLen:f,diff:o.join(","),equalLen:h,equal:a.join(","),namespaces:a.join(","),namespacesLen:p,ratio:g}),[2,s];case 5:if(d=c.sent(),this._tracker(S,{state:"fail"}),this._tracker(w,{code:d.code,message:d.message,stack:d.stack}),!(d||{}).useWebCache)return[3,9];c.label=6;case 6:return c.trys.push([6,8,,9]),[4,this._textManager._getCacheText(i)];case 7:return v=c.sent(),d.response.data=v&&"object"==typeof v?v:{},[3,9];case 8:return c.sent(),[3,9];case 9:return t?(t(d),[3,10]):[2,Promise.reject(d)];case 10:return[2]}}))}))},e}();var A=new(function(){function e(){}return e.prototype.get=function(e){if(localStorage&&localStorage.getItem)return function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(T){return e||void 0}}(localStorage.getItem(e))},e.prototype.set=function(e,t){localStorage&&localStorage.setItem&&localStorage.setItem(e,function(e){return JSON.stringify(e)}(t))},e}()),R=function(e){function t(t,n,i,r,o,a){var s=e.call(this,t)||this;return s.url=n,s.code=i,s.request=r,s.response=o,s.useWebCache=a,s.url=n,s.code=i,s.request=r,s.response=o,s.useWebCache=!!a,s}return r(t,e),t}(Error);function x(e,t){var n=t.timeout;return new Promise((function(t,i){var r=new XMLHttpRequest;r.open("GET",e),r.overrideMimeType("application/json; charset=utf-8"),r.withCredentials=!1,r.onreadystatechange=function(){if(r&&4===r.readyState&&(0!==r.status||r.responseURL&&0===r.responseURL.indexOf("file:"))){var n=function(e){try{return JSON.parse(e)}catch(t){return{}}}(r.responseText),o=function(e){return e.message&&"object"==typeof e.message?e:null}(n);if(r.status<200||r.status>=300||!o)return function(e,t,n,i){var r=(i||{}).message||"";r=r?", reason is: ".concat(r):"",t(new R("Request failed with status code "+e.status+r,n,null,e,{data:{}},!0))}(r,i,e,n),void(r=null);var a={data:o,status:r.status,statusText:r.statusText,request:r};t(a),r=null}},r.onerror=function(){i(new R("Network Error",e,null,r,{data:{}},!0)),r=null},r.timeout=n,r.ontimeout=function(){i(new R("timeout of "+n+"ms exceeded",e,"ECONNABORTED",r,{data:{}},!0)),r=null},r.send()}))}var I=function(e){function t(t){return t.store||(t.store=A),t.request||(t.request=x),e.call(this,t)||this}return r(t,e),t}(O),T=function(){return(T=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function C(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function P(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C(arguments[t]));return e}var L,D,N,M,z=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function i(r){t(r),n.off(e,i)}))},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t,n){if(n){if(!e)return;-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))}else this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&P(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),j=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},G=(L=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return L+=1}),U=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,r=[];n=n<=25?n:n%25;var o=String.fromCharCode(n+97);i=e.split(o);for(var a=0;a<i.length;a++){var s=parseInt(i[a],n);s=1*s^64;var c=String.fromCharCode(s);r.push(c)}return r.join("")}}(e,0,25)},B=function(e){var t=document.createElement("a");return t.href=e,t},F=function(e){var t={};try{var n=B(e).search;(n=n.slice(1)).split("&").forEach((function(e){var n,i,r=e.split("=");r.length&&(n=r[0],i=r[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}}))}catch(e){}return t},V=function(e){for(var t=0,n=0,i=(e+="").length,r=0;r<i;r++)((t=31*t+e.charCodeAt(n++))>0x7fffffffffff||t<-0x800000000000)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t},K=(function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(i.read||i)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[u]=c,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))},e.exports=n()}(D={exports:{}}),D.exports),W=function(e,t){try{return K.get(e,{domain:t||document.domain})}catch(e){return""}},H=function(e,t,n,i){try{var r=i||document.domain,o=+new Date+(n||6048e5);K.set(e,t,{expires:new Date(o),path:"/",domain:r})}catch(e){}},q=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return W(e,t)},e.prototype.setCookie=function(e,t,n,i){H(e,t,n,i)},e}(),J={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return W(e,t)},setCookie:function(e,t,n,i){H(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(T){return!1}}()},X={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return W(e,t)},setCookie:function(e,t,n,i){H(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(T){return!1}}()},Y=function(){function e(e,t){this._storage=t&&"session"===t?X:!e&&J.isSupportLS?J:new q}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),$=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?B(n).hostname:"",r=F(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var r=new Y(!1),o=new Y(!1,"session"),a=e?"_tea_utm_cache_"+e:"_tea_utm_cache",s=e?"_$utm_from_url_"+e:"_$utm_from_url",c={},u=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],l={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var f=!1;for(var h in l)l[h]&&(-1!==u.indexOf(h)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[h]=l[h]):c[h]=l[h],f=!0);if(f)o.setItem(s,"1"),r.setCookie(a,JSON.stringify(c),i,n);else{var p=r.getCookie(a,n);p&&(c=JSON.parse(p))}o.getItem(s)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(e){return l}return c}(this.appid,r,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",r="",o=location.hostname,a=!1;if(e&&t&&o!==t){n=e,i=t,a=!0;var s=F(e);s.keyword&&(r=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:r,isLast:a}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),r=this.userAgent;return-1!==r.indexOf("Edge")||-1!==r.indexOf("Edg")?(n="Microsoft Edge",-1!==r.indexOf("Edge")?(e=r.indexOf("Edge"),i=r.substring(e+5)):(e=r.indexOf("Edg"),i=r.substring(e+4))):-1!==(e=r.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=r.substring(e+5)):-1!==(e=r.indexOf("Lark"))?(n="Lark",i=r.substring(e+5,e+11)):-1!==r.indexOf("Chrome")?-1!==(e=r.indexOf("TTWebView"))?(n="TTWebView",i=r.substring(e+10,e+23)):(-1!==(e=r.indexOf("Chrome"))||-1!==(e=r.indexOf("Chrome")))&&(n="Chrome",i=r.substring(e+7)):-1!==r.indexOf("Safari")?-1!==(e=r.indexOf("Safari"))&&(n="Safari",i=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))&&(n="Firefox",i=r.substring(e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e="",t="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],i=0;i<n.length;i++){var r=n[i];if(r.r.test(this.userAgent)){"Mac OS X"===(e=r.s)&&this.isNewIpad()&&(e="iOS");break}}var o,a,s=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(e)&&(t=s(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":(a=s(/Android ([\.\_\d]+)/,o=this.userAgent))||(a=s(/Android\/([\.\_\d]+)/,o)),t=a,e="android";break;case"iOS":t=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios"}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach((function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))}));else if("ios"===e||"mac"===e||"windows"===e)if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}catch(e){return t.trim()}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),Z={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},Q={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},ee={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k"},te={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz4az1az1mz1k"},ne="5.0.39_oversea",ie=function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=new RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t=this;if(!e||!e.length)return!1;var n=e[0];if(!n)return!1;var i=n.events,r=n.header;if(!i||!i.length)return!1;var o=!0;return i.forEach((function(e){if(!e)return o=!1,void(e.checkEvent="\u4e8b\u4ef6\u5f02\u5e38");t.checkEventName(e.event)||(o=!1,e.checkEvent="\u4e8b\u4ef6\u540d\u4e0d\u80fd\u4ee5 $ or __\u5f00\u5934"),t.checkEventParams(e.params)||(o=!1,e.checkParams="\u5c5e\u6027\u540d\u4e0d\u80fd\u4ee5 $ or __\u5f00\u5934")})),this.checkEventParams(r)||(o=!1),o},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),!Object.keys(t).length)return!0;for(var n in t)return!(!this.calculate(n,"params")||"string"==typeof t[n]&&t[n].length>1024&&(console.warn("params: "+n+" can not over 1024 byte, please check;"),1));return!0},e.prototype.calculate=function(e,t){return-1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||!new RegExp("^\\$").test(e)&&!new RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start with $ or __, pleace check;"),!1)},e}();!function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report"}(N||(N={})),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(M||(M={}));var re=N,oe=void 0,ae=(new Date).getTimezoneOffset(),se=parseInt(""+-ae/60,10),ce=60*ae,ue=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new $(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init();this.eventCheck=new ie(e,t);var i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new Y(!1,"session"),this.localStorage=new Y(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var r=this.localStorage.getItem(i);r&&1==r?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:oe,user_type:oe,user_id:oe,user_is_auth:oe,user_is_login:oe,device_id:oe,web_id:oe,ip_addr_id:oe,user_unique_id_type:oe},header:{app_id:oe,app_name:oe,app_install_id:oe,install_id:oe,app_package:oe,app_channel:oe,app_version:oe,ab_version:oe,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:oe,traffic_type:oe,client_ip:oe,device_brand:oe,os_api:oe,access:oe,language:n.language,region:oe,app_language:oe,app_region:oe,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:oe,rnd:oe,platform:n.platform,sdk_version:ne,sdk_lib:"js",province:oe,city:oe,timezone:se,tz_offset:ce,tz_name:oe,sim_region:oe,carrier:oe,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{},wechat_unionid:oe,wechat_openid:oe}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?ee[n]:te[n]:Z[n];this.domain=U(i)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e="__tea_sdk_ab_version_"+this.initConfig.app_id,t=null;if(this.initConfig.ab_cross){var n=this.localStorage.getCookie(e,this.initConfig.ab_cookie_domain);t=n?JSON.parse(n):null}else t=this.localStorage.getItem(e);this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.initConfig.report_url||this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version="+ne+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&null!==e[n]||t.delete(n);try{t.eventCheck.calculate(n,"config")}catch(T){}if("traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=T({},t.evtParams||{},e.evtParams||{});else if("_staging_flag"===n)t.evtParams=T({},t.evtParams||{},{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var i="",r="";if(n.indexOf(".")>-1){var o=n.split(".");i=o[0],r=o[1]}i?"user"===i||"header"===i?t.envInfo[i][r]=e[n]:t.envInfo.header.custom[r]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=Boolean(e[n]):"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),le=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("[instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("[instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),fe=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),n},e}(),he=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)})):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57cb\u70b9\u4e0a\u62a5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),pe=500,ge=5005;function de(e,t,n,i,r,o,a,s,c){try{var u=new XMLHttpRequest,l=s||"POST";u.open(l,""+e,!0),u.setRequestHeader("Content-Type","application/json; charset=utf-8"),a&&u.setRequestHeader("X-MCS-AppKey",""+a),i&&(u.withCredentials=!0),u.onload=function(){if(r){var e=null;if(u.responseText){try{e=JSON.parse(u.responseText)}catch(t){e={}}r(e,t)}}},n&&(u.timeout=n,u.ontimeout=function(){o&&o(t,ge)}),u.onerror=function(){u.abort(),o&&o(t,pe)},c?u.send(t):u.send(JSON.stringify(t))}catch(e){}}var ve=function(e,t,n,i){try{var r,o=e.match(/\/v\d\//);r=o?o[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/";var a=e.split(r)[0];if(!a)return void i(e,t,4001);t.forEach((function(r){var o=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t+="&"+n+"="+encodeURIComponent(JSON.stringify(e[n])));return"&"===t[0]?t.slice(1):t}(r),s=new Image(1,1);s.onload=function(){s=null,n&&n()},s.onerror=function(){s=null,i&&i(e,t,4e3)},s.src=a+"/gif?"+o}))}catch(n){i&&i(e,t,4002,n.message)}},me=function(e,t,n,i,r,o,a,s){var c=window.navigator.userAgent;if(-1===window.navigator.appName.indexOf("Microsoft Internet Explorer")||-1===c.indexOf("MSIE 8.0")&&-1===c.indexOf("MSIE 9.0")){if(a)return window.navigator&&window.navigator.sendBeacon?void(window.navigator.sendBeacon(e,JSON.stringify(t))?r():o(e,t,4003)):void ve(e,t,r,o)}else ve(e,t,r,o);de(e,t,n,i,r,o,"","",s)},ye=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new ie(e,t),this.cacheStorgae=new Y(!0),this.localStorage=new Y(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(re.Ready,(function(){n.reportAll(!1)})),this.collect.on(re.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(re.Event,(function(e){n.event(e)})),this.collect.on(re.BeconEvent,(function(e){n.beconEvent(e)})),this.collect.on(re.CleanEvents,(function(){n.reportAll(!1)})),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",(function(){e.reportAll(!0)}),!1),function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)}((function(){e.reportAll(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.reportAll(!0)}),!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n=P(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),i)}}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){var t=P(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var i;i=e.slice(n,n+this.eventLimit);var r=this.split(this.merge(i));this.send(r,t)}else r=this.split(this.merge(e)),this.send(r,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,i=this.configManager.get(),r=i.header,o=i.user;r.custom=JSON.stringify(r.custom),r.referrer=this.handleRefer();var a=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),c=e.map((function(e){try{Object.keys(a).length&&!t&&(e.params=T({},a,e.params)),s&&(e.params.$user_unique_id_type=s);var i=n.configManager.getAbCache(),r=n.configManager.getAbUuidCache(o.user_unique_id);if(i&&i.uuid&&i.uuid===o.user_unique_id){var c=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(r&&r.length){var u=r.join(",");c&&c.includes(u)&&(e.ab_sdk_version=c)}}else c&&(e.ab_sdk_version=c)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(T){return n.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:T.message}),e}})),u=JSON.parse(JSON.stringify({events:c,user:o,header:r}));u.local_time=Math.floor(Date.now()/1e3),u.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,u.verbose=1;var l=[];return l.push(u),l},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var r=i||e,o=JSON.parse(JSON.stringify(r));if(n.eventCheck.checkVerify(o),!r.length)return;n.collect.emit(re.SubmitBefore,r),n.collect.emit(re.SubmitVerify,r),me(n.reportUrl,r,n.timeout,n.enable_ttwebid,(function(e,t){e&&0!==e.e?(n.collect.emit(re.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u5931\u8d25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636e\u5f02\u5e38",status:"fail"})):(n.collect.emit(re.SubmitScuess,{eventData:t,res:e}),n.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:o,code:200,status:"success"}))}),(function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(re.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u7f51\u7edc\u5f02\u5e38",time:Date.now(),data:o,code:t,failType:"\u7f51\u7edc\u5f02\u5e38",status:"fail"})}),t,!1),n.collect.emit(re.SubmitAfter,r)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}})))},e}(),_e=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)},be=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new Y(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(re.ConfigUuid,(function(e){n.setUuid(e)})),this.collect.on(re.ConfigWebId,(function(e){n.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;if(this.enableCookie){var t=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=t&&"string"==typeof t?JSON.parse(t):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(re.CustomWebId,(function(){e.tokenReady=!0,e.collect.emit(re.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:_e(),user_unique_id:this.configManager.get("user_unique_id")||_e()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=F(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u53d1\u8d77WEBID\u8bf7\u6c42",logType:"fetch",level:"info",time:Date.now(),data:n});var i=_e();de(t,n,3e5,!1,(function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u6210\u529f",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(re.TokenError),e.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u8fd4\u56de\u503c\u5f02\u5e38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})}),(function(){e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i}),e.collect.configManager.set({localWebId:i}),e.collect.emit(re.TokenError),e.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u7f51\u7edc\u5f02\u5e38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")}))},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(re.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(re.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;if(t===n&&t===i)return;this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(re.TokenChange,"uuid"),this.collect.emit(re.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(re.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(re.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(re.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this,t=this.configManager.getUrl("tobid");return new Promise((function(n){de(t,{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},3e4,e.enable_ttwebid,(function(e){e&&0===e.e?n(e.tobid):n("")}),(function(){n("")}))}))},e}(),we=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},Se=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new Y(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(re.SessionReset,(function(){n.resetSessionId()})),this.collect.on(re.SessionResetTime,(function(){n.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:we(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:we(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime)},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(){var e={sessionId:we(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:we(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),Ee=function(){function e(e,t){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.collect=e,this.config=t,this.app_id=t.app_id,this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],t.enable_debug&&this.load()}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.load=function(){try{this.loadBaseInfo(),this.loadHook();var e=F(window.location.href);if(!e.open_devtool_web||parseInt(e.app_id)!==this.app_id)return;this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57fa\u672c\u4fe1\u606f",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,"\u4e0a\u62a5\u57df\u540d":this.collect.configManager.getDomain(),"SDK\u7248\u672c":ne,"SDK\u5f15\u5165\u65b9\u5f0f":"npm"}},{title:"\u7528\u6237\u4fe1\u606f",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70b9\u51fb\u83b7\u53d6SSID"}},{title:"\u516c\u5171\u53c2\u6570\u4fe1\u606f",type:2,infoName:{"\u6d4f\u89c8\u5668":this.collect.configManager.get("browser"),"\u6d4f\u89c8\u5668\u7248\u672c":this.collect.configManager.get("browser_version"),"\u5e73\u53f0":this.collect.configManager.get("platform"),"\u8bbe\u5907\u578b\u53f7":this.collect.configManager.get("device_model"),"\u64cd\u4f5c\u7cfb\u7edf":this.collect.configManager.get("os_name"),"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c":this.collect.configManager.get("os_version"),"\u5c4f\u5e55\u5206\u8fa8\u7387":this.collect.configManager.get("os_version"),"\u6765\u6e90":this.collect.configManager.get("referrer"),"\u81ea\u5b9a\u4e49\u4fe1\u606f":""}},{title:"\u914d\u7f6e\u4fe1\u606f",type:3,infoName:{"\u5168\u57cb\u70b9":!!this.config.autotrack,"\u505c\u7559\u65f6\u957f":!!this.config.enable_stay_duration}},{title:"A/B\u914d\u7f6e\u4fe1\u606f",type:4,infoName:{"A/B\u5b9e\u9a8c":!!this.config.enable_ab_test}},{title:"\u5ba2\u6237\u7aef\u4fe1\u606f",type:3,infoName:{"\u6253\u901a\u5f00\u5173":!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(re.Ready,(function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81ea\u5b9a\u4e49\u4fe1\u606f"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57df\u540d"]=e.config.ab_channel_domain||U(Q[e.config.channel]),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662f\u5426\u6253\u901a"]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.on(M.DEBUGGER_MESSAGE,(function(t){switch(t.type){case M.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case M.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],r=i.events;if(!r.length)return;r.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.success=t.status,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"\uff0c msg: "+t.failType})})),e.updateEvent(i)}return}}))},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()}))}}))},e.prototype.sendData=function(e,t){try{var n={type:e,payload:t};(window.opener||window.parent).postMessage(n,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),e.appendChild(t);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8c03\u8bd5</div>';var i=document.createElement("div");i.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),ke=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.name=e,this.hook=new z,this.remotePlugin=new Map,this.Types=re,this.adapters.fetch=de,this.adapters.storage=Y}return e.usePlugin=function(t,n,i){if(n){for(var r=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=i||{},r=!0;break}r||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&this.remotePlugin.get(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i,r=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new le(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&j(n))if(n.app_id&&"number"==typeof(i=n.app_id)&&!isNaN(i))if(!n.app_key||function(e){return"string"==typeof e}(n.app_key)){var o=n.channel_type&&"tcpy"===n.channel_type?["sg","va","in"]:["sg","va"];n.channel_domain||-1!==o.indexOf(n.channel)||(this.logger.warn("channel must "+o.join(" ,")+"!!!"),n.channel="sg"),this.spider=new fe,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.logger=new le(this.name,n.log),this.appBridge=new he(this,n.enable_native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new ue(this,n),this.debugger=new Ee(this,n),this.initConfig=n,this.emit(re.Init),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cINIT",data:n,level:"info",time:Date.now()}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new ye,this.tokenManager=new be,this.sessionManager=new Se,Promise.all([new Promise((function(e){r.once(re.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){r.once(re.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var n=t.plugin,i=t.options,o=Object.assign(r.initConfig,i),a=new n;return a.apply(r,o),e.push(a),e}),r.pluginInstances)}catch(t){console.warn("load plugin error, "+t.message),r.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message})}r.sdkReady=!0,r.emit(re.Ready),r.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u521d\u59cb\u5316\u5b8c\u6210",time:Date.now(),level:"info",data:r.configManager.get("user")}),r.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(r.configManager.get("user"))),r.logger.info("appid: "+n.app_id+", sdk is ready, version is "+ne+", you can report now !!!"),n.disable_auto_pv&&(r.disableAutoPageView=!0);try{("full"===r.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(t){r.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message})}r.pageView(),r.on(re.TokenChange,(function(e){"webid"===e&&r.pageView(),r.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u8bbe\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})})),r.on(re.TokenReset,(function(){r.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u91cd\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})})),r.on(re.RouteChange,(function(e){e.init||n.disable_route_report||r.pageView()}))})),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}else this.logger.warn("app_key param is error, must be string, please check!");else this.logger.warn("app_id param is error, must be number, please check!");else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited)if(e&&j(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(T){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=T({},t);if(this.initConfig&&this.initConfig.configPersist){var i=this.configManager.getStore();i&&(n=Object.assign(i,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(re.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(re.ConfigUuid,n.user_unique_id),this.configManager.set(r),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cCONFIG",level:"info",time:Date.now(),data:n})}}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(re.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(re.Start),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cSTART",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(re.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach((function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)}));else{var r=this.processEvent(e,t);if(!r)return;i.push(r)}this.bridgeReport?i.forEach((function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))})):i.length&&(this.emit(re.Event,i),this.emit(re.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(re.BeconEvent,n),this.emit(re.SessionResetTime)))}},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return this.logger.warn("eventName is null\uff0c please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=G();var r=void 0;return i.local_ms?(r=i.local_ms,delete i.local_ms):r=+new Date,{event:n,params:i,local_time_ms:r,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:n.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=T({},t,e);this.event("predefine_pageview",n)}else this.logger.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(re.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){if(e){var t=V(e);this.config({web_id:""+t,wechat_unionid:e}),this.emit(re.CustomWebId)}},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){if(e){var t=V(e);this.config({web_id:""+t,wechat_openid:e}),this.emit(re.CustomWebId)}},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(re.ResetStay,{url_path:e,title:t,url:n},re.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(re.SetStay,{url_path:e,title:t,url:n},re.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var i=!1,r=function(t){if(!i){i=!0;var r=n.configManager.get().user;return t&&(r.tobid=t,r["diss".split("").reverse().join("")]=t),e(T({},r))}},o=function(){n.tokenManager.getTobId().then((function(e){r(e)}))};this.sdkReady?o():(t&&setTimeout((function(){r()}),t),this.on(re.Ready,(function(){o()})))}else this.logger.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(re.ProfileSet,e,re.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(re.ProfileSetOnce,e,re.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(re.ProfileIncrement,e,re.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(re.ProfileUnset,e,re.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(re.ProfileAppend,e,re.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(re.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,re.Ab)},e.prototype.getVar=function(e,t,n,i){this.emit(re.AbVar,{name:e,defaultValue:t,callback:n,uuid:i},re.Ab)},e.prototype.getABconfig=function(e,t){this.emit(re.AbConfig,{params:e,callback:t},re.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(re.AbVersionChangeOn,e,re.Ab),function(){t.emit(re.AbVersionChangeOff,e,re.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(re.AbVersionChangeOff,e,re.Ab)},e.prototype.openOverlayer=function(){this.emit(re.AbOpenLayer,"",re.Ab)},e.prototype.closeOverlayer=function(){this.emit(re.AbCloseLayer,"",re.Ab)},e.prototype.getAllVars=function(e){this.emit(re.AbAllVars,e,re.Ab)},e.prototype.autoInitializationRangers=function(e){var t,n,i,r,o,a,s,c;n=(t=e).app_id,i=t.channel,r=t.onTokenReady,o=Z[i]+"/webid",a=new Y(!1),s="__tea_cache_tokens_"+n,(c=a.getItem(s))&&c.web_id?r(c.web_id):me(o,{app_key:"",app_id:n,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,(function(e){if(e&&0===e.e){r(e.web_id);var t={web_id:e.web_id,user_unique_id:e.web_id,timestamp:Date.now()};a.setItem(s,t)}else r("")}),(function(){r("")}),!0)},e.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(re.TokenComplete))},e.plugins=[],e}(),Oe=function(){function e(){}return e.prototype.apply=function(e,t){var n=this,i=e.adapters.fetch;if(t.event_verify_url)if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var r=e.Types;e.on(r.SubmitBefore,(function(e){i(n.url,e,3e4)}))}}else console.log("please use correct et_test url")},e}(),Ae=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list";var i=e.Types,r=e.adapters.fetch;this.eventCheck=new ie(e,t),this.fetch=r,this.cache={},this.collect.on(i.ProfileSet,(function(e){n.setProfile(e)})),this.collect.on(i.ProfileSetOnce,(function(e){n.setOnceProfile(e)})),this.collect.on(i.ProfileUnset,(function(e){n.unsetProfile(e)})),this.collect.on(i.ProfileIncrement,(function(e){n.incrementProfile(e)})),this.collect.on(i.ProfileAppend,(function(e){n.appendProfile(e)})),this.collect.on(i.ProfileClear,(function(){n.cache={}})),this.ready(i.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var r in n)i(r)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{if(this.config.disable_track_event)return;var n=[];n.push(this.collect.processEvent(e,t));var i=this.collect.eventManager.merge(n);this.fetch(this.reportUrl,i),this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:i,code:200,status:"success"})}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setProfile=function(e){var t=this.formatParams(e);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set",T({},t,{profile:!0})))},e.prototype.setOnceProfile=function(e){var t=this.formatParams(e,!0);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set_once",T({},t,{profile:!0})))},e.prototype.incrementProfile=function(e){e?this.report("__profile_increment",T({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},e.prototype.unsetProfile=function(e){if(e){var t={};t[e]="1",this.report("__profile_unset",T({},t,{profile:!0}))}else console.warn("please check the key, must be string!!!")},e.prototype.appendProfile=function(e){if(e){var t={};for(var n in e)"string"==typeof e[n]||"Array"===Object.prototype.toString.call(e[n]).slice(8,-1)?t[n]=e[n]:console.warn("please check the value of param: "+n+", must be string or array !!!");Object.keys(t).length&&this.report("__profile_append",T({},t,{profile:!0}))}else console.warn("please check the params, must be object!!!")},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach((function(n){t.cache[n]={val:t.clone(e[n]),timestamp:Date.now()}}))},e.prototype.formatParams=function(e,t){var n=this;void 0===t&&(t=!1);try{if(!e||"[object Object]"!==Object.prototype.toString.call(e))return void console.warn("please check the params type, must be object !!!");var i={};for(var r in e)"string"==typeof e[r]||"number"==typeof e[r]||"Array"===Object.prototype.toString.call(e[r]).slice(8,-1)?i[r]=e[r]:console.warn("please check the value of params:"+r+", must be string,number,Array !!!");var o=Object.keys(i);if(!o.length)return;if(!this.eventCheck.checkEventParams(i))return;var a=Date.now();return o.filter((function(i){var r=n.cache[i];return t?!r:!(r&&n.compare(r.val,e[i])&&a-r.timestamp<n.duration)})).reduce((function(e,t){return e[t]=i[t],e}),{})}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("error")}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),!1}},e.prototype.clone=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),t}},e.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},e}(),Re=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,i=Date.now()+t;return n=window.setTimeout((function r(){var o=Date.now()-i;e(),i+=t,n=window.setTimeout(r,Math.max(0,t-o))}),t),function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,(function(){n.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),xe=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){var i=e.adapters.fetch;this.fetch=i,this.url=e.configManager.getUrl("event");var r=this.collect.Types;this.collect.on(r.Ready,(function(){n.sdkOnload()})),this.collect.on(r.SubmitError,(function(e){var t=e.type,i=e.eventData,r=e.errorCode;"f_data"===t&&n.sdkError(i,r)}))}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,r=n.app_id,o=n.app_name,a=n.sdk_version,s=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:r,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout((function(){e.fetch(e.url,[c],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],r=i.user,o=i.header,a=[];e.forEach((function(e){e.events.forEach((function(e){a.push(e)}))}));var s={events:a.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(r)}),local_time_ms:Date.now()}})),user:{user_unique_id:r.user_unique_id},header:{}};setTimeout((function(){n.fetch(n.url,[s],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(e){}},e}(),Ie={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},Te="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,Ce=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,n){if("sdk"===t)if(Ie.hasOwnProperty(n)){var i=Ie[n].object,r=""+Ie[n].src[e.channel];e.exist(n,i,r)}else console.warn("your "+n+" is not exist\uff0cplease check plugin name");else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;Te[t]?(this.process(e,Te[t]),console.log("\u5df2\u6709"+e+"\u63d2\u4ef6\uff0c\u907f\u514d\u91cd\u590d\u52a0\u8f7d~")):this.loadPlugin(e,n,(function(){i.process(e,Te[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var r=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){i(t)},o.onload=function(){r._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e}();ke.usePlugin(Ce,"extend"),ke.usePlugin(Oe,"et"),ke.usePlugin(Ae,"profile"),ke.usePlugin(Re,"heartbeat"),ke.usePlugin(xe,"monitor");var Pe=new ke("default"),Le=3053,De=3297;var Ne=function(e){function t(t){var n=t.test,i=t.TEAChannelDomain,r=void 0===i?"":i,o=t.mode,a=t.TEAChannel,s=t.TEAChannelType;return t.tracker=r||s||a?function(e){var t=e.isTest,n=e.channel_domain,i=e.channel_type,r=e.channel,o=/snssdk|zijieapi/g.test(n)&&/ttp|tcpy/g.test(i)&&/va|sg|in/g.test(r)?Le:De;return Pe.init({app_id:o,channel_type:i,channel:r,channel_domain:n}),Pe.config({_staging_flag:t?1:0,enable_et_test:t}),Pe.start(),Pe.event.bind(Pe)}({isTest:n||"test"===o,channel_domain:r,channel_type:s,channel:a}):function(){},e.call(this,t)||this}return r(t,e),t}(I)},14148:function(e,t,n){"use strict";n.d(t,{F2:function(){return we},Ay:function(){return Se}});var i=n(8599),r=n(5178),o=n(76978),a=n(64964),s=n(18875),c=n(78417),u=n(81508),l=n(47602),f={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.A)(this,e),this.init(t,n)}return(0,a.A)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||f,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,(0,r.A)({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}(),p=new h,g=function(){function e(){(0,o.A)(this,e),this.observers={}}return(0,a.A)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function d(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function v(e){return null==e?"":""+e}function m(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var a=i(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return r()?{}:{obj:e,k:i(o.shift())}}function y(e,t,n){var i=m(e,t,Object);i.obj[i.k]=n}function _(e,t){var n=m(e,t),i=n.obj,r=n.k;if(i)return i[r]}function b(e,t,n){var i=_(e,n);return void 0!==i?i:_(t,n)}function w(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):w(e[i],t[i],n):e[i]=t[i]);return e}function S(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function k(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return E[e]})):e}var O="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,A=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,o.A)(this,t),n=(0,s.A)(this,(0,c.A)(t).call(this)),O&&g.call((0,u.A)(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[e,t];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=e.split(".")),_(this.data,o)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=t,t=(a=e.split("."))[1]),this.addNamespaces(t),y(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var c=_(this.data,s)||{};i?w(c,n,o):c=(0,r.A)({},c,n),y(this.data,s,c),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?(0,r.A)({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(g),R={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,i,r))})),t}},x={},I=function(e){function t(e){var n,i,r,a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.A)(this,t),n=(0,s.A)(this,(0,c.A)(t).call(this)),O&&g.call((0,u.A)(n)),i=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r=e,a=(0,u.A)(n),i.forEach((function(e){r[e]&&(a[e]=r[e])})),n.options=l,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=p.create("translator"),n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:r};var a=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(a[0])>-1)&&(r=a.shift()),e=a.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,n,o){var a=this;if("object"!==(0,i.A)(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,c=this.extractFromKey(e[e.length-1],n),u=c.key,l=c.namespaces,f=l[l.length-1],h=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(p){var g=n.nsSeparator||this.options.nsSeparator;return f+g+u}return u}var d=this.resolve(e,n),v=d&&d.res,m=d&&d.usedKey||u,y=d&&d.exactUsedKey||u,_=Object.prototype.toString.apply(v),b=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&v&&("string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(_)<0&&("string"!=typeof b||"[object Array]"!==_)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,n):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");if(s){var S="[object Array]"===_,E=S?[]:{},k=S?y:m;for(var O in v)if(Object.prototype.hasOwnProperty.call(v,O)){var A="".concat(k).concat(s).concat(O);E[O]=this.translate(A,(0,r.A)({},n,{joinArrays:!1,ns:l})),E[O]===A&&(E[O]=v[O])}v=E}}else if(w&&"string"==typeof b&&"[object Array]"===_)(v=v.join(b))&&(v=this.extendTranslation(v,e,n,o));else{var R=!1,x=!1,I=void 0!==n.count&&"string"!=typeof n.count,T=t.hasDefaultValue(n),C=I?this.pluralResolver.getSuffix(h,n.count):"",P=n["defaultValue".concat(C)]||n.defaultValue;!this.isValidLookup(v)&&T&&(R=!0,v=P),this.isValidLookup(v)||(x=!0,v=u);var L=T&&P!==v&&this.options.updateMissing;if(x||R||L){if(this.logger.log(L?"updateKey":"missingKey",h,f,u,L?P:v),s){var D=this.resolve(u,(0,r.A)({},n,{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var N=[],M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&M&&M[0])for(var z=0;z<M.length;z++)N.push(M[z]);else"all"===this.options.saveMissingTo?N=this.languageUtils.toResolveHierarchy(n.lng||this.language):N.push(n.lng||this.language);var j=function(e,t,i){a.options.missingKeyHandler?a.options.missingKeyHandler(e,f,t,L?i:v,L,n):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,f,t,L?i:v,L,n),a.emit("missingKey",e,f,t,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?N.forEach((function(e){a.pluralResolver.getSuffixes(e).forEach((function(t){j([e],u+t,n["defaultValue".concat(t)]||P)}))})):j(N,u,P))}v=this.extendTranslation(v,e,n,d,o),x&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(f,":").concat(u)),x&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(e,t,n,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init((0,r.A)({},n,{interpolation:(0,r.A)({},this.options.interpolation,n.interpolation)}));var s,c=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(c){var u=e.match(this.interpolator.nestingRegexp);s=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=(0,r.A)({},this.options.interpolation.defaultVariables,l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),c){var f=e.match(this.interpolator.nestingRegexp);s<(f&&f.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return o&&o[0]===i[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):a.translate.apply(a,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,p="string"==typeof h?[h]:h;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=R.handle(p,e,t,this.options&&this.options.postProcessPassResolved?(0,r.A)({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),u=c.key;n=u;var l=c.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,h=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!x["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(x["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){r=n;var o,c,l=u,p=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(p,u,n,e,s);else f&&(o=a.pluralResolver.getSuffix(n,s.count)),f&&h&&p.push(l+o),h&&p.push(l+="".concat(a.options.contextSeparator).concat(s.context)),f&&p.push(l+=o);for(;c=p.pop();)a.isValidLookup(t)||(i=c,t=a.getResource(n,e,c,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),t}(g);function T(e){return e.charAt(0).toUpperCase()+e.slice(1)}var C=function(){function e(t){(0,o.A)(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=p.create("languageUtils")}return(0,a.A)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=T(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=T(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=T(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),P=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],L={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};var D=function(){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.A)(this,e),this.languageUtils=t,this.options=i,this.logger=p.create("pluralResolver"),this.rules=(n={},P.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:L[e.fc]}}))})),n)}return(0,a.A)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,i=this.getRule(e);if(i){var r=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),o=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.A)(this,e),this.logger=p.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,a.A)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:k,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?S(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?S(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?S(t.nestingPrefix):t.nestingPrefixEscaped||S("$t("),this.nestingSuffix=t.nestingSuffix?S(t.nestingSuffix):t.nestingSuffixEscaped||S(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,o,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var r=b(t,c,e);return s.alwaysFormat?s.format(r,void 0,n):r}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(b(t,c,a),u,n,i)};this.resetRegExp();var f=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;r=t.regex.exec(e);){if(void 0===(o=l(r[1].trim())))if("function"==typeof f){var n=f(e,r,i);o="string"==typeof n?n:""}else{if(h){o=r[0];continue}s.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=v(o));if(e=e.replace(r[0],t.safeValue(o)),t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(0,r.A)({},a);function c(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(i[1]);e=i[0],o=(o=this.interpolate(o,s)).replace(/'/g,'"');try{s=JSON.parse(o),t&&(s=(0,r.A)({},t,s))}catch(a){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),a),"".concat(e).concat(n).concat(o)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],l=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var f=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=f.shift(),u=f,l=!0}if((i=t(c.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=v(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),l&&(i=u.reduce((function(e,t){return o.format(e,t,a.lng,a)}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();var M=function(e){function t(e,n,i){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,o.A)(this,t),r=(0,s.A)(this,(0,c.A)(t).call(this)),O&&g.call((0,u.A)(r)),r.backend=e,r.store=n,r.services=i,r.languageUtils=i.languageUtils,r.options=a,r.logger=p.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,a.backend,a),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"queueLoad",value:function(e,t,n,i){var r=this,o=[],a=[],s=[],c=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?a.indexOf(s)<0&&a.push(s):(r.state[s]=1,i=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),c.indexOf(t)<0&&c.push(t)))})),i||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:i}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){var i,s,c,u,l,f;i=n.loaded,s=o,u=m(i,[r],Object),l=u.obj,f=u.k,l[f]=l[f]||[],c&&(l[f]=l[f].concat(s)),c||l[f].push(s),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,c){s&&c&&r<5?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*o,a)}),o):a(s,c)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(function(i,a){i&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),i),!i&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),a),t.loaded(e,i,a)}))}},{key:"saveMissing",value:function(e,t,n,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,(0,r.A)({},a,{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),t}(g);function z(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function j(){}var G,U=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,o.A)(this,t),e=(0,s.A)(this,(0,c.A)(t).call(this)),O&&g.call((0,u.A)(e)),e.options=z(n),e.services={},e.logger=p,e.modules={external:[]},i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),(0,s.A)(e,(0,u.A)(e));setTimeout((function(){e.init(n,i)}),0)}return e}return(0,l.A)(t,e),(0,a.A)(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function o(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=(0,r.A)({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,i.A)(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===(0,i.A)(e[2])||"object"===(0,i.A)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,z(t)),this.format=this.options.interpolation.format,n||(n=j),!this.options.isClone){this.modules.logger?p.init(o(this.modules.logger),this.options):p.init(null,this.options);var a=new C(this.options);this.store=new A(this.options.resources,this.options);var s=this.services;s.logger=p,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new D(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new N(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new M(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new I(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var u=d(),l=function(){var t=function(t,i){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var r=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};if(i)o(i);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)}));this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(r,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(e,t,n){var i=d();return e||(e=this.languages),t||(t=this.options.ns),n||(n=j),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&R.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=d();this.emit("languageChanging",e);var r=function(e){var r="string"==typeof e?e:n.services.languageUtils.getBestMatchFromCodes(e);r&&(n.language||(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r)),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){!function(e,r){r?(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r),n.translator.changeLanguage(r),n.isLanguageChangingTo=void 0,n.emit("languageChanged",r),n.logger.log("languageChanged",r)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t){var n=this,o=function e(t,o){var a;if("object"!==(0,i.A)(o)){for(var s=arguments.length,c=new Array(s>2?s-2:0),u=2;u<s;u++)c[u-2]=arguments[u];a=n.options.overloadTranslationOptionHandler([t,o].concat(c))}else a=(0,r.A)({},o);return a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,n.t(t,a)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(i,e)||(!this.services.backendConnector.backend||!(!a(i,e)||r&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=d();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=d();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,o=(0,r.A)({},this.options,n,{isClone:!0}),a=new t(o);return["store","services","language"].forEach((function(t){a[t]=e[t]})),a.services=(0,r.A)({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new I(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.emit.apply(a,[e].concat(n))})),a.init(o,i),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}}]),t}(g),B=new U,F=n(48983).S,V=function(){return V=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},V.apply(this,arguments)};function K(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}void 0===n&&(n=null);for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var a=i(o.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return r()?{}:{obj:e,k:i(o.shift())}}!function(e){e.keepRaw="keepRaw",e.replaceAnyway="replaceAnyway"}(G||(G={}));G.replaceAnyway;var W={memoize:!1,memoizeFallback:!1,bindI18n:!1,bindI18nStore:!1,onParseError:G.replaceAnyway},H=function(){function e(){this.mem={}}return e.staticInit=function(t){e._i18nextInstance=t},e.prototype.init=function(t,n){var i=this;void 0===t&&(t=e._i18nextInstance);var r={};if((null==t?void 0:t.options)&&(t.options.i18nFormat&&(r=t.options.i18nFormat),r.onParseError=t.options.onParseError,r.missingInterpolationHandler=t.options.missingInterpolationHandler,r.icuConfig=t.options.icuConfig,r.ignoreWarning=!!t.options.ignoreWarning),this.options=Object.assign(W,n,r),this.formats=this.options.formats,t){var o=this.options,a=o.bindI18n,s=o.bindI18nStore,c=o.memoize;t.IntlMessageFormat=F,this.IntlMessageFormat=F,t.ICU=this,c&&(a&&t.on(a,(function(){return i.clearCache()})),s&&t.store.on(s,(function(){return i.clearCache()})))}this.options.localeData&&("[object Array]"===Object.prototype.toString.apply(this.options.localeData)?this.options.localeData.forEach((function(e){return i.addLocaleData(e)})):this.addLocaleData(this.options.localeData))},e.prototype.addLocaleData=function(e){("[object Array]"===Object.prototype.toString.apply(e)?e:[e]).forEach((function(e){e&&e.locale&&F.__addLocaleData(e)}))},e.prototype.addUserDefinedFormats=function(e){this.formats=this.formats?V(V({},this.formats),e):e},e.prototype.checkMissingInterpolation=function(e,t,n,i,r){if(!1===(this.options.icuConfig||{}).strict)return n;for(var o={},a=0,s=e;a<s.length;a++){var c=s[a];if(1===c.type){var u=c.value;if(null===n[u]||void 0===n[u]){if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler({key:r,text:t,locale:i,interpolation:{key:u,val:n[u]}});if("string"==typeof l){o[u]=l;continue}}switch(this.options.onParseError){case G.keepRaw:throw new Error;case G.replaceAnyway:o[u]="{"+u+"}";continue}if("function"==typeof this.options.onParseError){console.warn("[DEPRECATED] onParseError is deprecated, please use 'missingInterpolationHandler' instead of");var f=this.options.onParseError(t,u,i,this.IntlMessageFormat);if(!0===f)throw new Error;o[u]="string"==typeof f?f:"{"+u+"}"}else this.options.ignoreWarning||console.warn('[Starling ICU Warning] The interpolation parameter "{'+u+'}" is missing in the translation text "'+t+'" for the key "'+r+"\"\nSuggestions: check whether the value is null or undefined. Try using empty string '' as fallback! e.g I18n.t('key', { apple: count || '' })"),o[u]="{"+u+"}"}}}return Object.assign({},n,o)},e.prototype.parse=function(e,t,n,i,r,o){var a,s,c,u,l=o&&o.resolved&&o.resolved.res,f=this.options.memoize&&n+"."+i+"."+r.replace(/\./g,"###");!l&&t.thirdParamFallback&&t.fallbackText&&(e=t.fallbackText),this.options.memoize&&(a=function(e,t){var n=K(e,t),i=n.obj,r=n.k;if(i)return i[r]}(this.mem,f));try{return a||(a=new this.IntlMessageFormat(e,n,this.formats,(this.options.icuConfig||{}).formatOptions),this.options.memoize&&(this.options.memoizeFallback||!o||l)&&(s=this.mem,c=a,(u=K(s,f,Object)).obj[u.k]=c)),a.format(this.checkMissingInterpolation(a.getAst(),e,t||{},n,r))}catch(h){return e}},e.prototype.addLookupKeys=function(e,t,n,i,r){return e},e.prototype.clearCache=function(){this.mem={}},e.type="i18nFormat",e._i18nextInstance=null,e}(),q=(H.name,function(){return q=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},q.apply(this,arguments)}),J=/^\s*\[\[__starling_(\d+)_(.*)__\]\]\s*$/;"undefined"!=typeof window&&(window.__STARLING_INCONTEXT_GLOBAL__HOOK__=q({},window.__STARLING_INCONTEXT_GLOBAL__HOOK__||{payload:{}}));var X={name:"inContext",type:"postProcessor",process:function(e,t,n,i){if(window&&document.getElementById("INCONTEXT-KEY-MATCH")&&!n.__STARLING_INCONTEXT_FLAG__){window.__STARLING_INCONTEXT_GLOBAL_I18N__||(window.__STARLING_INCONTEXT_GLOBAL_I18N__=i),delete n.keySeparator,delete n.lngs;var r=0;if(t=t.toString(),J.test(t))(o=t.match(J))[0],r=o[1],t=o[2];if(J.test(e)){var o;(o=e.match(J))[0];o[1];e=o[2]}if(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]){var a=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].findIndex((function(e){return JSON.stringify(e.options)===JSON.stringify(n)}));a>-1?(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t][a].default=e,r=a):r=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].push({options:n,default:e})-1}else window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]=[{options:n,default:e}],r=0;return"[[__starling_"+r+"_"+t+"__]]"}return e}};function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Z(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}for(var ne=["AFN","EUR","ALL","DZD","USD","AOA","XCD","ARS","AMD","AWG","AUD","AZN","BSD","BHD","BDT","BBD","BYN","BZD","XOF","BMD","INR","BTN","BOB","BOV","BAM","BWP","NOK","BRL","BND","BGN","BIF","CVE","KHR","XAF","CAD","KYD","CLP","CLF","CNY","COP","COU","KMF","CDF","NZD","CRC","HRK","CUP","CUC","ANG","CZK","DKK","DJF","DOP","EGP","SVC","ERN","ETB","FKP","FJD","XPF","GMD","GEL","GHS","GIP","GTQ","GBP","GNF","GYD","HTG","HNL","HKD","HUF","ISK","IDR","XDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KPW","KRW","KWD","KGS","LAK","LBP","LSL","ZAR","LRD","LYD","CHF","MOP","MKD","MGA","MWK","MYR","MVR","MRO","MUR","XUA","MXN","MXV","MDL","MNT","MAD","MZN","MMK","NAD","NPR","NIO","NGN","OMR","PKR","PAB","PGK","PYG","PEN","PHP","PLN","QAR","RON","RUB","RWF","SHP","WST","STD","SAR","RSD","SCR","SLL","SGD","XSU","SBD","SOS","SSP","LKR","SDG","SRD","SZL","SEK","CHE","CHW","SYP","TWD","TJS","TZS","THB","TOP","TTD","TND","TRY","TMT","UGX","UAH","AED","USN","UYU","UYI","UZS","VUV","VEF","VND","YER","ZMW","ZWL","XBA","XBB","XBC","XBD","XTS","XXX","XAU","XPD","XPT","XAG"],ie={},re=0;re<ne.length;re++)ie[ne[re]]={style:"currency",currency:ne[re]};var oe={number:ie},ae="languageTransformer";function se(e){return function(t){return t.type===e}}function ce(e,t){var n=e;return(t||[]).map((function(t){n=t.process(e)||n})),n}var ue,le={lng:"zh-CN",fallbackLng:["en-US"],inContext:!0},fe=[H,X],he=function(){function e(t,n){Y(this,e),this._waitingToAddResourceBundle=[],null!=t&&t.copiedI18nextInstance?this.instance=t.copiedI18nextInstance:(this._handlePlugins(n),this._handleConfigs(t),this.instance=B.createInstance(),this.instance.isInitialized=!1)}return Z(e,[{key:"_handlePlugins",value:function(e){var t,n;!1===(null===(t=this.config)||void 0===t||null===(n=t.icuConfig)||void 0===n?void 0:n.open)&&fe.shift(),this.plugins=Array.isArray(e)?e.concat(fe):fe}},{key:"_handleConfigs",value:function(e){this.userLng=(null==e?void 0:e.lng)||null,this.config=Object.assign({},le,e||{})}},{key:"language",get:function(){return(this.instance||{}).language}},{key:"createInstance",value:function(){var e=this;return new Promise((function(t,n){"undefined"!=typeof window&&!window.CocosEngine&&e.config.inContext&&(e.config.postProcess=[].concat(["inContext"],e.config.postProcess||[]),window.__STARLING_DEVTOOLS_I18N=e.instance),e.plugins.map((function(t){"IES_INTL_ICU_PLUGIN"===t.name&&t.staticInit(e.instance),e.instance.use(t)}));var i=e.config;e.config.formats=Object.assign({},e.config.formats,oe);var r=ce(i.lng,e.plugins.filter(se(ae)));e.instance.init(Object.assign({},i,{lng:r,i18nFormat:{formats:e.config.formats}}),(function(i,r){try{var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ee(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e._waitingToAddResourceBundle);try{for(a.s();!(o=a.n()).done;){var s,c=o.value;(s=e.instance).addResourceBundle.apply(s,Q(c))}}catch(i){a.e(i)}finally{a.f()}e._waitingToAddResourceBundle=[]}catch(i){}i||(e._updateLanguages(),t({t:r,err:i})),e.init=!0,n({t:r,err:i})}))}))}},{key:"_updateLanguages",value:function(){this.languages=this.instance?Array.from(new Set([this.instance.language].concat(Q(this.instance.languages)))):null}},{key:"getLanguages",value:function(){return this.languages}},{key:"changeLanguage",value:function(e,t){var n=this;this.config.lng=e,this.instance.changeLanguage(e,(function(e,i){e||n._updateLanguages(),t&&t(e,i)}))}},{key:"changeLanguageWithPromise",value:function(e){var t=this;return new Promise((function(n,i){t.config.lng=e,t.instance.changeLanguage(e,(function(e,r){e&&i({err:e,t:r}),t._updateLanguages(),n({err:e,t:r})}))}))}},{key:"getDir",value:function(e){return this.instance.dir(e)}},{key:"t",value:function(e,t,n){var i=Array.isArray(e)?Array.from(e).map((function(){return" "})).join(""):Array(e.length).fill(" "),r=Object.assign({keySeparator:i,nsSeparator:i},t);return"thirdParamFallback"in this.config&&this.config.thirdParamFallback&&(r.thirdParamFallback=!0),this.instance.t(e,n,r)}},{key:"addResourceBundle",value:function(e,t,n,i,r){return this.instance.isInitialized?this.instance.addResourceBundle(e,t,n,i,r):(this._waitingToAddResourceBundle.push([e,t,n,!!i,!!r]),this.instance)}},{key:"cloneInstance",value:function(t,n){var i=this.instance.cloneInstance(t,n),r=new e({copiedI18nextInstance:i});return r.t=this.t.bind(r),r.config=this.config,r.plugins=this.plugins,r.languages=this.languages,r.init=i.isInitialized||Boolean(this.init),r.userLng=this.userLng,i.on("initialized",(function(){r.init=!0})),r}}]),e}(),pe="Starling_intl:",ge=function(){for(var e,t="".concat(pe," [WARNING]"),n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(e=console).warn.apply(e,[t].concat(i))},de=function(){for(var e,t="".concat(pe," [ERROR]"),n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(e=console).error.apply(e,[t].concat(i))};function ve(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function me(){}function ye(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(i){return Promise.reject(i)}}}!function(e){e.intl3rdParty="intl3rdParty",e.backend="backend",e.logger="logger",e.languageDetector="languageDetector",e.postProcessor="postProcessor",e.i18nFormat="i18nFormat",e["3rdParty"]="3rdParty"}(ue||(ue={}));var _e=null,be=function(){function e(t){var n;Y(this,e),this.plugins=[],this.i18nInstance=null!==(n=null==t?void 0:t.i18nInstance)&&void 0!==n?n:new he}return Z(e,[{key:"use",value:function(e){return this.plugins.includes(e)?(ge("Plugin: ".concat(e.name," has beeninit installed.")),this):(this.plugins.push(e),this)}},{key:"init",value:function(e,t){try{var n=this;return n.ignoreWarning=e.ignoreWarning,n.i18nInstance._handleConfigs(e),n.i18nInstance._handlePlugins(n.plugins),ve(function(e,t){try{var n=e()}catch(i){return t(i)}return n&&n.then?n.then(void 0,t):n}((function(){return ve(n.i18nInstance.createInstance(),(function(e){var i,r=e.err,o=e.t,a=n.plugins.filter((function(e){return e.type===ue.intl3rdParty}));return ve((i=a.map(ye((function(e){if(e&&"function"==typeof e.init)return function(e,t){if(!t)return e&&e.then?e.then(me):Promise.resolve()}((e.init instanceof Promise?e.init:ye((function(t){return Promise.resolve(e.init(t))})))(n))}))),new Promise((function(e,t){if(Array.isArray(i)||(i=Array.from(i)),i.length<=0)return e([]);var n=[];i=i.map((function(r,o){return function(){("function"==typeof r?new Promise(r):Promise.resolve(r)).then((function(t){n[o]=t,o===i.length-1?e(n):i[o+1]()}),t)}})),i[0]()}))),(function(){return"function"==typeof t&&t(r,o),{err:r,t:o}}))}))}),(function(e){return de("The instance init error: ".concat(e)),{err:e,t:function(e){return e}}})))}catch(i){return Promise.reject(i)}}},{key:"language",get:function(){return(this.i18nInstance||{}).language}},{key:"setLang",value:function(e,t){var n=ce(e,this.plugins.filter(se(ae)));this.i18nInstance.changeLanguage(n,t)}},{key:"getLanguages",value:function(){return this.i18nInstance.getLanguages()}},{key:"setLangWithPromise",value:function(e){var t=ce(e,this.plugins.filter(se(ae)));return this.i18nInstance.changeLanguageWithPromise(t)}},{key:"dir",value:function(e){return this.i18nInstance.getDir(e)}},{key:"t",value:function(e,t,n){var i=null;return(i=void 0===this?_e:this).ignoreWarning||i.i18nInstance&&i.i18nInstance.init?!e||"string"==typeof e&&!e.trim()?"":i.i18nInstance.t(e,t,n):(de("The instance has not been initialized: i18n.t('".concat(e,"'").concat(t?","+JSON.stringify(t):"",");")),null!=n?n:Array.isArray(e)?e[0]:e)}},{key:"addResourceBundle",value:function(e,t,n,i,r){return this.i18nInstance.addResourceBundle(e,t,n,i,r)}},{key:"cloneInstance",value:function(t){var n=this.i18nInstance.cloneInstance(t),i=new e({i18nInstance:n});return i.t=this.t.bind(i),i.plugins=this.plugins,i.ignoreWarning=this.ignoreWarning,i}}]),e}(),we=_e=new be,Se=_e},64144:function(e,t,n){"use strict";n.d(t,{U:function(){return u}});var i=Object.defineProperty,r=(e,t,n)=>(((e,t,n)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const o="/__opfs_system_root";class a{constructor(e){r(this,"_module"),this._module=e}mkdirAdvanced(e,t){const n=u.ensureRootPath(e),{skipExist:i=!0,recursive:r=!1}=null!=t?t:{};this.isExist(n)&&i||(r?n.split("/").reduce(((e,t)=>{let n=e+"/"+t;return"/"!==n[0]&&(n="/"+n),this.isExist(n)||this.mkdir(n),n})):this.mkdir(n))}readDir(e){return this._module.FS.readdir(e)}getPathType(e){let t=this._module.FS.findObject(e);return null===t?"not_found":!0===t.isFolder?"directory":"file"}isDir(e){return"directory"===this.getPathType(e)}isFile(e){return"file"===this.getPathType(e)}isExist(e){return"not_found"!==this.getPathType(e)}}class s extends a{constructor(e){super(e),r(this,"idb",null),r(this,"promiseQueue",[])}async init(){}async flushFs(){await Promise.all(this.promiseQueue),this.promiseQueue=[]}async mkdir(e){this._module.FS.mkdir(e)}async rmdir(e){this._module.FS.rmdir(e)}async unlink(e){this._module.FS.unlink(e)}writeFileSyncInternal(e,t){return this._module.veFS_JS_HUB.writeFile(e,t,!0)}readFileSyncInternal(e){return this._module.veFS_JS_HUB.readFile(e)}async writeFileInternal(e,t){return this.writeFileSyncInternal(e,t)}async readFileInternal(e){return this.readFileSyncInternal(e)}}class c extends a{constructor(e){super(e),r(this,"promiseQueue",[]),r(this,"root",null)}removeSystemRoot(e){return e.startsWith(o)?e.substring(19):e}splitPath(e){return e.split("/").filter((e=>e.length>0))}async getPathHandle(e,t=!1){let n=this.root;for(let i of e)n=await n.getDirectoryHandle(i,{create:t});return n}async flushFs(){await Promise.all(this.promiseQueue),this.promiseQueue=[]}async init(){return this.root=await navigator.storage.getDirectory(),new Promise((e=>{const t=this._module;t.WASMFS_INIT_DONE?e():t.WASMFS_INIT_DONE_CALLBACK=e}))}async mkdir(e){e=this.removeSystemRoot(e);let t=this.splitPath(e);await this.getPathHandle(t,!0)}async rmdir(e){e=this.removeSystemRoot(e);let t=this.splitPath(e),n=t.pop();await(await this.getPathHandle(t)).removeEntry(n,{recursive:!0})}async unlink(e){e=this.removeSystemRoot(e);let t=this.splitPath(e),n=t.pop();await(await this.getPathHandle(t)).removeEntry(n)}async writeFileInternal(e,t){e=this.removeSystemRoot(e);let n=this.splitPath(e),i=n.pop(),r=(await(await(await this.getPathHandle(n)).getFileHandle(i,{create:!0})).createWritable()).getWriter();return await r.write({type:"truncate",size:t.length}),await r.write({type:"seek",position:0}),await r.write(t),await r.close(),t.length}async readFileInternal(e){e=this.removeSystemRoot(e);let t=this.splitPath(e),n=t.pop(),i=await(await(await this.getPathHandle(t)).getFileHandle(n)).getFile(),r=i.stream().getReader(),o=new Uint8Array(i.size),a=0;for(;;){let e=await r.read();if(e.done)break;e.value&&(o.set(e.value,a),a+=e.value.length)}return await r.releaseLock(),o}writeFileSyncInternal(e,t){throw new Error("OPFS does not support sync IO.")}readFileSyncInternal(e){throw new Error("OPFS does not support sync IO.")}}class u{constructor(e){r(this,"_module"),r(this,"_fs"),this._module=e;const t=e;let n=!1;void 0===t.wasmFS_type?t.use_vefs_force=!0:n="opfs"===t.wasmFS_type,this._fs=n?new c(this._module):new s(this._module)}async init(){await this._fs.init()}static ensureRootPath(e){return e.startsWith(o)||(e=o+e),"/"==(e=e.replace(/\/\//g,"/"))[e.length-1]&&(e=e.substring(0,e.length-1)),e}mkdir(e,t){e=u.ensureRootPath(e),this._fs.mkdirAdvanced(e,t)}async flushFs(){await this._fs.flushFs()}rmdir(e){e=u.ensureRootPath(e),this._fs.rmdir(e)}unlink(e){e=u.ensureRootPath(e),this._fs.unlink(e)}stat(e){return e=u.ensureRootPath(e),this._module.FS.stat(e)}async writeFile(e,t,n=!1){if(e=u.ensureRootPath(e),n&&this.unlink(e),"string"==typeof t){var i=new Uint8Array(this._module.lengthBytesUTF8(t)+1),r=this._module.stringToUTF8Array(t,i,0,i.length);t=i.subarray(0,r)}return await this._fs.writeFileInternal(e,t)}writeFileSync(e,t,n=!1){if(e=u.ensureRootPath(e),n&&this.unlink(e),"string"==typeof t){var i=new Uint8Array(this._module.lengthBytesUTF8(t)+1),r=this._module.stringToUTF8Array(t,i,0,i.length);t=i.subarray(0,r)}return this._fs.writeFileSyncInternal(e,t)}async readFile(e,t="binary"){e=u.ensureRootPath(e);let n=await this._fs.readFileInternal(e);if("number"==typeof n)throw new Error("file not found");return("utf8"===t||"utf-8"===t)&&(n=this._module.UTF8ArrayToString(n,0)),n}readFileSync(e,t="binary"){e=u.ensureRootPath(e);let n=this._fs.readFileSyncInternal(e);if("number"==typeof n)throw new Error("file not found");return("utf8"===t||"utf-8"===t)&&(n=this._module.UTF8ArrayToString(n,0)),n}getPathType(e){return e=u.ensureRootPath(e),this._fs.getPathType(e)}readDir(e){return e=u.ensureRootPath(e),this._fs.readDir(e)}isDir(e){return e=u.ensureRootPath(e),"directory"===this.getPathType(e)}isFile(e){return e=u.ensureRootPath(e),"file"===this.getPathType(e)}isExist(e){return e=u.ensureRootPath(e),"not_found"!==this.getPathType(e)}}},902:function(e,t,n){"use strict";var i=n(10433)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(r){i=null}e.exports=i},491:function(e,t,n){"use strict";var i=n(8821),r=function(){return!!i};r.hasArrayLengthDefineBug=function(){if(!i)return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=r},25458:function(e){"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},95048:function(e,t,n){"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(63674);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},63674:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},27671:function(e,t,n){"use strict";var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=n(79524);e.exports=o.call(i,r)},8376:function(e,t,n){"use strict";n.d(t,{AO:function(){return l},TM:function(){return k},sC:function(){return A},yJ:function(){return f},zR:function(){return y}});var i=n(32913),r=n(64408),o=n(45166);function a(e){return"/"===e.charAt(0)?e:"/"+e}function s(e){return"/"===e.charAt(0)?e.substr(1):e}function c(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function u(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function l(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function f(e,t,n,o){var a;"string"==typeof e?(a=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}(e),a.state=t):(void 0===(a=(0,i.A)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),o?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,r.A)(a.pathname,o.pathname)):a.pathname=o.pathname:a.pathname||(a.pathname="/"),a}function h(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,r){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof i?i(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter((function(e){return e!==i}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach((function(e){return e.apply(void 0,n)}))}}}var p=!("undefined"==typeof window||!window.document||!window.document.createElement);function g(e,t){t(window.confirm(e))}var d="popstate",v="hashchange";function m(){try{return window.history.state||{}}catch(e){return{}}}function y(e){void 0===e&&(e={}),p||(0,o.A)(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,s=!(-1===window.navigator.userAgent.indexOf("Trident")),y=e,_=y.forceRefresh,b=void 0!==_&&_,w=y.getUserConfirmation,S=void 0===w?g:w,E=y.keyLength,k=void 0===E?6:E,O=e.basename?u(a(e.basename)):"";function A(e){var t=e||{},n=t.key,i=t.state,r=window.location,o=r.pathname+r.search+r.hash;return O&&(o=c(o,O)),f(o,i,n)}function R(){return Math.random().toString(36).substr(2,k)}var x=h();function I(e){(0,i.A)(B,e),B.length=n.length,x.notifyListeners(B.location,B.action)}function T(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||L(A(e.state))}function C(){L(A(m()))}var P=!1;function L(e){if(P)P=!1,I();else{x.confirmTransitionTo(e,"POP",S,(function(t){t?I({action:"POP",location:e}):function(e){var t=B.location,n=N.indexOf(t.key);-1===n&&(n=0);var i=N.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(P=!0,z(r))}(e)}))}}var D=A(m()),N=[D.key];function M(e){return O+l(e)}function z(e){n.go(e)}var j=0;function G(e){1===(j+=e)&&1===e?(window.addEventListener(d,T),s&&window.addEventListener(v,C)):0===j&&(window.removeEventListener(d,T),s&&window.removeEventListener(v,C))}var U=!1;var B={length:n.length,action:"POP",location:D,createHref:M,push:function(e,t){var i="PUSH",o=f(e,t,R(),B.location);x.confirmTransitionTo(o,i,S,(function(e){if(e){var t=M(o),a=o.key,s=o.state;if(r)if(n.pushState({key:a,state:s},null,t),b)window.location.href=t;else{var c=N.indexOf(B.location.key),u=N.slice(0,c+1);u.push(o.key),N=u,I({action:i,location:o})}else window.location.href=t}}))},replace:function(e,t){var i="REPLACE",o=f(e,t,R(),B.location);x.confirmTransitionTo(o,i,S,(function(e){if(e){var t=M(o),a=o.key,s=o.state;if(r)if(n.replaceState({key:a,state:s},null,t),b)window.location.replace(t);else{var c=N.indexOf(B.location.key);-1!==c&&(N[c]=o.key),I({action:i,location:o})}else window.location.replace(t)}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return U||(G(1),U=!0),function(){return U&&(U=!1,G(-1)),t()}},listen:function(e){var t=x.appendListener(e);return G(1),function(){G(-1),t()}}};return B}var _="hashchange",b={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+s(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:s,decodePath:a},slash:{encodePath:a,decodePath:a}};function w(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function S(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function E(e){window.location.replace(w(window.location.href)+"#"+e)}function k(e){void 0===e&&(e={}),p||(0,o.A)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,s=void 0===r?g:r,d=n.hashType,v=void 0===d?"slash":d,m=e.basename?u(a(e.basename)):"",y=b[v],k=y.encodePath,O=y.decodePath;function A(){var e=O(S());return m&&(e=c(e,m)),f(e)}var R=h();function x(e){(0,i.A)(U,e),U.length=t.length,R.notifyListeners(U.location,U.action)}var I=!1,T=null;function C(){var e,t,n=S(),i=k(n);if(n!==i)E(i);else{var r=A(),o=U.location;if(!I&&(t=r,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(T===l(r))return;T=null,function(e){if(I)I=!1,x();else{var t="POP";R.confirmTransitionTo(e,t,s,(function(n){n?x({action:t,location:e}):function(e){var t=U.location,n=N.lastIndexOf(l(t));-1===n&&(n=0);var i=N.lastIndexOf(l(e));-1===i&&(i=0);var r=n-i;r&&(I=!0,M(r))}(e)}))}}(r)}}var P=S(),L=k(P);P!==L&&E(L);var D=A(),N=[l(D)];function M(e){t.go(e)}var z=0;function j(e){1===(z+=e)&&1===e?window.addEventListener(_,C):0===z&&window.removeEventListener(_,C)}var G=!1;var U={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=w(window.location.href)),n+"#"+k(m+l(e))},push:function(e,t){var n="PUSH",i=f(e,void 0,void 0,U.location);R.confirmTransitionTo(i,n,s,(function(e){if(e){var t=l(i),r=k(m+t);if(S()!==r){T=t,function(e){window.location.hash=e}(r);var o=N.lastIndexOf(l(U.location)),a=N.slice(0,o+1);a.push(t),N=a,x({action:n,location:i})}else x()}}))},replace:function(e,t){var n="REPLACE",i=f(e,void 0,void 0,U.location);R.confirmTransitionTo(i,n,s,(function(e){if(e){var t=l(i),r=k(m+t);S()!==r&&(T=t,E(r));var o=N.indexOf(l(U.location));-1!==o&&(N[o]=t),x({action:n,location:i})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=R.setPrompt(e);return G||(j(1),G=!0),function(){return G&&(G=!1,j(-1)),t()}},listen:function(e){var t=R.appendListener(e);return j(1),function(){j(-1),t()}}};return U}function O(e,t,n){return Math.min(Math.max(e,t),n)}function A(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,c=t.keyLength,u=void 0===c?6:c,p=h();function g(e){(0,i.A)(b,e),b.length=b.entries.length,p.notifyListeners(b.location,b.action)}function d(){return Math.random().toString(36).substr(2,u)}var v=O(s,0,o.length-1),m=o.map((function(e){return f(e,void 0,"string"==typeof e?d():e.key||d())})),y=l;function _(e){var t=O(b.index+e,0,b.entries.length-1),i=b.entries[t];p.confirmTransitionTo(i,"POP",n,(function(e){e?g({action:"POP",location:i,index:t}):g()}))}var b={length:m.length,action:"POP",location:m[v],index:v,entries:m,createHref:y,push:function(e,t){var i="PUSH",r=f(e,t,d(),b.location);p.confirmTransitionTo(r,i,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),g({action:i,location:r,index:t,entries:n})}}))},replace:function(e,t){var i="REPLACE",r=f(e,t,d(),b.location);p.confirmTransitionTo(r,i,n,(function(e){e&&(b.entries[b.index]=r,g({action:i,location:r}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),p.setPrompt(e)},listen:function(e){return p.appendListener(e)}};return b}},4674:function(e,t,n){"use strict";var i=n(17020),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(g){var r=p(n);r&&r!==g&&e(t,r,i)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=c(t),d=c(n),v=0;v<a.length;++v){var m=a[v];if(!(o[m]||i&&i[m]||d&&d[m]||s&&s[m])){var y=h(n,m);try{u(t,m,y)}catch(_){}}}}return t}},63328:function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?r-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=i;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,c,u=8*o-r-1,l=(1<<u)-1,f=l>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,g=i?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,r),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=g,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+p]=255&a,p+=g,a/=256,u-=8);e[n+p-g]|=128*d}},91193:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},47635:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},i.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},i.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,o=a(r),s=this._rootContainsTarget(r),c=i.entry,u=e&&s&&this._computeTargetAndRootIntersection(r,t),l=i.entry=new n({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:o,rootBounds:t,intersectionRect:u});c?e&&s?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(t,n){if("none"!=window.getComputedStyle(t).display){for(var i,r,o,s,u,l,f,h,p=a(t),g=c(t),d=!1;!d;){var v=null,m=1==g.nodeType?window.getComputedStyle(g):{};if("none"==m.display)return;if(g==this.root||g==e?(d=!0,v=n):g!=e.body&&g!=e.documentElement&&"visible"!=m.overflow&&(v=a(g)),v&&(i=v,r=p,o=void 0,s=void 0,u=void 0,l=void 0,f=void 0,h=void 0,o=Math.max(i.top,r.top),s=Math.min(i.bottom,r.bottom),u=Math.max(i.left,r.left),l=Math.min(i.right,r.right),h=s-o,!(p=(f=l-u)>=0&&h>=0&&{top:o,bottom:s,left:u,right:l,width:f,height:h})))break;g=c(g)}return p}},i.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,i=e.body;t={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},i.prototype._rootIsInDom=function(){return!this.root||s(e,this.root)},i.prototype._rootContainsTarget=function(t){return s(this.root||e,t)},i.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},i.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=n}function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function i(e,t){var n,i,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function r(e,t,n,i){"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function o(e,t,n,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function a(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(e,t){for(var n=t;n;){if(n==e)return!0;n=c(n)}return!1}function c(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},48983:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var i=n(58932),r=n(36056),o=n(65131),a=n(72475);function s(e,t){return t?Object.keys(e).reduce((function(n,r){var o,a;return n[r]=(o=e[r],(a=t[r])?(0,i.Cl)((0,i.Cl)((0,i.Cl)({},o||{}),a||{}),Object.keys(o).reduce((function(e,t){return e[t]=(0,i.Cl)((0,i.Cl)({},o[t]),a[t]||{}),e}),{})):o),n}),(0,i.Cl)({},e)):e}function c(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var u=function(){function e(t,n,r,u){var l,f=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=f.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===a.TT.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return(0,a.hN)(f.ast,f.locales,f.formatters,f.formats,e,void 0,f.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(f.locales)[0]}},this.getAst=function(){return f.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==u?void 0:u.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=s(e.formats,r),this.locales=n,this.formatters=u&&u.formatters||(void 0===(l=this.formatterCache)&&(l={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,o.A)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,i.fX)([void 0],t)))}),{cache:c(l.number),strategy:o.W.variadic}),getDateTimeFormat:(0,o.A)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,i.fX)([void 0],t)))}),{cache:c(l.dateTime),strategy:o.W.variadic}),getPluralRules:(0,o.A)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,i.fX)([void 0],t)))}),{cache:c(l.pluralRules),strategy:o.W.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=r.qg,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},72475:function(e,t,n){"use strict";n.d(t,{TT:function(){return a},hN:function(){return h}});var i,r=n(36056),o=n(58932);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(i||(i={}));var a,s=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=i,r}return(0,o.C6)(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),c=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(r).join('", "')+'"',i.INVALID_VALUE,o)||this}return(0,o.C6)(t,e),t}(s),u=function(e){function t(t,n,r){return e.call(this,'Value for "'+t+'" must be of type '+n,i.INVALID_VALUE,r)||this}return(0,o.C6)(t,e),t}(s),l=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',i.MISSING_VALUE,n)||this}return(0,o.C6)(t,e),t}(s);function f(e){return"function"==typeof e}function h(e,t,n,o,p,g,d){if(1===e.length&&(0,r.eW)(e[0]))return[{type:a.literal,value:e[0].value}];for(var v=[],m=0,y=e;m<y.length;m++){var _=y[m];if((0,r.eW)(_))v.push({type:a.literal,value:_.value});else if((0,r.jA)(_))"number"==typeof g&&v.push({type:a.literal,value:n.getNumberFormat(t).format(g)});else{var b=_.value;if(!p||!(b in p))throw new l(b,d);var w=p[b];if((0,r.Im)(_))w&&"string"!=typeof w&&"number"!=typeof w||(w="string"==typeof w||"number"==typeof w?String(w):""),v.push({type:"string"==typeof w?a.literal:a.object,value:w});else if((0,r.tv)(_)){var S="string"==typeof _.style?o.date[_.style]:(0,r.Tu)(_.style)?_.style.parsedOptions:void 0;v.push({type:a.literal,value:n.getDateTimeFormat(t,S).format(w)})}else if((0,r.Qh)(_)){S="string"==typeof _.style?o.time[_.style]:(0,r.Tu)(_.style)?_.style.parsedOptions:void 0;v.push({type:a.literal,value:n.getDateTimeFormat(t,S).format(w)})}else if((0,r.oF)(_)){(S="string"==typeof _.style?o.number[_.style]:(0,r.N1)(_.style)?_.style.parsedOptions:void 0)&&S.scale&&(w*=S.scale||1),v.push({type:a.literal,value:n.getNumberFormat(t,S).format(w)})}else{if((0,r.xm)(_)){var E=_.children,k=_.value,O=p[k];if(!f(O))throw new u(k,"function",d);var A=O(h(E,t,n,o,p,g).map((function(e){return e.value})));Array.isArray(A)||(A=[A]),v.push.apply(v,A.map((function(e){return{type:"string"==typeof e?a.literal:a.object,value:e}})))}if((0,r.Jp)(_)){if(!(R=_.options[w]||_.options.other))throw new c(_.value,w,Object.keys(_.options),d);v.push.apply(v,h(R.value,t,n,o,p))}else if((0,r.N6)(_)){var R;if(!(R=_.options["="+w])){if(!Intl.PluralRules)throw new s('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',i.MISSING_INTL_API,d);var x=n.getPluralRules(t,{type:_.pluralType}).select(w-(_.offset||0));R=_.options[x]||_.options.other}if(!R)throw new c(_.value,w,Object.keys(_.options),d);v.push.apply(v,h(R.value,t,n,o,p,w-(_.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===a.literal&&t.type===a.literal?n.value+=t.value:e.push(t),e}),[])}(v)}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(a||(a={}))},69637:function(e){"use strict";e.exports=function(e,t,n,i,r,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},8346:function(e){"use strict";const t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!t.has(e&&e.code)},57028:function(e,t,n){"use strict";function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(e){return!!e&&!!e[J]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Y}(e)||Array.isArray(e)||!!e[q]||!!(null===(t=e.constructor)||void 0===t?void 0:t[q])||h(e)||p(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:$)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function s(e){var t=e[J];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:p(e)?3:0}function c(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t,n){var i=s(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return V&&e instanceof Map}function p(e){return K&&e instanceof Set}function g(e){return e.o||e.t}function d(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Z(e);delete t[J];for(var n=$(t),i=0;i<n.length;i++){var r=n[i],o=t[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),y(e)||r(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&a(e,(function(e,t){return v(t,!0)}),!0)),e}function m(){i(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function _(e){var t=Q[e];return t||i(18,e),t}function b(e,t){Q[e]||(Q[e]=t)}function w(){return B}function S(e,t){t&&(_("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){k(e),e.p.forEach(A),e.p=null}function k(e){e===B&&(B=e.l)}function O(e){return B={p:[],l:B,h:e,m:!0,_:0}}function A(e){var t=e[J];0===t.i||1===t.i?t.j():t.g=!0}function R(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||_("ES5").S(t,e,r),r?(n[J].P&&(E(t),i(4)),o(e)&&(e=x(t,e),t.l||T(t,e)),t.u&&_("Patches").M(n[J].t,e,t.u,t.s)):e=x(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function x(e,t,n){if(y(t))return t;var i=t[J];if(!i)return a(t,(function(r,o){return I(e,i,t,r,o,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return T(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=d(i.k):i.o,o=r,s=!1;3===i.i&&(o=new Set(r),r.clear(),s=!0),a(o,(function(t,o){return I(e,i,r,t,o,n,s)})),T(e,r,!1),n&&e.u&&_("Patches").N(i,n,e.u,e.s)}return i.o}function I(e,t,n,i,a,s,u){if(r(a)){var f=x(e,a,s&&t&&3!==t.i&&!c(t.R,i)?s.concat(i):void 0);if(l(n,i,f),!r(f))return;e.m=!1}else u&&n.add(a);if(o(a)&&!y(a)){if(!e.h.D&&e._<1)return;x(e,a),t&&t.A.l||T(e,a)}}function T(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&v(t,n)}function C(e,t){var n=e[J];return(n?g(n):e)[t]}function P(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function L(e){e.P||(e.P=!0,e.l&&L(e.l))}function D(e){e.o||(e.o=d(e.t))}function N(e,t,n){var i=h(t)?_("MapSet").F(t,n):p(t)?_("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=i,o=ee;n&&(r=[i],o=te);var a=Proxy.revocable(r,o),s=a.revoke,c=a.proxy;return i.k=c,i.j=s,c}(t,n):_("ES5").J(t,n);return(n?n.A:w()).p.push(i),i}function M(e){return r(e)||i(22,e),function e(t){if(!o(t))return t;var n,i=t[J],r=s(t);if(i){if(!i.P&&(i.i<4||!_("ES5").K(i)))return i.t;i.I=!0,n=z(t,r),i.I=!1}else n=z(t,r);return a(n,(function(t,r){i&&u(i.t,t)===r||l(n,t,e(r))})),3===r?new Set(n):n}(e)}function z(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return d(e)}function j(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[J];return ee.get(t,e)},set:function(t){var n=this[J];ee.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][J];if(!r.P)switch(r.i){case 5:i(r)&&L(r);break;case 4:n(r)&&L(r)}}}function n(e){for(var t=e.t,n=e.k,i=$(n),r=i.length-1;r>=0;r--){var o=i[r];if(o!==J){var a=t[o];if(void 0===a&&!c(t,o))return!0;var s=n[o],u=s&&s[J];if(u?u.t!==a:!f(s,a))return!0}}var l=!!t[J];return i.length!==$(t).length+(l?0:1)}function i(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var i=0;i<t.length;i++)if(!t.hasOwnProperty(i))return!0;return!1}var o={};b("ES5",{J:function(t,n){var i=Array.isArray(t),r=function(t,n){if(t){for(var i=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(i,""+r,e(r,!0));return i}var o=Z(n);delete o[J];for(var a=$(o),s=0;s<a.length;s++){var c=a[s];o[c]=e(c,t||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(i,t),o={i:i?5:4,A:n?n.A:w(),P:!1,I:!1,R:{},l:n,t:t,k:r,o:null,g:!1,C:!1};return Object.defineProperty(r,J,{value:o,writable:!0}),r},S:function(e,n,o){o?r(n)&&n[J].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[J];if(n){var r=n.t,o=n.k,s=n.R,u=n.i;if(4===u)a(o,(function(t){t!==J&&(void 0!==r[t]||c(r,t)?s[t]||e(o[t]):(s[t]=!0,L(n)))})),a(r,(function(e){void 0!==o[e]||c(o,e)||(s[e]=!1,L(n))}));else if(5===u){if(i(n)&&(L(n),s.length=!0),o.length<r.length)for(var l=o.length;l<r.length;l++)s[l]=!1;else for(var f=r.length;f<o.length;f++)s[f]=!0;for(var h=Math.min(o.length,r.length),p=0;p<h;p++)o.hasOwnProperty(p)||(s[p]=!0),void 0===s[p]&&e(o[p])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):i(e)}})}function G(){function e(e,t){function n(){this.constructor=e}s(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.o||(e.R=new Map,e.o=new Map(e.t))}function n(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(o(t)){var n=N(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)})))}function r(e){e.g&&i(3,JSON.stringify(g(e)))}var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},c=function(){function n(e,t){return this[J]={i:2,l:t,A:t?t.A:w(),P:!1,I:!1,o:void 0,R:void 0,t:e,k:this,C:!1,g:!1},this}e(n,Map);var i=n.prototype;return Object.defineProperty(i,"size",{get:function(){return g(this[J]).size}}),i.has=function(e){return g(this[J]).has(e)},i.set=function(e,n){var i=this[J];return r(i),g(i).has(e)&&g(i).get(e)===n||(t(i),L(i),i.R.set(e,!0),i.o.set(e,n),i.R.set(e,!0)),this},i.delete=function(e){if(!this.has(e))return!1;var n=this[J];return r(n),t(n),L(n),n.t.has(e)?n.R.set(e,!1):n.R.delete(e),n.o.delete(e),!0},i.clear=function(){var e=this[J];r(e),g(e).size&&(t(e),L(e),e.R=new Map,a(e.t,(function(t){e.R.set(t,!1)})),e.o.clear())},i.forEach=function(e,t){var n=this;g(this[J]).forEach((function(i,r){e.call(t,n.get(r),r,n)}))},i.get=function(e){var n=this[J];r(n);var i=g(n).get(e);if(n.I||!o(i))return i;if(i!==n.t.get(e))return i;var a=N(n.A.h,i,n);return t(n),n.o.set(e,a),a},i.keys=function(){return g(this[J]).keys()},i.values=function(){var e,t=this,n=this.keys();return(e={})[X]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},i.entries=function(){var e,t=this,n=this.keys();return(e={})[X]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var i=t.get(e.value);return{done:!1,value:[e.value,i]}},e},i[X]=function(){return this.entries()},n}(),u=function(){function t(e,t){return this[J]={i:3,l:t,A:t?t.A:w(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var i=t.prototype;return Object.defineProperty(i,"size",{get:function(){return g(this[J]).size}}),i.has=function(e){var t=this[J];return r(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},i.add=function(e){var t=this[J];return r(t),this.has(e)||(n(t),L(t),t.o.add(e)),this},i.delete=function(e){if(!this.has(e))return!1;var t=this[J];return r(t),n(t),L(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},i.clear=function(){var e=this[J];r(e),g(e).size&&(n(e),L(e),e.o.clear())},i.values=function(){var e=this[J];return r(e),n(e),e.o.values()},i.entries=function(){var e=this[J];return r(e),n(e),e.o.entries()},i.keys=function(){return this.values()},i[X]=function(){return this.values()},i.forEach=function(e,t){for(var n=this.values(),i=n.next();!i.done;)e.call(t,i.value,i.value,this),i=n.next()},t}();b("MapSet",{F:function(e,t){return new c(e,t)},T:function(e,t){return new u(e,t)}})}n.d(t,{IP:function(){return G},Sj:function(){return ae},ht:function(){return oe},rF:function(){return j}});var U,B,F="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,K="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=F?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),q=F?Symbol.for("immer-draftable"):"__$immer_draftable",J=F?Symbol.for("immer-state"):"__$immer_state",X="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Y=""+Object.prototype.constructor,$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Z=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Q={},ee={get:function(e,t){if(t===J)return e;var n=g(e);if(!c(n,t))return function(e,t,n){var i,r=P(t,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!o(i)?i:i===C(e.t,t)?(D(e),e.o[t]=N(e.A.h,i,e)):i},has:function(e,t){return t in g(e)},ownKeys:function(e){return Reflect.ownKeys(g(e))},set:function(e,t,n){var i=P(g(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var r=C(g(e),t),o=null==r?void 0:r[J];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(f(n,r)&&(void 0!==n||c(e.t,t)))return!0;D(e),L(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==C(e.t,t)||t in e.t?(e.R[t]=!1,D(e),L(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=g(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},te={};a(ee,(function(e,t){te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),te.deleteProperty=function(e,t){return te.set.call(this,e,t,void 0)},te.set=function(e,t,n){return ee.set.call(this,e[0],t,n,e[0])};var ne=function(){function e(e){var t=this;this.O=W,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return s.produce(e,(function(e){var i;return(i=n).call.apply(i,[t,e].concat(r))}))}}var c;if("function"!=typeof n&&i(6),void 0!==r&&"function"!=typeof r&&i(7),o(e)){var u=O(t),l=N(t,e,void 0),f=!0;try{c=n(l),f=!1}finally{f?E(u):k(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return S(u,r),R(e,u)}),(function(e){throw E(u),e})):(S(u,r),R(c,u))}if(!e||"object"!=typeof e){if(void 0===(c=n(e))&&(c=e),c===H&&(c=void 0),t.D&&v(c,!0),r){var h=[],p=[];_("Patches").M(e,c,h,p),r(h,p)}return c}i(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var i,r,o=t.produce(e,n,(function(e,t){i=e,r=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,i,r]})):[o,i,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||i(8),r(e)&&(e=M(e));var t=O(this),n=N(this,e,void 0);return n[J].C=!0,k(t),n},t.finishDraft=function(e,t){var n=(e&&e[J]).A;return S(n,t),R(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!W&&i(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));var o=_("Patches").$;return r(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ie=new ne,re=ie.produce,oe=(ie.produceWithPatches.bind(ie),ie.setAutoFreeze.bind(ie)),ae=ie.setUseProxies.bind(ie);ie.applyPatches.bind(ie),ie.createDraft.bind(ie),ie.finishDraft.bind(ie);t.Ay=re}}]);
//# sourceMappingURL=8691.227ab2a5.js.map