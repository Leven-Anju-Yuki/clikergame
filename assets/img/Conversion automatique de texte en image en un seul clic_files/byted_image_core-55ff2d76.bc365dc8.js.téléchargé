/*! For license information please see byted_image_core-55ff2d76.bc365dc8.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.apply(this,arguments)};function r(e,t,r){if(r||2===arguments.length)for(var a,n=0,i=t.length;n<i;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var a=/[^a-zA-Z0-9\\_:.-]/gim,n=/</g,i=/>/g,o=/&#([a-zA-Z0-9]*);?/gim,s=/&quot;/g,c=/&colon;?/gim,l=/&newline;?/gim,u=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,p=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,_=/"/g,g=function(e){return e.replace(n,"&lt;").replace(i,"&gt;")},h={indexOf:function(e,t){var r,a;for(r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var a,n;for(a=0,n=e.length;a<n;a++)t.call(r,e[a],a,e)},some:function(e,t,r){var a,n;for(a=0,n=e.length;a<n;a++)if(t.call(r,e[a],a,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(e){return e instanceof Array},includes:function(e,t){if("string"==typeof e)return-1!==e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},r=[],a=0;a<e.length;a++)t[e[a]]||(r.push(e[a]),t[e[a]]=!0);return r},from:function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t},keys:function(e){var t=[];for(var r in e)t.push(r);return t}};function m(e){return null==e}function f(e){var t,r=h.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=h.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function w(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}return-1}function v(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}return-1}function E(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}function y(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}return-1}function C(e){var t,r,a,n,i,o,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t}(e);u<e.length;)n=(t=e.charCodeAt(u++))>>2,i=(3&t)<<4|(r=e.charCodeAt(u++))>>4,o=(15&r)<<2|(a=e.charCodeAt(u++))>>6,s=63&a,isNaN(r)?o=s=64:isNaN(a)&&(s=64),l=l+c.charAt(n)+c.charAt(i)+c.charAt(o)+c.charAt(s);return l}function A(e){var t,r,a,n,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=s.indexOf(e.charAt(l++))<<2|(n=s.indexOf(e.charAt(l++)))>>4,r=(15&n)<<4|(i=s.indexOf(e.charAt(l++)))>>2,a=(3&i)<<6|(o=s.indexOf(e.charAt(l++))),c+=String.fromCharCode(t),64!==i&&(c+=String.fromCharCode(r)),64!==o&&(c+=String.fromCharCode(a));return c=function(e){for(var t="",r=0,a=0,n=0,i=0;r<e.length;)(a=e.charCodeAt(r))<128?(t+=String.fromCharCode(a),r++):a>191&&a<224?(i=e.charCodeAt(r+1),t+=String.fromCharCode((31&a)<<6|63&i),r+=2):(i=e.charCodeAt(r+1),n=e.charCodeAt(r+2),t+=String.fromCharCode((15&a)<<12|(63&i)<<6|63&n),r+=3);return t}(c),c}function b(e){return"</"===e.slice(0,2)}function I(e,t,r){var a="",n=0,i=!1,o=!1,s=0,c=e.length,l="",u="";e:for(s=0;s<c;s++){var d=e.charAt(s);if(!1===i){if("<"===d){i=s;continue}}else if(!1===o){if("<"===d){a+=r(e.slice(n,s)),i=s,n=s;continue}if(">"===d||s===c-1){a+=r(e.slice(n,i)),l=f(u=e.slice(i,s+1)),a+=t(i,a.length,l,u,b(u)),n=s+1,i=!1;continue}if('"'===d||"'"===d)for(var p=1,_=e.charAt(s-p);""===_.trim()||"="===_;){if("="===_){o=d;continue e}_=e.charAt(s-++p)}}else if(d===o){o=!1;continue}}return n<c&&(a+=r(e.substr(n))),a}function k(e,t){var r=0,n=0,i=[],o=!1,s=e.length;function c(e,r){if(!((e=(e=h.trim(e)).replace(a,"").toLowerCase()).length<1)){var n=t(e,r||"");n&&i.push(n)}}for(var l=0;l<s;l++){var u=e.charAt(l),d=void 0;if(!1!==o||"="!==u)if(!1===o||l!==n){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(d=w(e,l))){c(h.trim(e.slice(r,l))),o=!1,r=l+1;continue}l=d-1;continue}if(-1===(d=v(e,l-1))){c(o,E(h.trim(e.slice(r,l)))),o=!1,r=l+1;continue}}}else{if(-1===(d=e.indexOf(u,l+1)))break;c(o,h.trim(e.slice(n+1,d))),o=!1,r=(l=d)+1}else o=e.slice(r,l),r=l+1,n='"'===e.charAt(r)||"'"===e.charAt(r)?r:y(e,l+1)}return r<e.length&&(!1===o?c(e.slice(r)):c(o,E(h.trim(e.slice(r))))),h.trim(i.join(" "))}function S(e,t,r){if(r=function(e){return function(e){for(var t="",r=0,a=e.length;r<a;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return h.trim(t)}(e=function(e){return e.replace(c,":").replace(l," ")}(e=function(e){return e.replace(o,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}(e=function(e){return e.replace(s,'"')}(e))))}(r),"href"===t||"src"===t){if("#"===(r=h.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(u.lastIndex=0,u.test(r))return""}else if("style"===t){if(p.lastIndex=0,p.test(r))return"";if(d.lastIndex=0,d.test(r)&&(u.lastIndex=0,u.test(r)))return""}return function(e){return e=function(e){return e.replace(_,"&quot;")}(e),g(e)}(r)}var T=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},R=function(){function e(e){var t=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=S,t.escapeHtml=g,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,a=t.onTag,n=t.onIgnoreTag,i=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,c=t.escapeHtml;t.stripBlankChar&&(e=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")}(e)),t.allowCommentTag||(e=function(e){for(var t="",r=0;r<e.length;){var a=e.indexOf("\x3c!--",r);if(-1===a){t+=e.slice(r);break}t+=e.slice(r,a);var n=e.indexOf("--\x3e",a);if(-1===n)break;r=n+3}return t}(e));var l=!1;t.stripIgnoreTagBody&&(l=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),a=[],n=!1;return{onIgnoreTag:function(i,o,s){if(function(t){return!!r||-1!==h.indexOf(e,t)}(i)){if(s.isClosing){var c="[/removed]",l=s.position+10;return a.push([!1!==n?n:s.position,l]),n=!1,c}return n||(n=s.position),"[removed]"}return t(i,o,s)},remove:function(e){var t="",r=0;return h.forEach(a,(function(a){t+=e.slice(r,a[0]),r=a[1]})),t+=e.slice(r)}}}(t.stripIgnoreTagBody,n),n=l.onIgnoreTag);var u=I(e,(function(e,t,l,u,d){var p={sourcePosition:e,position:t,isClosing:d,isWhite:Object.prototype.hasOwnProperty.call(r,l)},_=a(l,u,p);if(!m(_))return _;if(p.isWhite){if(p.isClosing)return"</".concat(l,">");var g=function(e){var t=h.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=h.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=h.trim(e.slice(0,-1))),{html:e,closing:r}}(u),f=r[l],w=k(g.html,(function(e,t){var r=-1!==h.indexOf(f,e),a=i(l,e,t,r);return m(a)?r?(t=s(l,e,t,null))?"".concat(e,'="').concat(t,'"'):e:m(a=o(l,e,t,r))?void 0:a:a}));return u="<".concat(l),w&&(u+=" ".concat(w)),g.closing&&(u+=" /"),u+">"}return m(_=n(l,u,p))?c(u):_}),c);return l&&(u=l.remove(u)),u},e}(),P=!0,L=function(e){return e&&e.Math==Math&&e},N=L("object"==typeof globalThis&&globalThis)||L("object"==typeof window&&window)||L("object"==typeof self&&self)||L("object"==typeof global&&global)||Function("return this")();try{!0!==(P=!!(P=String(P)).startsWith("<%=")||JSON.parse(P))&&"true"!==P||(N=new Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var O=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,r,a="cc_web";if(!h.includes(a,"bid"))return a;if(e.config&&e.config.bid)return e.config.bid;var n=N;if(n&&n._xssBid)return n._xssBid;if(n&&n.slardar&&"function"==typeof n.slardar.config){var i=(n.slardar.config()||{}).bid;if(i)return i}if(n&&n.Slardar&&"function"==typeof n.Slardar.config){var o=(n.Slardar.config()||{}).bid;if(o)return o}return(null===(r=null===(t=null==n?void 0:n.Slardar)||void 0===t?void 0:t._baseParams)||void 0===r?void 0:r.bid)||"argus"},this.getConfigRegion=function(){var t;return h.includes("va","region")?e.config&&e.config.region?e.config.region:((null===(t=null==N?void 0:N.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"va"},this.gerReportUrl=function(){var t={cn:A("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:A("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:A("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:A("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:A("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:A("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:A("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseReport){var t=!1;t=String(t);try{if(!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)return}catch(e){console.log(e)}var r=this.gerReportUrl();!this.lock&&r&&0!==this.batchData.length&&(this.lock=!0,setTimeout((function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),N.fetch(r,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch((function(e){console.warn("xss defense report error",e)})),e.lock=!1,e.upload()}),this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t,r=this.generateKey(e);if(N.fetch&&e.collectKey){var a=(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.href)||"SSR";e.documentUrl=a;var n={age:Math.floor(Date.now()),type:"xss",url:a,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==a||(n.url=r),"SSR"===a&&(n.url="SSR___".concat(n.url),n.body.ssr=!0),this.push(n)}},e}());function x(e,t){return O.setConfig(t),new R(t).process(e)}var H=function(e){return-1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,(function(e,t,r,a){return String.fromCharCode(t?parseInt(r,16):parseInt(a))})).replace(/(\t|\n|\r)/g,"").toLowerCase()};function D(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=H(e),h.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!h.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var r=["expression(","behavior:","view-source:"];if(h.some(r,(function(t){return-1!==e.indexOf(t)})))return h.forEach(r,(function(r){-1!==e.indexOf(r)&&t&&t(r)})),!1;var a=["data:application","data:javascript","data:text/html","data:texthtml"];if(h.some(a,(function(t){return-1!==e.indexOf(t)})))return h.forEach(a,(function(r){-1!==e.indexOf(r)&&t&&t(r)})),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var n=e.slice(11).replace(/\s/g,"").trim();return!!h.some(["void","void(0)","void0","false","undefined",";"],(function(e){return e===n}))||(t&&t("javascript:"),!1)}return!0}var U=function(e,t){var r,a,n=!1;if(n=String(n),"string"!=typeof e)return e;if(r=e,a=Number(-1),"NaN"!==r.toString()&&-1!==a&&r.length>=a)return e;if(D(e,t))return e;try{if(!0===(n=!n.startsWith("<%=")&&JSON.parse(n))||"true"===n){var i=new URL(e);return i.origin+i.pathname}}catch(e){return console.log(e),"#"}return"#"};function F(e,t,a){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!D(e=H(e)))return!1;var n=function(e){var t=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[];return{url:t[0],scheme:t[1],slash:t[2],host:t[3],port:t[4],path:t[5],query:t[6],hash:t[7]}}(e),i=n.scheme,o=n.host;return a?Boolean(a(e)):!(!i||!o)&&(!h.includes(["http","https","file"],i)||("object"==typeof window&&window&&(t=r(r([],t,!0),[location.host],!1)),h.some(t,(function(e){return!!(e instanceof RegExp&&e.test(o))||e===o}))))}var M=F,j=F,W=function(e,t){for(var r={},a=0,n=h.keys(e);a<n.length;a++){var i=n[a];Array.isArray(e[i])?r[i]=h.from(e[i]):r[i]=W({},e[i])}for(var o=0,s=h.keys(t);o<s.length;o++)(i=s[o])in e?Array.isArray(e[i])?r[i]=e[i].concat(t[i]):r[i]=W(e[i],t[i]):Array.isArray(t[i])?r[i]=h.from(t[i]):r[i]=W({},t[i]);return r},G={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var B={};B.blackAttrRegExps&&(B.blackAttrRegExps=B.blackAttrRegExps.map((function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))})));var V="merge";h.includes(V,"override")&&(G=B),h.includes(V,"merge")&&(G=W(G,B))}catch(e){console.log(e)}var Y,z={mode:"black",whiteList:{},blackConfig:G,collect:null,initCollect:function(){z.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,r=function(r){Array.isArray(e[r])?0===e[r].length?delete e[r]:(e[r]=h.from(h.uniq(e[r])),t+=e[r].length):0===h.keys(e[r]).length?delete e[r]:h.keys(e[r]).forEach((function(a){e[r][a]=h.from(h.uniq(e[r][a])),t+=e[r][a].length}))},a=0,n=h.keys(e);a<n.length;a++)r(n[a]);return{count:t,ret:e}}(z.collect),t=e.count,r=e.ret;return z.collect=null,{collectKey:0===t?null:JSON.stringify(r),collectMode:"black"}},onIgnoreTag:function(e,t){var r;if(!h.includes(G.blackTags,e)){var a=I(t,(function(e,t,r,a,n){if(-1!==r.indexOf("/"))return g(a);if(n)return"</".concat(r,">");var i=function(e){var t,r=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var a="/"===(e=e.slice(r+1,-1).trim())[e.length-1];return a&&(e=e.slice(0,-1).trim()),{html:e,closing:a}}(a),o=k(i.html,(function(e,t){var a,n=0;if(G.blackList[r]&&h.includes(G.blackList[r],e)&&(z.collect.blackList[r]=z.collect.blackList[r]||[],z.collect.blackList[r].push(e),n++),G.blackAttrRegExps.length&&G.blackAttrRegExps.some((function(t){return t.test(e)}))&&h.forEach(G.blackAttrRegExps,(function(t){t.test(e)&&(z.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),n++)})),G.blackAttrs.length&&h.includes(G.blackAttrs,e)&&(G.blackAttrs.push(e),n++),!n){if(G.filterList&&G.filterList[r]&&h.includes(G.filterList[r],e)){var i=U(t,(function(e){var t;null===(t=z.collect)||void 0===t||t.filterProtocol.push(e)}));return i!==t&&(z.collect.filterList[r]=z.collect.filterList[r]||[],z.collect.filterList[r].push(e)),t?"".concat(e,"='").concat(i,"'"):e}return G.filterAttrs&&h.includes(G.filterAttrs,e)?(i=U(t,(function(e){var t;null===(t=z.collect)||void 0===t||t.filterProtocol.push(e)})),i!==t&&(null===(a=z.collect)||void 0===a||a.filterAttrs.push(e)),t?"".concat(e,"='").concat(i,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}}));return a="<".concat(r),o&&(a+=" ".concat(o)),i.closing&&(a+=" /"),a+">"}),g);return a}null===(r=z.collect)||void 0===r||r.blackTags.push(e)}},X=function(e){var t=e.reportOnly,r=void 0===t||t,a=e.block;return r&&"all"===r?"report":("string"==typeof r&&("true"===r&&(r=!0),"false"===r&&(r=!1)),a?"enforce":r?"report":"enforce")},K=function(e){return function(r,a,n){if(!r||"string"!=typeof r)return r;var i=a;e===x&&(i=z).initCollect();var o=e(r,i);if(T(o)===T(r))return r;if(!n)return o;var s=n.logType,c=X(n),l=i.removeCollect();return O.report(t(t({type:s,disposition:c},l),{sourceText:C(r.replace(/'/g,'"')),filterText:C(o.replace(/'/g,'"'))})),"enforce"===c?o:r}},q=K((function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new R(t).process(e)})),$=K(x),J=(Y=U,function(e,t,r){var a=[],n=Y(e,(function(e){a.push(e)}));if(n===e)return e;a=h.from(h.uniq(a));var i=t||r||{};if(!i)return n;var o=i.logType,s=X(r);return O.report({type:o,disposition:s,collectKey:a.join("___"),collectData:JSON.stringify(a),collectMode:"black",sourceText:C(e),filterText:C(n)}),"enforce"===s?n:e}),Q=N._xssProject||{},Z=N.xssNamespace||{},ee="3.0.30",te={FilterXSS:R,version:ee,webpackPluginVersion:"3.0.39",reportOnly:"all",filterXSS:q,_filterXSS:$,filterUrl:J,BlackConfig:z,project:Q,setProjectName:function(e){Q[e]=this,N._xssProjectName=e}};Z.cc_web_editor_smart_toolbox=te,N.xssNamespace=Z,N.Math&&!N.Math.xssNamespace&&(N.Math.xssNamespace=Z),Q[ee]=te,N.globalThis=N,N.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:te},N.xss=te,N.isSafeUrl=M,N.isSafeDomain=j,N.isSafeProtocol=D,N._xssProject=Q,N._xssProjectName&&(Q[N._xssProjectName]=te);var re=te.setProjectName.bind(te);e.BlackConfig=z,e.FilterXSS=R,e._filterXSS=$,e.filterUrl=J,e.filterXSS=q,e.isSafeDomain=j,e.isSafeProtocol=D,e.isSafeUrl=M,e.project=Q,e.setProjectName=re,e.setXssNamespace=function(e){var t=e.appId,r=e.bid,a=e.region,n=e.isCloseReport;Z[t]=te;var i=z;i.bid=r,i.region=a,i.enabled=!0,i.isCloseReport=n},e.xssNamespace=Z,Object.defineProperty(e,"__esModule",{value:!0})})),(window.webpackChunksmart_toolbox=window.webpackChunksmart_toolbox||[]).push([[3805],{4716:function(e,t,r){r.d(t,{L:function(){return p}});var a=r(38e3),n=r(7631),i=r(88617),o=r(42579),s=r.n(o),c=r(67308),l=r(14148),u=r(57691),d=(e=>(e.CAPACITY_INSUFFICIENT="CAPACITY_INSUFFICIENT",e.CAPACITY_INSUFFICIENT_WITH_BUY="CAPACITY_INSUFFICIENT_WITH_BUY",e.CAPACITY_BUY="CAPACITY_BUY",e.VIP_BUY="VIP_BUY",e.MANAGEMENT="MANAGEMENT",e))(d||{});const p=({expandModalInstance:e,eventParams:t})=>{var r,o,p;const[_,g]=(0,c.useState)(!1),[h,m]=(0,c.useState)({key:"web_first_subscribe_text_upgrading",value:"Upgrade to Pro"}),f=(0,n.d)(null==e?void 0:e.getService(),(e=>e.context.enableSubscription)),[w]=(0,i.B)(null==e?void 0:e.getService()),{flag:v=!1,vipRealEnd:E,canFreeTrial:y=!1,canFreeTrialDays:C=7}=(null==(o=null==(r=null==w?void 0:w.context)?void 0:r.userInfo)?void 0:o.vipInfo)||{};(0,c.useEffect)((()=>{(async()=>{if(e)return g(await(null==e?void 0:e.isSupportExpand()));g(!1)})(),!v&&y&&m({key:"web_first_subscribe_text_conditional_seven_day",value:`${C}-day free trial`})}),[v,E,y]);const A=()=>{let r=d.VIP_BUY;v&&(r=d.MANAGEMENT),null==e||e.show({type:r,reporterParams:{pageFrom:"profile_icon_upgrade",...t}})};return(v||f&&_)&&null!=(p=null==w?void 0:w.context)&&p.userInfo?(0,a.jsx)("div",{className:"lv-vip-entry",children:v?(0,a.jsxs)("div",{onClick:A,className:"lv-vip-card",children:[(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"name",children:l.Ay.t("web_first_subscribe_text_Cap_cut",{},"CapCut")}),(0,a.jsxs)("div",{className:"time",children:[(0,a.jsx)(u.tCG,{}),(0,a.jsx)("span",{style:{marginLeft:4},children:E?s()(1e3*E).format("YYYY/MM/DD"):"--/-/-"})]})]}),(0,a.jsx)(u.aHt,{className:"arrow"})]}):(0,a.jsxs)("div",{onClick:A,className:"lv-notVip-card",children:[(0,a.jsxs)("div",{className:"left",children:[(0,a.jsx)(u.FRH,{className:"icon"}),(0,a.jsx)("div",{className:"line"}),(0,a.jsx)("div",{style:{color:"#000000"},children:l.Ay.t(h.key,{number0:C},h.value)})]}),(0,a.jsx)(u.aHt,{className:"arrow"})]})}):null}},44228:function(e,t,r){r.d(t,{L:function(){return ht},a:function(){return mt}});r(85333),r(33102),r(43666),r(8503),r(70382),r(78436);var a=r(87176),n=r(8706),i=r(83105),o=r(69874),s=r(89097),c=r(56741),l=r(38e3),u=r(67308),d=r(87237),p=r(88617),_=r(7631),g=r(57691),h=r(14148),m=r(65871);r(93641),r(13398);const f=()=>{const e=new URLSearchParams(window.location.search);return{isFromTeamInvite:!!parseInt(e.get("from_team_invite")||"0"),isFromTeamApply:!!parseInt(e.get("from_team_apply")||"0")}};r(45475);var w=r(84698),v=Object.defineProperty,E=(e,t,r)=>(((e,t,r)=>{t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),y=(e=>(e.Light="light",e.Dark="dark",e))(y||{});const C=(0,u.createContext)({userService:{},theme:y.Light,setTheme:()=>{},locale:{}});function A(){const e=(0,u.useContext)(C),{userService:t}=e;return t}const b=new class{constructor(){E(this,"_theme",y.Light)}init(e){const t=this.retrive()?this.retrive()===y.Dark:document.body.getAttribute("lv-theme")===y.Dark;return this.apply(t?y.Dark:y.Light),e(t?y.Dark:y.Light),this.listen(e)}listen(e){const t=window.matchMedia("(prefers-color-scheme: dark)"),r=t=>{this.apply(t.matches?y.Dark:y.Light,!0),e(t.matches?y.Dark:y.Light)};return t.addListener(r),()=>{t.removeListener(r)}}apply(e,t=!1){this._theme=e,e===y.Dark?document.body.setAttribute("lv-theme","dark"):document.body.removeAttribute("lv-theme"),t&&this.store()}checkCookieEnabled(){return typeof window>"u"||!navigator.cookieEnabled}retrive(){if(!this.checkCookieEnabled())return m.z.getString(m.B.CAPCUT_THEME)}store(){this.checkCookieEnabled()||(w.A.set(m.B.CAPCUT_THEME,this._theme),m.z.setString(m.B.CAPCUT_THEME,this._theme))}clear(){this.checkCookieEnabled()||(w.A.remove(m.B.CAPCUT_THEME),m.z.removeItem(m.B.CAPCUT_THEME))}};function I(){const e=(0,u.useContext)(C),{theme:t,setTheme:r}=e;return[t,r]}function k(){const{locale:e}=(0,u.useContext)(C);return e}typeof window<"u"&&typeof window.document<"u"&&window.document.createElement;var S=r(39642),T=r(95272),R=r(9837),P=r(2754),L=r(66696),N=r(58519),O=r(42579),x=r.n(O),H=r(76271),D=r.n(H),U=r(51326),F=r.n(U),M=r(80363),j=r.n(M),W=(r(75139),r(30395)),G=r.n(W),B=Object.defineProperty,V=(e,t,r)=>(((e,t,r)=>{t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);function Y(e){return x()(e).isLeapYear()}x().extend(D()),x().extend(F()),x().extend(j());class z{constructor(){V(this,"reporter",(0,m.Z)())}report(e){this.reporter.report("age_gate_popup",e)}}class X{constructor(){V(this,"reporter",(0,m.Z)())}report(e){this.reporter.reportBecon("switch_website_language",e)}}class K{constructor(){V(this,"reporter",(0,m.Z)())}report(e,t){const{immediately:r}=t||{};r?this.reporter.reportBecon("click_personal_profile",e):this.reporter.report("click_personal_profile",e)}}function q(e=0,t=0){const r=[];for(let a=e;a<=t;a++)r.push(a);return r}function $(e){return[-1,31,Y(e??"")?29:28,31,30,31,30,31,31,30,31,30,31]}const J=-1,Q=q(1,12),Z=q(1,31),ee=q(1900,(new Date).getFullYear()),te=(0,L.O)({id:"birthDayPicker",initial:"verfiying",context:{month:J,date:J,year:J,months:Q,dates:Z,years:ee},states:{verfiying:{always:[{target:"valid",cond:"isValid"},{target:"invalid"}]},valid:{},invalid:{}},on:{CHANGE_MONTH:{target:"verfiying",actions:["changeMonth"]},CHANGE_DATE:{target:"verfiying",actions:["changeDate"]},CHANGE_YEAR:{target:"verfiying",actions:["changeYear"]},CHANGE_CUSTOM_VERFICATION:{actions:["changeCustomVerfication"]}}},{actions:{changeMonth:(0,N.kp)(((e,t)=>{const{value:r}=t,a=$(e.year===J?void 0:String(e.year));return{dates:a[r]?q(1,a[r]):Z,month:r,date:e.date<=a[r]?e.date:J,year:2===r&&e.date>a[r]&&!Y(String(e.year))?J:e.year}})),changeDate:(0,N.kp)({date:(e,t)=>t.value}),changeYear:(0,N.kp)(((e,t)=>{const{value:r}=t,a=$(r===J?void 0:String(r));return{...e,dates:q(1,a[e.month===J?1:e.month]),date:2===e.month&&e.date>a[e.month]?J:e.date,year:r}})),changeCustomVerfication:(0,N.kp)(((e,t)=>({customVerfication:t.callback})))},guards:{isValid:({month:e,date:t,year:r,customVerfication:a})=>[e,t,r].every((e=>e!==J))&&(!a||a(e,t,r))}});var re=r(4716),ae=r(29453),ne=(r(91485),r(3501)),ie=r(77024),oe=r(24905),se=r(45476),ce=(r(89874),r(62214)),le=(r(13819),r(51663)),ue=r(85371);const de=(e,t)=>{(new m.a).report({action:e,current_page:t??""})},pe=e=>new Promise(((t,r)=>{const a=c.A.confirm({focusLock:!1,className:"lv_sign_in_panel_wide-restore-account",title:(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-restore-account-title",children:[(0,l.jsx)(g.__x,{size:24,color:"#2668FF"}),h.Ay.t("web_deactivate_button_delete_restore",{},"Restore deleted account")]}),content:(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-restore-account-content",children:h.Ay.t("web_deactivate_text_trying_sign_into",{},"You\u2019re trying to sign into a deleted account. By signing in, your account will be restored. If you don\u2019t restore the account, it will be permanently deleted in 30 days.")}),maskStyle:{zIndex:1103},wrapStyle:{zIndex:1103},onOk:async()=>{de("restore",null==e?void 0:e.currentPage);try{a.update({okButtonProps:{loading:!0}}),await e.onOk(),a.close(),(new m.A).report({status:"success",current_page:(null==e?void 0:e.currentPage)??""}),t()}catch(n){ie.A.error("API error"),(new m.A).report({status:"failed",current_page:(null==e?void 0:e.currentPage)??"",fail_reason:(null==n?void 0:n.description)??void 0}),r(n)}finally{a.update({okButtonProps:{loading:!1}})}},onCancel:()=>{var t;null==(t=null==e?void 0:e.onCancel)||t.call(e),de("cancel",null==e?void 0:e.currentPage)},okText:h.Ay.t("web_deactivate_button_restore_confirm",{},"Restore account"),cancelText:h.Ay.t("web_deactivate_button_cancel_restore",{},"Cancel"),okButtonProps:{type:"primary"},icon:null,closeIcon:(0,l.jsx)(g.gzW,{size:20,onClick:()=>{var t;null==(t=null==e?void 0:e.onCancel)||t.call(e),de("cancel",null==e?void 0:e.currentPage)}})})}));var _e=Object.defineProperty,ge=(e,t,r)=>(((e,t,r)=>{t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);function he(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var me={spin:"style_spin__5uCiL","iconpark-spin":"style_iconpark-spin__mGDV3",rtl:"style_rtl__vYVyg","iconpark-spin-rtl":"style_iconpark-spin-rtl__ZyqaE"};!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}(".style_spin__5uCiL,.style_spin__5uCiL svg {animation: style_iconpark-spin__mGDV3 1s infinite linear;}\n.style_rtl__vYVyg,.style_rtl__vYVyg svg {transform: scaleX(-1);}\n.style_spin__5uCiL.style_rtl__vYVyg,.style_spin__5uCiL.style_rtl__vYVyg svg {animation: style_iconpark-spin-rtl__ZyqaE 1s infinite linear;}\n@keyframes style_iconpark-spin__mGDV3 {\n  0% { -webkit-transform: rotate(0); transform: rotate(0);} 100% {-webkit-transform: rotate(360deg); transform: rotate(360deg);}\n}\n@keyframes style_iconpark-spin-rtl__ZyqaE {\n  0% {-webkit-transform: scaleX(-1) rotate(0); transform: scaleX(-1) rotate(0);} 100% {-webkit-transform: scaleX(-1) rotate(360deg); transform: scaleX(-1) rotate(360deg);}\n}");var fe=["size","width","height","spin","rtl","color","fill","stroke","className"];function we(e){var t=(0,u.useRef)(null),r=e.size,a=void 0===r?"1em":r,n=e.width,i=e.height,o=e.spin,s=e.rtl,c=e.color,l=e.fill,d=e.stroke,p=e.className,_=he(e,fe),g=n||a,h=i||a,m=d||c,f=l||c;return(0,u.useEffect)((function(){var e,r;f||(null===(e=t.current)||void 0===e||e.querySelectorAll("[data-follow-fill]").forEach((function(e){e.setAttribute("fill",e.getAttribute("data-follow-fill")||"")})));m||(null===(r=t.current)||void 0===r||r.querySelectorAll("[data-follow-stroke]").forEach((function(e){e.setAttribute("stroke",e.getAttribute("data-follow-stroke")||"")})))}),[d,c,l]),u.createElement("svg",Object.assign({ref:t,width:g,height:h,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",fill:"none",role:"presentation",xmlns:"http://www.w3.org/2000/svg",className:"".concat(p||""," ").concat(o?me.spin:""," ").concat(s?me.rtl:"").trim()},_),u.createElement("g",null,u.createElement("path",{"data-follow-fill":"currentColor",d:"M4 5a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v7.265l-2-.824V5a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h4.313c.237.732.6 1.407 1.063 2H7a3 3 0 0 1-3-3V5Z",fill:f}),u.createElement("path",{"data-follow-fill":"currentColor",d:"M8 7v2h8V7H8Zm0 4h5v2H8v-2Z",fill:f}),u.createElement("path",{"data-follow-fill":"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M22 17.5c0 4.75-4.5 6-4.5 6s-4.5-1.25-4.5-6V15l4.5-2 4.5 2v2.5Zm-7 0v-1.2l2.5-1.111 2.5 1.11V17.5c0 1.639-.738 2.606-1.505 3.224-.35.281-.705.486-.995.627a5.265 5.265 0 0 1-.995-.627C15.738 20.106 15 19.139 15 17.5Z",fill:f})))}var ve=["size","width","height","spin","rtl","color","fill","stroke","className"];function Ee(e){var t=(0,u.useRef)(null),r=e.size,a=void 0===r?"1em":r,n=e.width,i=e.height,o=e.spin,s=e.rtl,c=e.color,l=e.fill,d=e.stroke,p=e.className,_=he(e,ve),g=n||a,h=i||a,m=d||c,f=l||c;return(0,u.useEffect)((function(){var e,r;f||(null===(e=t.current)||void 0===e||e.querySelectorAll("[data-follow-fill]").forEach((function(e){e.setAttribute("fill",e.getAttribute("data-follow-fill")||"")})));m||(null===(r=t.current)||void 0===r||r.querySelectorAll("[data-follow-stroke]").forEach((function(e){e.setAttribute("stroke",e.getAttribute("data-follow-stroke")||"")})))}),[d,c,l]),u.createElement("svg",Object.assign({ref:t,width:g,height:h,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",fill:"none",role:"presentation",xmlns:"http://www.w3.org/2000/svg",className:"".concat(p||""," ").concat(o?me.spin:""," ").concat(s?me.rtl:"").trim()},_),u.createElement("g",null,u.createElement("path",{"data-follow-fill":"currentColor",d:"M11 18v-3H9v3a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3h-6a3 3 0 0 0-3 3v3h2V6a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1Z",fill:f}),u.createElement("path",{"data-follow-fill":"currentColor",d:"M4.414 11H15v2H4.414l2.293 2.293-1.414 1.414-4-4a1 1 0 0 1 0-1.414l4-4 1.414 1.414L4.414 11Z",fill:f})))}var ye=(e=>(e.LandingPage="landing_page",e.DetailPage="detail_page",e.Editor="editor",e.WorkSpace="work_space",e.IntegrationPage="integration_page",e.ArticlePage="article_page",e.ArticleGroupPage="article_group_page",e.ExportPage="export_page",e.TowardsPage="towards_page",e.UGTemplateDetail="towards_page_template_detail",e.HashtagPage="hashtag_page",e.CategoryPage="category_page",e.TemplatePage="template_page",e.CreatorPage="creator_page",e.UGArticlePage="ug_article_page",e.TemplateDetailPage="template_detail_page",e.EDMPage="edm_page",e.TemplateEditor="template_editor",e.PictureEdit="picture_edit",e.SmartToolPage="smart_tool_page",e.ActivityMur101="mur101",e.ActivityMur103="mur103",e.SharePage="share_page",e.PersonalPage="personal_page",e.KocR1PC="koc_r1_pc",e))(ye||{});const Ce="inviting_email";function Ae(e,t){let r="";r={b:e=>`${e.toFixed(2)}B`,kb:e=>`${(e/1024).toFixed(2)}KB`,mb:e=>`${(e/1048576).toFixed(2)}MB`,gb:e=>`${(e/1073741824).toFixed(2)}GB`,tb:e=>`${(e/1099511627776).toFixed(2)}TB`}[t||(e=>e<102.4?"b":e<104857.6?"kb":e<1073741824?"mb":e<1099511627776?"gb":"tb")(e)](e);const a=`${r}`,n=a.indexOf(".");return"00"==a.substr(n+1,2)?a.substring(0,n)+a.substr(n+3,2):r}const be={"zh-Hant-TW":{socials:[],partners:[],legals:[{_id:"65a89591b3f85202789cddf3",title:"\u7528\u6236\u4f7f\u7528\u689d\u6b3e",href:"https://www.capcut.com/zh-tw/terms-of-service",href_target:"blank",country:[]},{_id:"65a89591b3f85202789cddf4",title:"\u96b1\u79c1\u653f\u7b56",href:"https://www.capcut.com/zh-tw/privacy-policy",href_target:"blank",country:[]},{_id:"65a89591b3f85202789cddf5",title:"Cookie\u653f\u7b56",href:"https://www.capcut.com/zh-tw/cookies-policy",href_target:"blank",country:[]},{_id:"65a89591b3f85202789cddf6",title:"\u8a31\u53ef\u5354\u8b70",href:"https://www.capcut.com/zh-tw/material-license-agreement",href_target:"blank",country:[]},{_id:"65a89591b3f85202789cddf7",title:"\u5275\u4f5c\u8005\u5354\u8b70",href:"https://www.capcut.com/zh-tw/creator-agreement",href_target:"blank",country:[]},{_id:"65a89591b3f85202789cddf8",title:"\u793e\u5340\u6307\u5357",href:"https://www.capcut.com/zh-tw/community-guideline",href_target:"blank",country:[]},{_id:"65a7ca425efe7a0277eae352",title:"\u60a8\u7684\u96b1\u79c1\u9078\u64c7",href:"https://www.capcut.com/zh-tw/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705495101355.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"pl-PL":{socials:[],partners:[],legals:[{_id:"65a89632b3f85202789cde2d",title:"Warunki korzystania",href:"https://www.capcut.com/pl-pl/terms-of-service",href_target:"blank",country:[]},{_id:"65a89632b3f85202789cde2e",title:"Polityka prywatno\u015bci",href:"https://www.capcut.com/pl-pl/privacy-policy",href_target:"blank",country:[]},{_id:"65a89632b3f85202789cde2f",title:"Polityka cookie",href:"https://www.capcut.com/pl-pl/cookies-policy",href_target:"blank",country:[]},{_id:"65a89632b3f85202789cde30",title:"Umowa licencyjna",href:"https://www.capcut.com/pl-pl/material-license-agreement",href_target:"blank",country:[]},{_id:"65a89632b3f85202789cde31",title:"Umowa tw\xf3rcy",href:"https://www.capcut.com/pl-pl/creator-agreement",href_target:"blank",country:[]},{_id:"65a89632b3f85202789cde32",title:"Wytyczne spo\u0142eczno\u015bci",href:"https://www.capcut.com/pl-pl/community-guideline",href_target:"blank",country:[]},{_id:"65a7ca80c8f7b9026a7540d4",title:"Twoje wybory dotycz\u0105ce prywatno\u015bci",href:"https://www.capcut.com/pl-pl/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705495163916.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"ro-RO":{socials:[],partners:[],legals:[{_id:"65a895d39259f8027ef2dfb0",title:"Termeni de utilizare",href:"https://www.capcut.com/ro-ro/terms-of-service",href_target:"blank",country:[]},{_id:"65a895d39259f8027ef2dfb1",title:"Politica de confiden\u021bialitate",href:"https://www.capcut.com/ro-ro/privacy-policy",href_target:"blank",country:[]},{_id:"65a895d39259f8027ef2dfb2",title:"Politica privind cookie-urile",href:"https://www.capcut.com/ro-ro/cookies-policy",href_target:"blank",country:[]},{_id:"65a895d39259f8027ef2dfb3",title:"Acord de licen\u021b\u0103",href:"https://www.capcut.com/ro-ro/material-license-agreement",href_target:"blank",country:[]},{_id:"65a895d39259f8027ef2dfb4",title:"Acordul creatorului",href:"https://www.capcut.com/ro-ro/creator-agreement",href_target:"blank",country:[]},{_id:"65a895d39259f8027ef2dfb5",title:"Ghidul comunit\u0103\u021bii",href:"https://www.capcut.com/ro-ro/community-guideline",href_target:"blank",country:[]},{_id:"65a7ca5dc8f7b9026a7540c5",title:"Op\u021biunile dvs. de confiden\u021bialitate",href:"https://www.capcut.com/ro-ro/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705495130089.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"sv-SE":{socials:[],partners:[],legals:[{_id:"65a8955b703046027f9d8217",title:"Anv\xe4ndarvillkor",href:"https://www.capcut.com/sv-se/terms-of-service",href_target:"blank",country:[]},{_id:"65a8955b703046027f9d8218",title:"Integritetspolicy",href:"https://www.capcut.com/sv-se/privacy-policy",href_target:"blank",country:[]},{_id:"65a8955b703046027f9d8219",title:"Policy f\xf6r cookies",href:"https://www.capcut.com/sv-se/cookies-policy",href_target:"blank",country:[]},{_id:"65a8955b703046027f9d821a",title:"Licensavtal",href:"https://www.capcut.com/sv-se/material-license-agreement",href_target:"blank",country:[]},{_id:"65a8955b703046027f9d821b",title:"Skaparavtal",href:"https://www.capcut.com/sv-se/creator-agreement",href_target:"blank",country:[]},{_id:"65a8955b703046027f9d821c",title:"Riktlinje f\xf6r gemenskapen",href:"https://www.capcut.com/sv-se/community-guideline",href_target:"blank",country:[]},{_id:"65a7ca2f5efe7a0277eae34a",title:"Dina integritetsval",href:"https://www.capcut.com/sv-se/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705495084102.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"nl-NL":{socials:[],partners:[],legals:[{_id:"65a798f88922a90259854a38",title:"Gebruiksvoorwaarden",href:"https://www.capcut.com/nl-nl/terms-of-service",href_target:"blank",country:[]},{_id:"65a798f88922a90259854a39",title:"Privacybeleid",href:"https://www.capcut.com/nl-nl/privacy-policy",href_target:"blank",country:[]},{_id:"65a798f88922a90259854a3a",title:"Cookie beleid",href:"https://www.capcut.com/nl-nl/cookies-policy",href_target:"blank",country:[]},{_id:"65a798f88922a90259854a3b",title:"Licentieovereenkomst",href:"https://www.capcut.com/nl-nl/material-license-agreement",href_target:"blank",country:[]},{_id:"65a798f88922a90259854a3c",title:"Overeenkomst voor makers",href:"https://www.capcut.com/nl-nl/creator-agreement",href_target:"blank",country:[]},{_id:"65a798f88922a90259854a3d",title:"Gemeenschapsrichtlijn",href:"https://www.capcut.com/nl-nl/community-guideline",href_target:"blank",country:[]},{_id:"65a7ca6f9259f8027ef25334",title:"Uw privacykeuzes",href:"https://www.capcut.com/nl-nl/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705495148219.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"de-DE":{socials:[],partners:[],legals:[{_id:"65a775ffbe027d0271b5d64e",title:"Nutzungsbedingungen",href:"https://www.capcut.com/de-de/terms-of-service",href_target:"blank",country:[]},{_id:"65a775ffbe027d0271b5d64f",title:"Datenschutzerkl\xe4rung",href:"https://www.capcut.com/de-de/privacy-policy",href_target:"blank",country:[]},{_id:"65a775ffbe027d0271b5d650",title:"Cookie-Richtlinie",href:"https://www.capcut.com/de-de/cookies-policy",href_target:"blank",country:[]},{_id:"65a775ffbe027d0271b5d651",title:"Lizenzvereinbarung",href:"https://www.capcut.com/de-de/material-license-agreement",href_target:"blank",country:[]},{_id:"64e5a6be758ca309e13e85b4",title:"Ersteller-Vereinbarung",href:"https://www.capcut.com/de-de/creator-agreement",href_target:"blank",country:[]},{_id:"65a775ffbe027d0271b5d653",title:"Community-Richtlinien",href:"https://www.capcut.com/de-de/community-guideline",href_target:"blank",country:[]},{_id:"65a7c965be027d0271b5db19",title:"Ihre Privatsph\xe4re-Optionen",href:"https://www.capcut.com/de-de/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494881698.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"fil-PH":{socials:[],partners:[],legals:[{_id:"65a789f5c8f7b9026a753e17",title:"Mga Tuntunin ng Paggamit",href:"https://www.capcut.com/tl-ph/terms-of-service",href_target:"blank",country:[]},{_id:"65a789f5c8f7b9026a753e18",title:"Patakaran sa Privacy",href:"https://www.capcut.com/tl-ph/privacy-policy",href_target:"blank",country:[]},{_id:"65a789f5c8f7b9026a753e19",title:"Patakaran sa Cookie",href:"https://www.capcut.com/tl-ph/cookies-policy",href_target:"blank",country:[]},{_id:"65a789f5c8f7b9026a753e1a",title:"Kasunduan sa Lisensya",href:"https://www.capcut.com/tl-ph/material-license-agreement",href_target:"blank",country:[]},{_id:"65a789f5c8f7b9026a753e1b",title:"Kasunduan ng Tagapaglikha",href:"https://www.capcut.com/tl-ph/creator-agreement",href_target:"blank",country:[]},{_id:"65a789f5c8f7b9026a753e1c",title:"Mga Alituntunin ng Komunidad",href:"https://www.capcut.com/tl-ph/community-guideline",href_target:"blank",country:[]},{_id:"65a7ca185efe7a0277eae340",title:"Iyong Mga Pagpipilian sa Privacy",href:"https://www.capcut.com/tl-ph/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705495060997.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"self",filter_type:"include",country:["US"]}]},"th-TH":{socials:[],partners:[],legals:[{_id:"65a788a2eca957026638e0b0",title:"\u0e02\u0e49\u0e2d\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e43\u0e2b\u0e49\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23",href:"https://www.capcut.com/th-th/terms-of-service",href_target:"blank",country:[]},{_id:"65a788a2eca957026638e0b1",title:"\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e04\u0e27\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27\u0e02\u0e2d\u0e07",href:"https://www.capcut.com/th-th/privacy-policy",href_target:"blank",country:[]},{_id:"65a788a2eca957026638e0b2",title:"\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e04\u0e38\u0e01\u0e01\u0e35\u0e49",href:"https://www.capcut.com/th-th/cookies-policy",href_target:"blank",country:[]},{_id:"65a788a2eca957026638e0b3",title:"\u0e02\u0e49\u0e2d\u0e15\u0e01\u0e25\u0e07\u0e43\u0e1a\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15",href:"https://www.capcut.com/th-th/material-license-agreement",href_target:"blank",country:[]},{_id:"65a788a2eca957026638e0b4",title:"\u0e02\u0e49\u0e2d\u0e15\u0e01\u0e25\u0e07\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e2a\u0e23\u0e49\u0e32\u0e07",href:"https://www.capcut.com/th-th/creator-agreement",href_target:"blank",country:[]},{_id:"65a788a2eca957026638e0b5",title:"\u0e2b\u0e25\u0e31\u0e01\u0e40\u0e01\u0e13\u0e11\u0e4c\u0e02\u0e2d\u0e07\u0e0a\u0e38\u0e21\u0e0a\u0e19",href:"https://www.capcut.com/th-th/community-guideline",href_target:"blank",country:[]},{_id:"65a7c9e75efe7a0277eae336",title:"\u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e04\u0e27\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",href:"https://www.capcut.com/th-th/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705495011999.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"vi-VN":{socials:[],partners:[],legals:[{_id:"65a7872c8922a90259854977",title:"\u0110i\u1ec1u Kho\u1ea3n D\u1ecbch V\u1ee5",href:"https://www.capcut.com/vi-vn/terms-of-service",href_target:"blank",country:[]},{_id:"65a7872c8922a90259854978",title:"Ch\xednh s\xe1ch b\u1ea3o m\u1eadt",href:"https://www.capcut.com/vi-vn/privacy-policy",href_target:"blank",country:[]},{_id:"65a7872c8922a90259854979",title:"Ch\xednh s\xe1ch cookie",href:"https://www.capcut.com/vi-vn/cookies-policy",href_target:"blank",country:[]},{_id:"65a7872c8922a9025985497a",title:"Th\u1ecfa thu\u1eadn c\u1ea5p ph\xe9p",href:"https://www.capcut.com/vi-vn/material-license-agreement",href_target:"blank",country:[]},{_id:"65a7872c8922a9025985497b",title:"Th\u1ecfa thu\u1eadn ng\u01b0\u1eddi s\xe1ng t\u1ea1o",href:"https://www.capcut.com/vi-vn/creator-agreement",href_target:"blank",country:[]},{_id:"65a7872c8922a9025985497c",title:"Nguy\xean t\u1eafc c\u1ed9ng \u0111\u1ed3ng",href:"https://www.capcut.com/vi-vn/community-guideline",href_target:"blank",country:[]},{_id:"65a7c9d6c8f7b9026a7540b7",title:"L\u1ef1a ch\u1ecdn v\u1ec1 quy\u1ec1n ri\xeang t\u01b0 c\u1ee7a b\u1ea1n",href:"https://www.capcut.com/vi-vn/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494995239.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"self",filter_type:"include",country:["US"]}]},"it-IT":{socials:[],partners:[],legals:[{_id:"65a77e8fbe027d0271b5d6f1",title:"Condizioni di servizio",href:"https://www.capcut.com/it-it/terms-of-service",href_target:"blank",country:[]},{_id:"65a77e8fbe027d0271b5d6f2",title:"Informativa sulla privacy",href:"https://www.capcut.com/it-it/privacy-policy",href_target:"blank",country:[]},{_id:"65a77e8fbe027d0271b5d6f3",title:"Informativa sui cookie",href:"https://www.capcut.com/it-it/cookies-policy",href_target:"blank",country:[]},{_id:"65a77e8fbe027d0271b5d6f4",title:"Contratto di licenza",href:"https://www.capcut.com/it-it/material-license-agreement",href_target:"blank",country:[]},{_id:"65a77e8fbe027d0271b5d6f5",title:"Accordo del creatore",href:"https://www.capcut.com/it-it/creator-agreement",href_target:"blank",country:[]},{_id:"65a77e8fbe027d0271b5d6f6",title:"Linee guida della community",href:"https://www.capcut.com/it-it/community-guideline",href_target:"blank",country:[]},{_id:"65a7c9b09259f8027ef25321",title:"Le tue scelte sulla privacy",href:"https://www.capcut.com/it-it/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494957099.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"ms-MY":{socials:[],partners:[],legals:[{_id:"65a785788922a90259854935",title:"Syarat Penggunaan",href:"https://www.capcut.com/ms-my/terms-of-service",href_target:"blank",country:[]},{_id:"65a785788922a90259854936",title:"Dasar Privasi",href:"https://www.capcut.com/ms-my/privacy-policy",href_target:"blank",country:[]},{_id:"65a785788922a90259854937",title:"Dasar Kuki",href:"https://www.capcut.com/ms-my/cookies-policy",href_target:"blank",country:[]},{_id:"65a785788922a90259854938",title:"Perjanjian Lesen",href:"https://www.capcut.com/ms-my/material-license-agreement",href_target:"blank",country:[]},{_id:"65a785788922a90259854939",title:"Perjanjian Pencipta",href:"https://www.capcut.com/ms-my/creator-agreement",href_target:"blank",country:[]},{_id:"65a785788922a9025985493a",title:"Garis Panduan Komuniti",href:"https://www.capcut.com/ms-my/community-guideline",href_target:"blank",country:[]},{_id:"65a7c9c2c8f7b9026a7540af",title:"Pilihan Privasi Anda",href:"https://www.capcut.com/ms-my/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494975305.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"id-ID":{socials:[],partners:[],legals:[{_id:"65a77cd3be027d0271b5d6d7",title:"Ketentuan Layanan",href:"https://www.capcut.com/id-id/terms-of-service",href_target:"blank",country:[]},{_id:"65a77cd3be027d0271b5d6d8",title:"Kebijakan Privasi",href:"https://www.capcut.com/id-id/privacy-policy",href_target:"blank",country:[]},{_id:"65a77cd3be027d0271b5d6d9",title:"Kebijakan Cookie",href:"https://www.capcut.com/id-id/cookies-policy",href_target:"blank",country:[]},{_id:"65a77cd3be027d0271b5d6da",title:"Perjanjian Lisensi Materi",href:"https://www.capcut.com/id-id/material-license-agreement",href_target:"blank",country:[]},{_id:"65a77cd3be027d0271b5d6db",title:"Ketentuan Layanan Kreator",href:"https://www.capcut.com/id-id/creator-agreement",href_target:"blank",country:[]},{_id:"65a77cd3be027d0271b5d6dc",title:"Panduan Komunitas",href:"https://www.capcut.com/id-id/community-guideline",href_target:"blank",country:[]},{_id:"65a7c99ebe027d0271b5db2f",title:"Pilihan Privasi Anda",href:"https://www.capcut.com/id-id/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494938987.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"es-LA":{socials:[],partners:[],legals:[{_id:"65a76c13eca957026638df0e",title:"Condiciones de Servicio",href:"https://www.capcut.com/es-es/terms-of-service",href_target:"blank",country:[]},{_id:"65a76c13eca957026638df0f",title:"Pol\xedtica de Privacidad",href:"https://www.capcut.com/es-es/privacy-policy",href_target:"blank",country:[]},{_id:"65a76c13eca957026638df10",title:"Pol\xedtica de Cookies",href:"https://www.capcut.com/es-es/cookies-policy",href_target:"blank",country:[]},{_id:"65a77311eca957026638df71",title:"Contrato de Licencia",href:"https://www.capcut.com/es-es/material-license-agreement",href_target:"blank",country:[]},{_id:"65a77311eca957026638df72",title:"Acuerdo del Creador",href:"https://www.capcut.com/es-es/creator-agreement",href_target:"blank",country:[]},{_id:"65a77311eca957026638df73",title:"Directrices Comunitarias",href:"https://www.capcut.com/es-es/community-guideline",href_target:"blank",country:[]},{_id:"65a7c91fc8f7b9026a75409a",title:"Sus Opciones de Privacidad",href:"https://www.capcut.com/es-es/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494811399.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"es-ES":{socials:[],partners:[],legals:[{_id:"65a76c13eca957026638df0e",title:"Condiciones de Servicio",href:"https://www.capcut.com/es-es/terms-of-service",href_target:"blank",country:[]},{_id:"65a76c13eca957026638df0f",title:"Pol\xedtica de Privacidad",href:"https://www.capcut.com/es-es/privacy-policy",href_target:"blank",country:[]},{_id:"65a76c13eca957026638df10",title:"Pol\xedtica de Cookies",href:"https://www.capcut.com/es-es/cookies-policy",href_target:"blank",country:[]},{_id:"65a77311eca957026638df71",title:"Contrato de Licencia",href:"https://www.capcut.com/es-es/material-license-agreement",href_target:"blank",country:[]},{_id:"65a77311eca957026638df72",title:"Acuerdo del Creador",href:"https://www.capcut.com/es-es/creator-agreement",href_target:"blank",country:[]},{_id:"65a77311eca957026638df73",title:"Directrices Comunitarias",href:"https://www.capcut.com/es-es/community-guideline",href_target:"blank",country:[]},{_id:"65a7c91fc8f7b9026a75409a",title:"Sus Opciones de Privacidad",href:"https://www.capcut.com/es-es/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494811399.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"tr-TR":{socials:[],partners:[],legals:[{_id:"65a77b72c8f7b9026a753d43",title:"Hizmet \u015eartlar\u0131",href:"https://www.capcut.com/tr-tr/terms-of-service",href_target:"blank",country:[]},{_id:"65a77b72c8f7b9026a753d44",title:"Gizlilik Politikas\u0131",href:"https://www.capcut.com/tr-tr/privacy-policy",href_target:"blank",country:[]},{_id:"65a77b72c8f7b9026a753d45",title:"\xc7erezler Politikas\u0131",href:"https://www.capcut.com/tr-tr/cookies-policy",href_target:"blank",country:[]},{_id:"65a77b72c8f7b9026a753d46",title:"Lisans Anla\u015fmas\u0131",href:"https://www.capcut.com/tr-tr/material-license-agreement",href_target:"blank",country:[]},{_id:"65a77b72c8f7b9026a753d47",title:"\u0130\xe7erik \xdcretici Hizmet \u015eartlar\u0131",href:"https://www.capcut.com/tr-tr/creator-agreement",href_target:"blank",country:[]},{_id:"65a77b72c8f7b9026a753d48",title:"Topluluk Kurallar\u0131",href:"https://www.capcut.com/tr-tr/community-guideline",href_target:"blank",country:[]},{_id:"65a7c98abe027d0271b5db25",title:"Gizlilik Se\xe7imleriniz",href:"https://www.capcut.com/tr-tr/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494916331.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"self",filter_type:"include",country:["US"]}]},"fr-FR":{socials:[],partners:[],legals:[{_id:"64e5a32c758ca309e13e849a",title:"Conditions d'utilisation",href:"https://www.capcut.com/fr-fr/terms-of-service",href_target:"blank",country:[]},{_id:"64e5a32c758ca309e13e849b",title:"Politique de confidentialit\xe9",href:"https://www.capcut.com/fr-fr/privacy-policy",href_target:"blank",country:[]},{_id:"65a79a5c8922a90259854a90",title:"Politique en mati\xe8re de cookies",href:"https://www.capcut.com/fr-fr/cookies-policy",href_target:"blank",country:[]},{_id:"65a79a5c8922a90259854a91",title:"Accord de licence",href:"https://www.capcut.com/fr-fr/material-license-agreement",href_target:"blank",country:[]},{_id:"65a79a5c8922a90259854a92",title:"Accord avec le cr\xe9ateur",href:"https://www.capcut.com/fr-fr/creator-agreement",href_target:"blank",country:[]},{_id:"65a79a5c8922a90259854a93",title:"Lignes directrices pour la communaut\xe9",href:"https://www.capcut.com/fr-fr/community-guideline",href_target:"blank",country:[]},{_id:"65a7c9765efe7a0277eae328",title:"Vos choix en mati\xe8re de protection de la vie priv\xe9e",href:"https://www.capcut.com/fr-fr/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494899422.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"ko-KR":{socials:[],partners:[],legals:[{_id:"65a79c79c8f7b9026a753ed9",title:"\uc11c\ube44\uc2a4 \uc57d\uad00",href:"https://www.capcut.com/ko-kr/terms-of-service",href_target:"blank",country:[]},{_id:"65a79c79c8f7b9026a753eda",title:"\uac1c\uc778\uc815\ubcf4 \ucc98\ub9ac\ubc29\uce68",href:"https://www.capcut.com/ko-kr/privacy-policy",href_target:"blank",country:[]},{_id:"65a79c79c8f7b9026a753edb",title:"\ucfe0\ud0a4 \uc815\ucc45",href:"https://www.capcut.com/ko-kr/cookies-policy",href_target:"blank",country:[]},{_id:"65a79c79c8f7b9026a753edc",title:"\uc790\ub8cc \ub77c\uc774\uc120\uc2a4 \uacc4\uc57d",href:"https://www.capcut.com/ko-kr/material-license-agreement",href_target:"blank",country:[]},{_id:"65a79c79c8f7b9026a753edd",title:"\ud06c\ub9ac\uc5d0\uc774\ud130 \uc11c\ube44\uc2a4 \uc57d\uad00",href:"https://www.capcut.com/ko-kr/creator-agreement",href_target:"blank",country:[]},{_id:"65a79c79c8f7b9026a753ede",title:"\ucee4\ubba4\ub2c8\ud2f0 \uac00\uc774\ub4dc\ub77c\uc778",href:"https://www.capcut.com/ko-kr/community-guideline",href_target:"blank",country:[]},{_id:"65a7c952c8f7b9026a7540a3",title:"\uadc0\ud558\uc758 \uac1c\uc778 \uc815\ubcf4 \ubcf4\ud638 \uc120\ud0dd",href:"https://www.capcut.com/ko-kr/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494862455.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"ja-JP":{socials:[],partners:[],legals:[{_id:"65a79d94c8f7b9026a753eed",title:"\u30b5\u30fc\u30d3\u30b9\u898f\u7d04",href:"https://www.capcut.com/ja-jp/terms-of-service",href_target:"blank",country:[]},{_id:"65a79d94c8f7b9026a753eee",title:"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc",href:"https://www.capcut.com/ja-jp/privacy-policy",href_target:"blank",country:[]},{_id:"65a79d94c8f7b9026a753eef",title:"\u30af\u30c3\u30ad\u30fc\u30dd\u30ea\u30b7\u30fc",href:"https://www.capcut.com/ja-jp/cookies-policy",href_target:"blank",country:[]},{_id:"65a79d94c8f7b9026a753ef0",title:"\u30e9\u30a4\u30bb\u30f3\u30b9\u5951\u7d04",href:"https://www.capcut.com/ja-jp/material-license-agreement",href_target:"blank",country:[]},{_id:"65a79d94c8f7b9026a753ef1",title:"\u30af\u30ea\u30a8\u30a4\u30bf\u30fc\u898f\u7d04",href:"https://www.capcut.com/ja-jp/creator-agreement",href_target:"blank",country:[]},{_id:"65a79d94c8f7b9026a753ef2",title:"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3",href:"https://www.capcut.com/ja-jp/community-guideline",href_target:"blank",country:[]},{_id:"65a7c93cbe027d0271b5db10",title:"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u306b\u95a2\u3059\u308b\u9078\u629e",href:"https://www.capcut.com/ja-jp/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494840107.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},"pt-BR":{socials:[],partners:[],legals:[{_id:"64ed6139691e6302830722c4",title:"Termos de Uso",href:"https://www.capcut.com/pt-br/terms-of-service",href_target:"blank",country:[]},{_id:"64ed6139691e6302830722c5",title:"Pol\xedtica de Privacidade",href:"https://www.capcut.com/pt-br/privacy-policy",href_target:"blank",country:[]},{_id:"64ed6139691e6302830722c6",title:"Pol\xedtica de Cookies",href:"https://www.capcut.com/pt-br/cookies-policy",href_target:"blank",country:[]},{_id:"64ed6139691e6302830722c7",title:"Contrato de Licen\xe7a",href:"https://www.capcut.com/pt-br/material-license-agreement",href_target:"blank",country:[]},{_id:"64ed6139691e6302830722c8",title:"Acordo do Criador",href:"https://www.capcut.com/pt-br/creator-agreement",href_target:"blank",country:[]},{_id:"64ed6139691e6302830722c9",title:"Diretriz da Comunidade",href:"https://www.capcut.com/pt-br/community-guideline",href_target:"blank",country:[]},{_id:"65a7c8fb5efe7a0277eae31e",title:"Suas escolhas de privacidade",href:"https://www.capcut.com/pt-br/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494762420.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]},en:{socials:[],partners:[],legals:[{_id:"64e5869e5bf48e09a43b6606",title:"Terms of Use",href:"https://www.capcut.com/terms-of-service",href_target:"blank",country:[]},{_id:"64e5869e5bf48e09a43b6607",title:"Privacy Policy",href:"https://www.capcut.com/privacy-policy",href_target:"blank",country:[]},{_id:"64e5869e5bf48e09a43b6608",title:"Cookie Policy",href:"https://www.capcut.com/cookies-policy",href_target:"blank",country:[]},{_id:"64e5869e5bf48e09a43b6609",title:"License Agreement",href:"https://www.capcut.com/material-license-agreement",href_target:"blank",country:[]},{_id:"64e5869e5bf48e09a43b660a",title:"Creator Agreement",href:"https://www.capcut.com/creator-agreement",href_target:"blank",country:[]},{_id:"64e5869e5bf48e09a43b660b",title:"Community Guideline",href:"https://www.capcut.com/community-guideline",href_target:"blank",country:[]},{_id:"654a0022be1e44026f4dcb67",title:"Your Privacy Choices",href:"https://www.capcut.com/privacy-settings",icon:"https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1705494762420.\u89d2\u6807~tplv-6rr7idwo9f-image.image",href_target:"blank",filter_type:"include",country:["US"]}]}},Ie={getPolicy(){return Promise.resolve(be)}};class ke{constructor(){ge(this,"reporter",(0,m.Z)())}authorizeWindowReport(e){typeof e.current_page>"u"&&delete e.current_page,this.reporter.report("authorize_window",e)}notLoginPopupReport(e){typeof e.current_page>"u"&&delete e.current_page,this.reporter.report("not_login_popup",e)}upLoadWindowReport(e){typeof e.current_page>"u"&&delete e.current_page,this.reporter.report("upload_window",e)}linkFileFailReport(e){this.reporter.report("material_link_fail_show",e)}}class Se{constructor(){ge(this,"reporter",(0,m.Z)())}report(e){this.reporter.report("edm_status",e)}}var Te=(e=>(e.HEADER="page_header",e.FOOTER="page_footer",e))(Te||{});class Re{constructor(){ge(this,"reporter",(0,m.Z)())}report(e){this.reporter.report("switch_homepage_tab",e)}}const Pe=({label:e,menu:t,value:r,defaultValue:a,selectClassName:n,selectStyle:s,menuClassName:c,menuStyle:d,menuItemClassName:p,menuItemStyle:_,theme:h,onChange:m})=>{const[f,w]=(0,u.useState)(!1),v=(0,u.useRef)(null),E=e=>"hide-label"===h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"lv_birthday-select-menu-label",children:e}),(0,l.jsx)(g.OJ_,{className:"lv_birthday-select-menu-icon"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.OJ_,{className:"lv_birthday-select-menu-icon"})," ",e]}),y=(0,u.useMemo)((()=>r!==J?t.find((e=>e.value===r)).label:""),[t,r]);return(0,l.jsx)(i.A,{droplist:(0,l.jsx)(o.A,{className:G()("lv_birthday-select-menu",c),style:d,defaultSelectedKeys:[String(a)],selectedKeys:r!==J?[String(r)]:void 0,autoScrollIntoView:!0,onClickMenuItem:e=>{m(Number(e))},children:t.map((e=>(0,l.jsx)(o.A.Item,{className:p,style:_,children:E(e.label)},String(e.value))))}),triggerProps:{autoFitPosition:!1},trigger:"click",getPopupContainer:e=>v.current,onVisibleChange:e=>{w(e)},children:(0,l.jsxs)("div",{ref:v,className:G()("lv_birthday-select",f?"active":"",n,y?"not-empty":""),style:s,children:[(0,l.jsx)("div",{className:G()("lv_birthday-select-label"),children:e}),(0,l.jsx)("div",{className:"lv_birthday-select-value",children:y}),"hide-label"===h?(0,l.jsx)(g.iyj,{className:"lv_birthday-select-arrow",color:"currentColor"}):(0,l.jsx)(g.rIS,{className:"lv_birthday-select-arrow"})]})})},Le=({mode:e="custom",theme:t,customVerfication:r,onChange:a,birthdayStr:n})=>{const[i,o,s]=(null==n?void 0:n.split("-"))??[],[c,p]=(0,d.zl)(n?te.withContext({...te.context,year:Number(i),month:Number(o),date:Number(s)}):te),{month:_,date:g,year:m,months:f,dates:w,years:v}=c.context,[E,y]=(0,u.useState)(""),C=(0,u.useRef)(null),A=(0,u.useMemo)((()=>{const e=x()(E);return[e.month(),e.date(),e.year()]}),[E]),b=["","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].map((e=>e&&h.Ay.t(e)));return(0,u.useEffect)((()=>{c.matches("valid")&&(null==a||a(x()(`${m}-${_}-${g}`).format("YYYY-MM-DD")))}),[a,c,m,_,g]),(0,u.useEffect)((()=>{"native"===e&&E&&(!r||r(...A))&&(null==a||a(E))}),[e,E,r]),(0,u.useEffect)((()=>{p({type:"CHANGE_CUSTOM_VERFICATION",callback:r})}),[r]),(0,l.jsx)("div",{className:G()("lv_birthday-picker",t||""),children:"custom"===e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Pe,{label:h.Ay.t("web_signin_placeholder_month",{},"Month"),menu:f.map((e=>({label:b[e],value:e}))),value:_,defaultValue:1,selectStyle:{width:"hide-label"===t?148:140},menuStyle:{width:"hide-label"===t?160:180},theme:t,onChange:e=>p({type:"CHANGE_MONTH",value:e})}),(0,l.jsx)(Pe,{label:h.Ay.t("web_signin_placeholder_day",{},"Day"),menu:w.map((e=>({label:String(e),value:e}))),value:g,defaultValue:1,theme:t,onChange:e=>p({type:"CHANGE_DATE",value:e})}),(0,l.jsx)(Pe,{label:h.Ay.t("web_signin_placeholder_year",{},"Year"),menu:v.map((e=>({label:String(e),value:e}))),value:m,defaultValue:1990,theme:t,onChange:e=>p({type:"CHANGE_YEAR",value:e})})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"lv_birthday-input",onClick:()=>{C.current.showPicker()},children:[(0,l.jsx)("span",{className:G()(E?"":"placeholder"),children:E||"Enter your birthday"}),(0,l.jsx)("input",{ref:C,className:"lv_birthday-input",type:"date",onChange:e=>{y(e.target.value?x()(e.target.value).format("YYYY-MM-DD"):"")}})]})})})};var Ne=(e=>(e[e.logIn=0]="logIn",e[e.signUp=1]="signUp",e[e.forgetPwd=2]="forgetPwd",e[e.invite=3]="invite",e))(Ne||{});const Oe=e=>{const{defaultEmail:t,defaultPassword:r,disableBtton:n=!1}=e,[i,o]=(0,u.useState)(t||""),[s,c]=(0,u.useState)(r||""),[d,p]=(0,u.useState)(!1),_=(0,u.useRef)(null),m=t=>{var r;o(t),null==(r=e.onEmailChange)||r.call(e,t)},f=t=>{var r;c(t),null==(r=e.onPasswordChange)||r.call(e,t)};(0,u.useEffect)((()=>{m(i),f(s)}),[]);const w=()=>{e.onSignIn(i,s)},{emailWarn:v,passwordWarn:E,confirmText:y,loading:C}=e;return(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-content",children:(0,l.jsx)("form",{children:(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-form",children:[(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_wide-form-email"),children:[(0,l.jsx)(se.A,{className:G()("lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn ":""!==v}),value:i,placeholder:h.F2.t("web_signin_placeholder_enter_email",{},"Enter email"),onChange:m,onPressEnter:()=>{var e,t;null==(t=null==(e=_.current)?void 0:e.focus)||t.call(e)}}),""!==v?(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-warn",children:v}):null]}),(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_wide-form-password",{"lv_sign_in_panel_wide-form-password-warn":""!==E}),children:[(0,l.jsx)(se.A,{ref:_,type:d?"text":"password",className:"lv_sign_in_panel_wide-input-without-default",value:s,placeholder:h.F2.t("web_signin_placeholder_enter_password",{},"Enter password"),onChange:f,onPressEnter:w,suffix:d?(0,l.jsx)(g.GYJ,{onClick:()=>{p(!1)}}):(0,l.jsx)(g.CY3,{onClick:()=>{p(!0)}})}),""!==E?(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-warn",children:E}):null]}),(0,l.jsx)(a.A,{className:"lv_sign_in_panel_wide-sign-in-button lv_sign_in_panel_wide-primary-button",type:"primary",size:"large",onClick:w,loading:C,disabled:n,children:y})]})})})},xe=e=>(0,l.jsxs)("div",{className:"back_to_third_party",...e,children:[(0,l.jsx)("span",{className:"back_to_third_party-btn lv_sign_in_panel_wide-secondary-button",children:(0,l.jsx)(g.hnc,{className:"back_to_third_party-icon"})}),(0,l.jsx)("span",{className:"back_to_third_party-label",children:h.Ay.t("web_signin_button_go_back_signin",{action0:e=>e},"Go back")})]}),He=({toForgetPwd:e})=>(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-log-in-footer",children:(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-forget-container",children:(0,l.jsx)("div",{onClick:e,className:"forget-pwd-btn",children:h.F2.t("web_signin_button_forgot_password",{},"Forgot password?")})})}),De=({toForgetPwd:e,toBasePage:t})=>{const r=A(),[a]=(0,p.B)(r),n=a.context.emailSignInRef,i=a.context.loginReportParams,[o,s]=(0,p.B)(n),[d,f]=(0,u.useState)(""),[w,v]=(0,u.useState)(""),[E,y]=(0,u.useState)(!1),C=(0,_.d)(n,(e=>e.matches("signInSuccess"))),b=e=>{(new m.a).report({action:e,current_page:(null==i?void 0:i.currentPage)||"login"})},I=e=>{const t=c.A.confirm({focusLock:!1,className:"lv_sign_in_panel_wide-restore-account",title:(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-restore-account-title",children:[(0,l.jsx)(g.__x,{size:24,color:"#2668FF"}),h.F2.t("web_deactivate_button_delete_restore",{},"Restore deleted account")]}),content:(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-restore-account-content",children:h.F2.t("web_deactivate_text_trying_sign_into",{},"You\u2019re trying to sign into a deleted account. By signing in, your account will be restored. If you don\u2019t restore the account, it will be permanently deleted in 30 days.")}),maskStyle:{zIndex:1103},wrapStyle:{zIndex:1103},onOk:()=>{b("restore"),(e=>{s({type:"RESTORE_ACCOUNT",token:e,restoreType:1})})(e),t.close()},onCancel:()=>b("cancel"),okText:h.F2.t("web_deactivate_button_restore_confirm",{},"Restore account"),cancelText:h.F2.t("web_deactivate_button_cancel_restore",{},"Cancel"),okButtonProps:{type:"primary"},icon:null,closeIcon:(0,l.jsx)(g.gzW,{size:20})})};(0,u.useEffect)((()=>{s({type:"INIT_LOGIN_ERROR_CB",func:(e,t)=>{var r;const a=parseInt(null==(r=null==e?void 0:e.data)?void 0:r.message,10);a===m.a0.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_NOT_EXITE||a===m.a0.SIGN_UP_CODE.LOGIN_ERROR_CODE.PASSWORD_WRONG?v(h.F2.t("web_signin_error_text_valid_email",{},"Enter a valid email or password")):t&&a===m.a0.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_ACCOUNT_CANCEL?(b("show"),I(t)):ie.A.error(h.F2.t("log_fail_try_again")),y(!1)}})}),[]);return(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-detail",children:[(0,l.jsx)(xe,{onClick:t}),(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-detail-content",children:[(0,l.jsx)("h2",{className:"lv_sign_in_panel_wide-title",children:h.F2.t("web_signin_title_welcome_back",{},"Welcome back")}),(0,l.jsx)(Oe,{disableBtton:C,loading:!C&&E,defaultEmail:o.context.email,defaultPassword:o.context.password,confirmText:h.F2.t("web_signin_button_sign_in",{},"Sign in"),emailWarn:d,passwordWarn:w,onEmailChange:e=>{s({type:"SAVE_EMAIL",email:e}),""===e||m.i.test(e.trim())?f(""):f(h.F2.t("email_contain_at")),w===h.F2.t("web_signin_error_text_valid_email",{},"Enter a valid email of password")&&v("")},onPasswordChange:e=>{s({type:"SAVE_PASSWORD",password:e}),""===e||m.p.test(e)?v(""):v(h.F2.t("set_password_rule"))},onSignIn:(e,t)=>{if(""===e||""===t)return""===e&&f(h.F2.t("fill_the_text")),void(""===t&&v(h.F2.t("fill_the_text")));""!==d||""!==w||(s({type:"CONFIRM_SIGN",email:e,password:t}),y(!0))}}),(0,l.jsx)(He,{toForgetPwd:e})]})]})},Ue=({toLogIn:e,isInvitePage:t})=>(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-sign-up-footer",children:!t&&(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-footer-switch",children:[(0,l.jsx)("span",{className:"lv_sign_in_panel_wide-footer-switch-text",children:h.Ay.t("web_signin_text_have_account",{},"Already have an account?")}),(0,l.jsx)("span",{onClick:e,className:"lv_sign_in_panel_wide-footer-switch-button",children:h.Ay.t("web_signin_button_siginin_old_account",{},"Sign in")})]})}),Fe=({toLogIn:e,toBasePage:t})=>{const r=A(),[a,n]=(0,p.B)(r),[i,o]=(0,p.B)(a.context.emailSignInRef),[s,c]=(0,u.useState)(""),[d,_]=(0,u.useState)(""),[g,f]=(0,u.useState)(!1),w=a.context.userInviteRef,[v]=(0,p.B)(w),{isInvitePage:E}=v.context,{searchParams:y}=new URL(window.location.href),C=(0,S.A)(!1),b=(0,S.A)(!1);(0,u.useEffect)((()=>{["DE","LU","NO","CH","AT","GR","BR","US","MX","CA"].includes(window.__locationCountryCode??"")||(0,m.Z)().getABTestConfig("ccweb_edm_signup_checkbox",{enable:!1}).then((e=>{e.enable?b.setTrue():b.setFalse()}))}),[]),(0,u.useEffect)((()=>{o({type:"INIT_SEND_CODE_ERROR_CB",func:e=>{var t;const r=null==(t=e.data)?void 0:t.message,a=parseInt(r,10);f(!1),a===m.a0.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.EMAIL_ERROR?c(h.Ay.t("email_contain_at")):a===m.a0.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.SENDING_FREQUENTLY?ie.A.error(h.Ay.t("many_code_later")):ie.A.error(h.Ay.t("fail_sign_try_again")),o({type:"BACK_TO_FILL_REGISTER_INFO"})}})}),[]);return(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-detail",children:[(0,l.jsx)(xe,{onClick:t}),(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-detail-content",children:[(0,l.jsx)("h2",{className:"lv_sign_in_panel_wide-title",children:h.Ay.t("web_signin_title_create_account",{},"Create an account")}),(0,l.jsx)(Oe,{defaultEmail:y.get(Ce)||i.context.email,defaultPassword:i.context.password,confirmText:h.Ay.t("sign_up"),emailWarn:s,passwordWarn:d,loading:g,onEmailChange:e=>{o({type:"SAVE_EMAIL",email:e}),""===e||m.i.test(e.trim())?c(""):c(h.Ay.t("email_contain_at"))},onPasswordChange:e=>{o({type:"SAVE_PASSWORD",password:e}),""===e||m.p.test(e)?_(""):_(h.Ay.t("set_password_rule"))},onSignIn:(e,t)=>{if(""===e||""===t)return""===e&&c(h.Ay.t("fill_the_text")),void(""===t&&_(h.Ay.t("fill_the_text")));""!==s||""!==d||(f(!0),b.state&&n({type:"SET_USER_LOGINED_CB",callback:()=>{if(C.state){const e=new Se,t={is_edm:1,enter_from:"sign up"};m.Q.edmAuthorize({checked:!0}).then((()=>{e.report({...t,status:"success"})})).catch((r=>{const a=r.data;e.report({...t,status:"fail",fail_reason:`ret: ${a.ret}  errmsg: ${a.errmsg??""}`})}))}}}),o({type:"NEXT",email:e,password:t,emailHasRegisterCb:()=>{f(!1),c(h.Ay.t("email_ registered"))},onError:e=>{f(!1),1031===e.error_code?c(h.Ay.t("email_contain_at")):ie.A.error(h.Ay.t("fail_sign_try_again"))}}))}}),b.state?(0,l.jsx)("div",{style:{marginTop:"16px",whiteSpace:"normal",textAlign:"left"},children:(0,l.jsx)(ce.A,{className:"edm-auth-checkbox",value:C.state,onChange:e=>{e?C.setTrue():C.setFalse()},children:h.Ay.t("web_edm_authorization_checkbox_get_email",{},"Get trending content, newsletters, promotions, recommendations, and account updates sent to your email")})}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(Ue,{isInvitePage:E,toLogIn:e})]})]})},Me=({toLogIn:e,send:t,email:r})=>{const[n,i]=(0,u.useState)(""),[o,s]=(0,u.useState)(!1);return(0,l.jsxs)("div",{className:G()("lv_forget_pwd_panel-content","lv_forget_pwd_panel_email_fill"),children:[(0,l.jsx)(xe,{onClick:()=>{t("BACK_SIGN_IN"),e()}}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-icon-wrapper",children:(0,l.jsx)("img",{src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_reset.png",className:"lv_forget_pwd_panel-icon lv_forget_pwd_panel-icon-reset",alt:"ForgetPasswordPNG",crossOrigin:"anonymous"})}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-title lv_forget_pwd_panel-title-reset",children:h.F2.t("web_signin_title_reset_password",{},"Reset password")}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-description lv_forget_pwd_panel-description-reset",children:h.F2.t("web_signin_desc_reset_password",{},"We\u2019ll email you a link to reset your password.")}),(0,l.jsx)("form",{children:(0,l.jsx)(se.A,{value:r,onChange:e=>{t({type:"SAVE_EMAIL",email:e}),e&&!m.i.test(e)?i(h.F2.t("web_signin_error_text_invalid_email",{},"Enter a valid email")):i("")},className:G()("lv_forget_pwd_panel-input lv_forget_pwd_panel-input-reset lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn":""!==n}),placeholder:h.F2.t("web_signin_placeholder_enter_email_reset",{},"Enter email")})}),""!==n?(0,l.jsx)("div",{className:"lv_forget_pwd_panel-warn",children:n}):null,(0,l.jsx)(a.A,{loading:o,onClick:()=>{if(!o){if(!r||!m.i.test(r.trim()))return void i(h.F2.t("email_contain_at"));s(!0),t({type:"INIT_RESET_EMAIL_ERROR_CB",func:e=>{i(e.description),s(!1)}}),t({type:"SEND_EMAIL",email:r,emailNotRegisterCb:()=>{i(h.F2.t("email_contain_at")),s(!1)},onError:()=>{s(!1)}})}},type:"primary",className:G()("lv_forget_pwd_panel-btn lv_forget_pwd_panel-btn-reset lv_sign_in_panel_wide-primary-button",{"lv_forget_pwd_panel-email-warn":""!==n}),children:h.F2.t("web_signin_button_confirm_password",{},"Confirm")})]})},je=({resendEmailCodeCountDown:e,email:t,onBackClick:r,send:n})=>{const i=(0,u.useMemo)((()=>{const t=void 0===e?m.I:e;return h.F2.t("web_signin_desc_send_code",{number0:t},"You can resend the link in {number0} seconds.").replace(/\d+/,(e=>`<span class="lv_forget_pwd_panel-count-down-num">${e}</span>`))}),[e]);return(0,l.jsxs)("div",{className:"lv_forget_pwd_panel-resend",children:[(0,l.jsx)(xe,{onClick:r}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-icon-wrapper ",children:(0,l.jsx)("img",{className:"lv_forget_pwd_panel-icon lv_forget_pwd_panel-icon-resend",src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_send.png",alt:"ForgetEmailPNG",crossOrigin:"anonymous"})}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-title lv_forget_pwd_panel-title-reset",children:h.F2.t("web_signin_title_email_sent",{},"Email sent")}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-tip",children:h.F2.t("web_signin_desc_email_sent",{string0:t},"Your link was emailed to {string0}")}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-resend-footer-container",children:0!==e?(0,l.jsx)("div",{className:"lv_forget_pwd_panel-count-down",dangerouslySetInnerHTML:{__html:i}}):(0,l.jsx)("div",{className:"lv_forget_pwd_panel-resend-btn-container",children:(0,l.jsx)(a.A,{className:"lv_sign_in_panel_wide-primary-button",onClick:()=>{n("RESEND")},children:h.F2.t("web_signin_button_resend_email",{},"Resend email")})})})]})},We=({warning:e,onInputChange:t,placeholder:r,style:a,className:n})=>{const i=(0,u.useRef)(null),[o,s]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{var t,r;e.length?null==(t=i.current)||t.dom.classList.add("lv_forget_pwd_panel-warn-input"):null==(r=i.current)||r.dom.classList.remove("lv_forget_pwd_panel-warn-input")}),[e]),(0,l.jsxs)("div",{className:`lv_forget_pwd_panel-input-container ${n}`,style:a,children:[(0,l.jsx)("form",{children:(0,l.jsxs)("div",{onMouseEnter:()=>{var e;null==(e=i.current)||e.dom.classList.add("lv_forget_pwd_panel-hover-input")},onMouseLeave:()=>{var e;null==(e=i.current)||e.dom.classList.remove("lv_forget_pwd_panel-hover-input")},className:"lv_forget_pwd_panel-input-wrapper",children:[(0,l.jsx)(se.A,{type:o?"text":"password",ref:i,onBlur:()=>{var e;null==(e=i.current)||e.dom.classList.remove("lv_forget_pwd_panel-hover-input")},onChange:t,className:G()("lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn":e.length}),placeholder:r}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-input-suffix",children:o?(0,l.jsx)(g.GYJ,{onMouseDown:e=>{e.preventDefault()},onClick:()=>{var e;null==(e=i.current)||e.focus(),s(!1)}}):(0,l.jsx)(g.CY3,{onMouseDown:e=>{e.preventDefault()},onClick:()=>{var e;null==(e=i.current)||e.focus(),s(!0)}})})]})}),e.length&&(0,l.jsxs)("div",{className:"lv_forget_pwd_panel-warn-text",children:[" ",e," "]})||null]})},Ge=({className:e,toLogIn:t})=>((0,u.useEffect)((()=>{const e=document.getElementById("back-login-btn");e&&(e.onclick=t)}),[]),(0,l.jsxs)("div",{className:G()(e,"lv_sign_in_panel_wide-footer-switch-text"),children:[h.F2.t("web_signin_text_go_back_signin",{},"Go back to"),(0,l.jsx)("span",{id:"back-login-btn",className:"lv_sign_in_panel_wide-footer-switch-button",children:h.F2.t("web_signin_button_sign_in",{},"Sign in")})]})),Be=({toLogIn:e,send:t})=>{const[r,n]=(0,u.useState)(""),[i,o]=(0,u.useState)(""),[s,c]=(0,u.useState)(""),[d,p]=(0,u.useState)(""),[_,g]=(0,u.useState)(!1);(0,u.useEffect)((()=>{t({type:"INIT_RESET_SUCCESS_CB",func:()=>{ie.A.success(h.F2.t("password_reset_successfully")),g(!1)}})}),[]);return(0,l.jsxs)("div",{className:G()("lv_forget_pwd_panel-content","lv_forget_pwd_panel_reset_pwd"),children:[(0,l.jsx)("div",{className:"lv_forget_pwd_panel-icon-wrapper",children:(0,l.jsx)("img",{src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_reset.png",className:"lv_forget_pwd_panel-icon lv_forget_pwd_panel-icon-reset",alt:"ForgetPasswordPNG",crossOrigin:"anonymous"})}),(0,l.jsx)("div",{className:"lv_forget_pwd_panel-title lv_forget_pwd_panel-title-reset",children:h.F2.t("set_new_password")}),(0,l.jsx)(We,{className:"lv_forget_pwd_panel-input-reset  ",warning:s,onInputChange:e=>(n(e),!m.p.test(e)&&e?c(h.F2.t("set_password_rule")):c(""),e),value:r,placeholder:h.F2.t("web_signin_placeholder_new_password",{},"Enter new password")}),(0,l.jsx)(We,{className:G()("lv_forget_pwd_panel-input-reset-pwd"),warning:d,onInputChange:e=>(o(e),p(e!==r?h.F2.t("web_signin_error_text_same_password",{},"Enter the same password as the above line"):""),e),value:i,placeholder:h.F2.t("web_signin_placeholder_new_password_again",{},"Enter new password again")}),(0,l.jsx)(a.A,{loading:_,onClick:()=>{!m.p.test(r)||r!==i||(g(!0),t({type:"CONFIRM_PASSWORD",pwd:i}))},type:"primary",className:"lv_forget_pwd_panel-btn lv_forget_pwd_panel-btn-reset lv_sign_in_panel_wide-primary-button",children:h.F2.t("confirm_key")}),(0,l.jsx)(Ge,{toLogIn:()=>{t("BACK_SIGN_IN"),e()}})]})},Ve=({toLogIn:e})=>{const t=A(),[r]=(0,p.B)(t),a=r.context.emailSignInRef,[,n]=(0,p.B)(a),i=(0,_.d)(a,(e=>e.context.step))||m.h.FillInEmail,o=(0,_.d)(a,(e=>e.context.email)),s=(0,_.d)(a,(e=>e.context.resendEmailCodeCountDown)),c=new URLSearchParams(location.search),d=c.get("showType")||"email";return(0,u.useEffect)((()=>{switch(d){case"email":n("TO_SEND_RESET_EMAIL_INFO");break;case"password":const t=c.get("email"),r=c.get("code");t&&r&&(n({type:"SAVE_PWD_CODE",code:r,email:t}),n({type:"TO_RESET_PASSWORD",func:()=>{e(),ie.A.warning(h.F2.t("link_lose_efficacy"))}}))}}),[d]),(0,l.jsxs)("div",{className:"lv_forget_pwd_panel",children:[i===m.h.FillInEmail?(0,l.jsx)(Me,{send:n,email:o,toLogIn:e}):null,i===m.h.ResendEmail?(0,l.jsx)(je,{email:o,send:n,resendEmailCodeCountDown:s,toLogIn:e,onBackClick:()=>{n({type:"TO_SEND_RESET_EMAIL_INFO"})}}):null,i===m.h.ResetPwd?(0,l.jsx)(Be,{email:o,send:n,toLogIn:e}):null]})},Ye=({value:e="",warn:t,size:r,...a})=>{const n=(0,u.useRef)(null),[i,o]=(0,u.useState)(!1),s=(0,u.useMemo)((()=>{const t=String(e).split("").slice(0,6);return t.length<6&&t.push(...new Array(6-t.length).fill("")),t}),[e]);return(0,l.jsxs)("div",{className:G()("verification_code_input-wrapper",{"verification_code_input-wrapper-focus":i},r),onClick:()=>{var e;o(!0),null==(e=n.current)||e.focus()},children:[(0,l.jsx)("div",{className:"verification_code_input-number-wrapper",children:s.slice(0,3).map(((r,a)=>(0,l.jsx)("div",{className:G()("verification_code_input-number",{"verification_code_input-number-focus":Math.max(e.length-1,0)===a,"verification_code_input-number-warn":t}),children:r},`${a}-${r}`)))}),(0,l.jsx)("div",{className:"verification_code_input-number-divider"}),(0,l.jsx)("div",{className:"verification_code_input-number-wrapper",children:s.slice(3).map(((r,a)=>(0,l.jsx)("div",{className:G()("verification_code_input-number",{"verification_code_input-number-focus":e.length-4===a,"verification_code_input-number-warn":t}),children:r},`${a+3}-${r}`)))}),(0,l.jsx)(se.A,{className:"verification_code_input",style:{width:0,padding:0,border:"none"},maxLength:6,onFocus:()=>{o(!0)},onBlur:()=>{o(!1)},ref:n,...a})]})},ze=({progress:e,total:t})=>(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide_progress-wrapper",children:[(0,l.jsx)("span",{className:"lv_sign_in_panel_wide_progress-num",children:e})," / ",t]}),Xe=({isFromModal:e,isMobile:t})=>{const[r,a]=(0,u.useState)(""),n=A(),[i,o]=(0,u.useState)(""),[s,c]=(0,u.useState)(0),[d,g]=(0,u.useState)(0),[f]=(0,p.B)(n),w=f.context.emailSignInRef,[,v]=(0,p.B)(w),E=(0,_.d)(w,(e=>e.context.email)),y=(0,_.d)(w,(e=>e.context.resendEmailCodeCountDown)),C=(0,_.d)(w,(e=>e.matches("signUp.sendingEmailCode"))),b=(0,u.useMemo)((()=>{const e=void 0===y?m.I:y;return h.F2.t("web_signin_text_code_sent",{number0:e},"Code sent. You can resend the code in {number0}s.").replace(/\d+/,(e=>`<span class="lv_sign_in_panel_wide-code-count-down-num">${e}</span>`))}),[y]);(0,u.useEffect)((()=>{v({type:"INIT_SEND_CODE_ERROR_CB",func:e=>{var t;const r=null==(t=e.data)?void 0:t.message;parseInt(r,10)===m.a0.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.SENDING_FREQUENTLY?ie.A.error(h.F2.t("many_code_later")):ie.A.error(h.F2.t("fail_sign_try_again")),v({type:"BACK_TO_ENTER_CODE"})}})}),[]);const I=(0,u.useCallback)((e=>{var t;const r=null==(t=e.data)?void 0:t.message;parseInt(r,10)===m.a0.SIGN_UP_CODE.REGISTER_ERROR_CODE.CODE_WRONG||parseInt(r,10)===m.a0.SIGN_UP_CODE.REGISTER_ERROR_CODE.CODE_EXPIRED?(o(h.F2.t("web_signin_error_wrong_verification_code",{},"Wrong verification code. Try again.")),c(s+1)):ie.A.error(h.F2.t("fail_sign_try_again"))}),[s,o,c]);(0,u.useEffect)((()=>{v({type:"INIT_REGISTER_ERROR_CB",func:I})}),[I]),(0,u.useEffect)((()=>{let e=null;return 10===s&&(e=setTimeout((()=>{c(0)}),18e5)),()=>{e&&clearTimeout(e)}}),[s]),(0,u.useEffect)((()=>{let e=null;return 5===d&&(e=setTimeout((()=>{g(0)}),18e5)),()=>{e&&clearTimeout(e)}}),[d]);const k=e=>{const t=e||r;""!==t?v({type:"CONFIRM_REGISTER",code:t}):o(h.F2.t("fill_the_text"))};return(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-code-detail",children:[(0,l.jsx)(ze,{progress:2,total:e||t?2:3}),(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-code-logo"}),(0,l.jsx)("h2",{className:"lv_sign_in_panel_wide-code-title",children:h.F2.t("web_signin_title_confirm_email",{},"Confirm your email")}),(0,l.jsx)("span",{className:"lv_sign_in_panel_wide-code-tip",children:h.F2.t("code_sent_to_email",{placeholder:` ${E}`})}),(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_wide-code-input-wrapper",{"lv_sign_in_panel_wide-code-input-wrapper-warn":""!==i}),children:[(0,l.jsx)(Ye,{value:r,onChange:e=>{a(e),o(""),6===(null==e?void 0:e.length)&&k(e)},onPressEnter:k,warn:!!i,size:t?"small":"default"}),""!==i?(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-code-warn",children:i}):null]}),0===y||5===d?(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_wide-code-resend",{disbaled:C||5===d}),onClick:()=>{C||5===d||(g(d+1),v({type:"REPORT_SIGN_IN_ACTION",action:"resend"}),v({type:"RESEND",code:m.a1.REGISTER_RETRY}))},children:[h.F2.t("web_signin_text_no_email",{},"Didn\u2019t receive email?")," ",(0,l.jsx)("br",{}),h.F2.t("web_signin_text_check_spam_folder",{},"Check your spam folder or")," ",h.F2.t("web_signin_button_resend_code_email",{action0:e=>(0,l.jsx)("span",{className:G()("lv_sign_in_panel_wide-code-resend-button"),children:e})},"<action0>Resend code</action0>")]}):(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-code-count-down",dangerouslySetInnerHTML:{__html:b}})]})},Ke=({isFromModal:e,isMobile:t})=>{const r=A(),n=(0,_.d)(r,(e=>{var t;return(null==(t=e.context.userInfo)?void 0:t.region)??m.$.US})),i=(0,_.d)(r,(e=>{var t;return null==(t=e.context.ipLocationInfo)?void 0:t.Subdivisions})),o=(0,_.d)(r,(e=>e.context.emailSignInRef)),[s]=(0,p.B)(r),d=s.context.emailSignInRef,g=(0,_.d)(d,(e=>e.context.birthday)),[,f]=(0,p.B)(o),[w,v]=(0,u.useState)(""),E=(0,u.useCallback)((e=>{v(e)}),[]),y=(0,u.useCallback)((()=>{var e;const t=function(e,t,r){return void 0!==r&&[6115047].some((e=>null==r?void 0:r.includes(e)))||[m.$.KR,m.$.ID].some((t=>t===e))?x()(t).isBefore(x()().subtract(14,"year")):x()(t).isBefore(x()().subtract(13,"year"))}(n,w,(null==(e=null==i?void 0:i.map)?void 0:e.call(i,(e=>e.GeoNameID)))||[]),[a,o,s]=w.split("-").map((e=>Number(e)));t?(r.send({type:"UPDATE_REPORT_PARAMS",params:{age_year:a,age_month:o,age_date:s}}),f({type:"CONFIRM_BIRTHDAY",value:w,region:n})):c.A.error({className:"lv_sign_in_panel_wide-birthday-modal",maskStyle:{zIndex:1103},wrapStyle:{zIndex:1103},title:h.Ay.t("web_quebec_users_tiitle_minimum_age",{},"Minimum age requirement not met"),content:h.Ay.t("web_quebec_users_text_minimum_age",{},"According to local laws, you don\u2019t meet the minimum age requirement to use CapCut."),okText:h.Ay.t("web_quebec_users_button_get_it_one",{},"Got it"),onOk:()=>{f("RETURN_SIGN_IN")}}),(new z).report({action:"next",age_year:a,age_month:o,age_date:s})}),[n,w,r,f]);return(0,u.useEffect)((()=>{(new z).report({action:"show"})}),[]),(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide-birthday-detail",children:[(0,l.jsx)(ze,{progress:1,total:e||t?2:3}),(0,l.jsx)("img",{className:"lv_sign_in_panel_wide-birthday-cover",src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_birthday.png",alt:h.Ay.t("yout_birth"),crossOrigin:"anonymous"}),(0,l.jsx)("h2",{className:"lv_sign_in_panel_wide-birthday-title",children:h.Ay.t("web_signin_title_birthday_when",{},"When\u2019s your birthday?")}),(0,l.jsx)("p",{className:"lv_sign_in_panel_wide-birthday-subtitle",children:h.Ay.t("web_signin_desc_birthday_when",{},"Your birthday won\u2019t be shown publicly.")}),(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-birthday-picker",children:(0,l.jsx)(Le,{mode:(0,m.a9)().isMobile?"native":"custom",theme:"hide-label",birthdayStr:g,onChange:E})}),(0,l.jsx)(a.A,{className:"lv_sign_in_panel_wide-birthday-next lv_sign_in_panel_wide-primary-button",disabled:""===w,type:"primary",onClick:y,children:h.Ay.t("web_signin_button_next_step",{},"Next")})]})},qe=({service:e,signType:t=Ne.logIn,isBOE:r,showGoogleBtn:a})=>{const[n,i]=(0,u.useState)(a);(0,u.useEffect)((()=>{var e,t,r;(null==document||!document.getElementById("g_id_onload"))&&!(0,ue.A)(null==(r=null==(t=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:t.id)?void 0:r.renderButton)&&i(!1)}),[]);const o=(0,u.useMemo)((()=>[{label:h.Ay.t("web_signin_button_signin_google",{},"Continue with Google"),name:"google",platformAppId:r?m.W.Google:m.X.Google,icon:(0,l.jsx)(g.zof,{className:"lv_third_part_sign_in_expand-icon"})},{label:h.Ay.t("web_signin_button_signin_tiktok",{},"Continue with TikTok"),name:"tiktok",platformAppId:r?m.W.TikTok:m.X.TikTok,icon:(0,l.jsx)(g.UaW,{className:"lv_third_part_sign_in_expand-icon"})},{label:h.Ay.t("web_signin_button_signin_facebook",{},"Continue with Facebook"),name:"facebook",platformAppId:r?m.W.Facebook:m.X.Facebook,icon:(0,l.jsx)(g.GAq,{className:"lv_third_part_sign_in_expand-icon"})}]),[t,r]),[,s]=(0,p.B)(e);(0,u.useEffect)((()=>{var e,r,a;const n=document.getElementById("signinDiv");if(n){const i=()=>{s({type:"REPORT_SIGN_IN_ACTION",action:"google",source:t===Ne.logIn?m.Y.LoginIn:m.Y.SignUp})};null==(a=null==(r=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:r.id)||a.renderButton(n,{theme:"outline",size:"large",type:"standard",shape:"rectangular",width:n.clientWidth,text:"continue_with",logo_alignment:"left",click_listener:i,locale:h.Ay.language})}}),[n,s,t]),console.log("source",t);const c=e=>{console.log("click source",t===Ne.logIn?m.Y.LoginIn:m.Y.SignUp),s({type:"AUTH",platform:e.platformAppId,name:e.name,source:t===Ne.logIn?m.Y.LoginIn:m.Y.SignUp}),s({type:"REPORT_SIGN_IN_ACTION",action:e.name})};return(0,l.jsxs)("div",{className:"lv_third_part_sign_in_expand-wrapper",children:[n?(0,l.jsx)("div",{className:"lv_google_sign_in_btn-expand-wrapper",children:(0,l.jsx)("div",{id:"signinDiv"})}):(0,l.jsxs)("div",{className:G()("lv_third_part_sign_in_expand-button"),onClick:()=>c(o[0]),children:[o[0].icon,(0,l.jsx)("span",{className:"lv_third_part_sign_in_expand-label",children:o[0].label})]},o[0].platformAppId),null==o?void 0:o.slice(1).map((e=>(0,l.jsxs)("div",{className:G()("lv_third_part_sign_in_expand-button"),onClick:()=>c(e),children:[e.icon,(0,l.jsx)("span",{className:"lv_third_part_sign_in_expand-label",children:e.label})]},e.platformAppId)))]})},$e=({service:e,signType:t=Ne.logIn})=>{const r=A(),[a]=(0,p.B)(r),{loginReportParams:n}=a.context,i={label:h.Ay.t("web_signin_button_signin_capcut_mobile",{},"Continue with CapCut Mobile"),name:"scan_code",platformAppId:m.X.ScanCode,shouldExpand:!1,icon:(0,l.jsx)(g.ksH,{className:"lv_third_part_sign_in_expand-icon",fill:"#090C14"}),action:"scan_code_click"},[,o]=(0,p.B)(e);return(0,l.jsxs)("div",{className:G()("lv_third_part_sign_in_expand-button","lv_third_part_sign_in_qr_code"),onClick:()=>{return o({type:"AUTH",platform:(e=i).platformAppId,name:e.name,source:t===Ne.logIn?m.Y.LoginIn:m.Y.SignUp,scanCodeParams:{enter_from:null==n?void 0:n.pageEnterFrom,current_page:null==n?void 0:n.currentPage,article_type:null==n?void 0:n.articleType,article_title:null==n?void 0:n.articleTitle,tool_type:null==n?void 0:n.toolType}}),void o({type:"REPORT_SIGN_IN_ACTION",action:e.action??e.name});var e},children:[i.icon,(0,l.jsx)("span",{className:"lv_third_part_sign_in_expand-label",children:i.label})]},i.platformAppId)},Je=({src:e,alt:t,responsiveImageWebp:r,style:a,imgStyle:n,className:i,imgClassName:o,width:s,height:c,onClick:u,loading:d})=>{const p=(null==r?void 0:r.srcSet)||(null==e?void 0:e.replace(/\.image$/,".webp"));return(0,l.jsx)("figure",{className:G()("figure",i),style:a,onClick:u,children:(0,l.jsxs)("picture",{children:[p?(0,l.jsx)("source",{srcSet:p,type:"image/webp"}):null,(0,l.jsx)("img",{className:G()("custom-image",o),src:e,style:n,alt:t,width:s,height:c,loading:d,crossOrigin:"anonymous"})]})})},Qe=e=>{const{title:t,desc:r,imgSrc:a,imgWebp:n,modalImg:i,isFromModal:o}=e;return(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_left_carousel_page"),children:[(0,l.jsx)("div",{className:"lv_sign_in_panel_left_carousel_img_wrapper",children:(0,l.jsx)(Je,{src:o?i:a,responsiveImageWebp:o?void 0:{srcSet:n},alt:"login panel carousel picture",height:"100%",width:"100%",style:{height:"100%",width:"100%"},imgStyle:{height:"100%",width:"100%",objectFit:"cover",objectPosition:"center"}})}),(0,l.jsx)("h2",{className:"lv_sign_in_panel_left_carousel_title",children:t}),!o&&(0,l.jsx)("p",{className:"lv_sign_in_panel_left_carousel_desc",children:r})]})},Ze=({isFromModal:e,firstPageIndex:t=0,resourceList:r=[]})=>{const a=(0,u.useMemo)((()=>r&&0!==r.length?r:[{title:(0,l.jsx)(l.Fragment,{children:h.Ay.t("web_signin_title_stunning_videos",{strong0:e=>(0,l.jsx)("strong",{children:e})},"Create stunning videos online with unlimited possibilities")}),desc:(0,l.jsx)(l.Fragment,{children:h.Ay.t("web_signin_desc_stunning_videos",{},"Craft masterpieces with keyframes, speed curves, and more! From novices to experts, we empower your creativity.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/6cbffc0644f2011cc0087b6379fe297d.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/6cbffc0644f2011cc0087b6379fe297d.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-1.png"},{title:h.Ay.t("web_signin_title_brilliant_images",{strong0:e=>(0,l.jsx)("strong",{children:e})},"Make high-quality images effortlessly"),desc:(0,l.jsx)(l.Fragment,{children:h.Ay.t("web_signin_desc_brilliant_images",{},"Top features at your fingertips! Craft multi-page designs, enjoy smart color themes, and resize your pages smoothly.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/97148902b0919c6f29fd34d2e56bd0bf.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/97148902b0919c6f29fd34d2e56bd0bf.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-2.png"},{title:h.Ay.t("web_signin_title_million_templates",{strong0:e=>(0,l.jsx)("strong",{children:e})},"Millions of video and image templates for all your design needs"),desc:(0,l.jsx)(l.Fragment,{children:h.Ay.t("web_signin_desc_million_templates",{},"Find your perfect template from millions available - designed for social promotions, vlogs, lifestyle showcases, and more.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/3c610623884eb6883d10746c0c5173c4.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/3c610623884eb6883d10746c0c5173c4.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-3.png"},{title:h.Ay.t("web_signin_title_ai_power",{strong0:e=>(0,l.jsx)("strong",{children:e})},"Magic tools: smartly edit and process your footage"),desc:(0,l.jsx)(l.Fragment,{children:h.Ay.t("web_signin_desc_ai_power",{},"Discover the effortless route to polished content with our cutout, upscaler, and automatic image generation tools.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/51d58d1206ffb41072c008bde7ead07b.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/51d58d1206ffb41072c008bde7ead07b.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-4.png"},{title:h.Ay.t("web_signin_title_share_review",{strong0:e=>(0,l.jsx)("strong",{children:e})},"Share and review projects with your team in real time"),desc:(0,l.jsx)(l.Fragment,{children:h.Ay.t("web_signin_desc_share_review",{},"Cloud collaboration for efficient teamwork; share projects instantly for fast reviews and quick presentation.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/5994623b142cee9e54c7bfce3b525a6a.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/5994623b142cee9e54c7bfce3b525a6a.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-5.png"}]),[]),[n,i]=(0,u.useState)(t),[o,s]=(0,T.A)(),c=(0,u.useRef)(null);return(0,l.jsx)("div",{className:G()("lv_sign_in_panel_left_carousel_wrapper",{modal:e}),children:(0,l.jsxs)("div",{className:"lv_sign_in_panel_left_carousel_main",ref:o,children:[(0,l.jsx)(le.A,{className:"lv_sign_in_panel_left_carousel",indicatorType:"line",showArrow:"never",autoPlay:!s&&{interval:5e3,hoverToPause:!1},currentIndex:n,onChange:(e,t)=>{i(e)},carousel:c,animation:"fade",children:a.map(((t,r)=>(0,l.jsx)("div",{children:(0,l.jsx)(Qe,{...t,isFromModal:e})},r)))}),a.length>1?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"lv_sign_in_panel_left_carousel_arrow-left",onClick:()=>{c.current.goto({index:(n-1)%a.length,isManual:!0,isNegative:!0})},children:(0,l.jsx)(g.hnc,{fill:"currentColor"})}),(0,l.jsx)("div",{className:"lv_sign_in_panel_left_carousel_arrow-right",onClick:()=>{c.current.goto({index:(n+1)%a.length,isManual:!0})},children:(0,l.jsx)(g.hnc,{fill:"currentColor"})})]}):null]})})},et=({send:e,email:t,toEmailLogIn:r,toEmailSignIn:n})=>{const[i,o]=(0,u.useState)(""),[s,c]=(0,u.useState)(!1),d=()=>{if(!s){if(!t||!m.i.test(t.trim()))return void o(h.F2.t("email_contain_at"));c(!0),e({type:"CHECK_EMAIL_HAS_REGISTER",email:t,checkEmailHasRegisterCb:e=>{c(!1);try{e?null==r||r():null==n||n()}catch(t){console.error(t)}},onError:()=>{ie.A.error({content:h.F2.t("web_server_error_text_internal_error",{},"Something went wrong. Try again."),style:{zIndex:1104}}),c(!1)}})}};return(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide_verify_email",children:[(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault(),d()},children:(0,l.jsx)(se.A,{className:G()("lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn":""!==i}),name:"signUsername",autoComplete:"username",placeholder:h.F2.t("web_signin_placeholder_enter_email",{},"Enter email"),onChange:t=>{e({type:"SAVE_EMAIL",email:t})},onBlur:e=>{const{value:t}=e.target;t&&!m.i.test(t.trim())?o(h.F2.t("email_contain_at")):o("")},defaultValue:t})}),""!==i?(0,l.jsx)("div",{className:"lv_sign_in_panel_wide_error-info",children:i}):null,(0,l.jsx)(a.A,{type:"primary",className:G()("lv_sign_in_panel_wide-primary-button"),loading:s,onClick:d,children:h.F2.t("web_signin_button_continue_signin",{},"Continue")})]})},tt=({inviterName:e,invitedSpaceCap:t,inviterImg:r})=>(0,l.jsxs)("div",{className:"invite-info-header",children:[(0,l.jsx)(n.A,{style:{backgroundColor:"var(--lvv-color-text-content-3)"},size:48,children:r&&(0,l.jsx)("img",{alt:"avatar",src:r,crossOrigin:"anonymous"})}),(0,l.jsxs)("div",{className:"invite-info-header-user",children:[(0,l.jsx)("h4",{children:h.F2.t("web_personal_invite_title",{"color-strong":e=>(0,l.jsx)("strong",{style:{fontWeight:600},children:e}),placeholder0:e})}),(0,l.jsx)("p",{children:h.F2.t("web_personal_invite_content1",{"color-strong":e=>(0,l.jsx)("span",{style:{color:"#FF7A00"},children:e}),placeholder0:t&&Ae(t)})})]})]}),rt=e=>{const{searchParams:t}=new URL(window.location.href),r=t.get(Ce),a=t.get("workspaceName");return(0,l.jsxs)("div",{className:G()("invite-info-header","team-invite-info-header"),children:[(0,l.jsx)("div",{className:"invite-info-header-title",children:h.F2.t("web_signin_title_join_space",{},"Join space")}),(0,l.jsx)("div",{className:"invite-info-header-text",children:(()=>{var t,n,i;return"invite"===e.type?(0,l.jsx)(l.Fragment,{children:r?h.F2.t("web_space_apply_text_use_email",{string0:r,string1:null==(t=e.joinInfo)?void 0:t.workspaceName},"{string0} invites you to join {string1}."):h.F2.t("web_signin_desc_join_space",{string0:(0,l.jsx)("strong",{children:null==(n=e.joinInfo)?void 0:n.inviterNickName}),string1:(0,l.jsx)("strong",{children:null==(i=e.joinInfo)?void 0:i.workspaceName})},"{string0} invites you to join {string1}.")}):"apply"===e.type?(0,l.jsx)(l.Fragment,{children:a?h.F2.t("web_space_apply_button_join_space",{string0:a},"Request to join {string0}\u2019s space"):""}):(0,l.jsx)(l.Fragment,{})})()})]})},at=e=>{const{thirdPartSignIn:t,isFromModal:r,showTeamInviteInfo:a,title:n,toEmailSignIn:i,toEmailLogIn:o}=e,s=A(),[c]=(0,p.B)(s);c.context.thirdPartSignInRef;const u=c.context.emailSignInRef,[,d]=(0,p.B)(u),g=(0,_.d)(u,(e=>e.context.email)),w=c.context.teamInviteRef,[v]=(0,p.B)(w),{workspaceInfo:E}=v.context,y=c.context.userInviteRef,[C]=(0,p.B)(y),{isInvitePage:b,invitedCode:I,inviteDetail:k}=C.context,S=b&&I,{isFromTeamInvite:T,isFromTeamApply:R}=f(),P=()=>S?(0,l.jsx)(tt,{inviterImg:null==k?void 0:k.inviterImg,invitedSpaceCap:null==k?void 0:k.invitedSpaceCap,inviterName:null==k?void 0:k.inviterName}):T?(0,l.jsx)(rt,{type:"invite",joinInfo:{workspaceName:null==E?void 0:E.name,inviterNickName:null==E?void 0:E.inviter_nickname}}):R?(0,l.jsx)(rt,{type:"apply"}):(0,l.jsx)("h2",{className:"lv_sign_in_panel_wide_base_page-title",children:null!=n&&n.length?n:h.F2.t("web_signin_title_signin_capcut",{},"Welcome to CapCut")});return(0,l.jsx)("div",{className:G()("lv_sign_in_panel_wide_base_page",{modal:r}),children:(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide_base_page-content",children:[!r&&(0,l.jsx)("img",{className:"lv_sign_in_panel_wide_base_page-logo",src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/capcut-logo-dark.png",width:119,height:"auto",draggable:!1,crossOrigin:"anonymous"}),(0,l.jsxs)("div",{className:"lv_sign_in_panel_wide_base_page-main-content",children:[(0,l.jsx)(P,{}),!r&&!a&&!S&&(0,l.jsx)("div",{className:"lv_sign_in_panel_wide_base_page-subtitle",children:h.F2.t("web_signin_desc_signin_capcut",{},"Sign in to unlock all features")}),t,(0,l.jsx)("div",{className:"lv_sign_in_panel_wide_base_page-or-line",children:(0,l.jsx)("div",{className:"lv_sign_in_panel_wide_base_page-or-line-label",children:h.F2.t("web_signin_text_other_ways_signin",{},"OR")})}),(0,l.jsx)("div",{children:(0,l.jsx)(et,{send:d,email:g,toEmailSignIn:i,toEmailLogIn:o})})]}),(0,l.jsx)("div",{className:"lv_sign_in_panel_wide-policy",children:h.F2.t("web_signin_text_continue_agreement",{strong0:e=>e,href0:e=>(0,l.jsx)("a",{target:"__blank",id:"termsOfCapCut",href:m.P.TERMS_OF_CAPCUT(h.F2.language),className:"policy",children:e},"terms-of-user"),href1:e=>(0,l.jsx)("a",{target:"_blank",id:"privacyPolicy",href:m.P.PRIVACY_POLICY(h.F2.language),className:"policy",rel:"noreferrer",children:e},"privacy-policy")},"By clicking <strong0>Continue</strong0>, you accept the <href0>Terms of Use</href0> and <href1>Privacy Policy</href1>.")})]})})},nt=({isFromModal:e,center:t,signType:r=Ne.signUp,onLoginSuccess:a,toSignUpCb:n,toLogInCb:i,toForgetPwdCb:o,onClose:s,params:c,isMobile:d=!1,resourceList:h,title:w})=>{const v=A(),[E,y]=(0,p.B)(v),{loginReportParams:C}=E.context,b=E.context.emailSignInRef,I=E.context.thirdPartSignInRef,k=E.context.teamInviteRef,S=E.context.userInviteRef,[T]=(0,p.B)(S),[R,P]=(0,p.B)(k),[L,N]=(0,p.B)(b),[,O]=(0,p.B)(I),x=(0,_.d)(v,(e=>e.context.isBOE)),H=(0,_.d)(b,(e=>e.context.source)),D=(0,_.d)(b,(e=>e.context.currentWindow)),U=(0,_.d)(v,(e=>{var t,r;return null==(r=null==(t=e.context)?void 0:t.inviteInfo)?void 0:r.isInvitePage})),F=(0,_.d)(v,(e=>e.context.passport)),[M,j]=(0,u.useState)(!1),W=new URLSearchParams(window.location.search),{isFromTeamInvite:B,isFromTeamApply:V}=f(),Y=B||V;(0,u.useEffect)((()=>{y({type:"UPDATE_REPORT_PARAMS",params:{pageEnterFrom:(null==C?void 0:C.pageEnterFrom)||"",currentPage:(null==C?void 0:C.currentPage)||"",statusEnterFrom:(null==C?void 0:C.statusEnterFrom)||"",...c}})}),[]),(0,u.useEffect)((()=>{const e=W.get("redirect_url");B&&e&&P({type:"REFRESH",newLink:`${location.origin}${decodeURIComponent(e)}`})}),[]),(0,u.useEffect)((()=>{N({type:"INIT_LOGIN_SUCCESS_CB",func:()=>{null==a||a()}}),O({type:"INIT_LOGIN_SUCCESS_CB",func:()=>{null==a||a()}})}),[]),(0,u.useEffect)((()=>{switch(r){case Ne.logIn:N("TO_SIGN_IN");break;case Ne.signUp:N("TO_SIGN_UP");break;case Ne.forgetPwd:N("TO_FORGET_PWD")}}),[r]),(0,u.useEffect)((()=>{!async function(){await F()}()}),[F]);const z=()=>{N({type:"REPORT_SIGN_IN_ACTION",action:"sign_up"}),N({type:"SAVE_PASSWORD",password:""}),n?n():N("TO_SIGN_UP")},X=()=>{N({type:"REPORT_SIGN_IN_ACTION",action:"log_in"}),N({type:"SAVE_PASSWORD",password:""}),i?i():N("TO_SIGN_IN")};return(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_wide-wrapper",{modal:e,center:t,mobile:d}),children:[!d&&(0,l.jsx)(Ze,{isFromModal:e,resourceList:h}),(0,l.jsx)(ne.A,{webp:!0,loading:["noSign.checking","hasSign"].some(E.matches)||["forgetPwd.checkResetCode","signUp.registering"].some(L.matches)||["unknow"].some(T.matches)||B&&!["error","hasInfo"].some(R.matches),size:28,children:(0,l.jsx)(oe.Ay,{className:G()("focus-lock-wrapper"),children:(0,l.jsxs)(l.Fragment,{children:[D!==m.C.FILL_IN_BASE_INFO||M?null:(0,l.jsx)("div",{className:G()("lv_sign_in_panel_wide-right-wrapper"),children:(0,l.jsx)(at,{showTeamInviteInfo:Y,thirdPartSignIn:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(qe,{service:I,signType:H===m.Y.LoginIn?Ne.logIn:Ne.signUp,isBOE:x,showGoogleBtn:!e}),(0,l.jsx)($e,{service:I,signType:H===m.Y.LoginIn?Ne.logIn:Ne.signUp})]}),title:w,isFromModal:e,toEmailSignIn:()=>{j(!0),z()},toEmailLogIn:()=>{j(!0),X()}})}),D===m.C.FILL_IN_BASE_INFO&&M&&(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_wide-right-wrapper"),children:[H===m.Y.LoginIn?(0,l.jsx)(De,{showTeamInviteInfo:Y,toForgetPwd:()=>{N({type:"SAVE_PASSWORD",password:""}),o?o():N("TO_FORGET_PWD")},toSignUp:z,toBasePage:()=>{j(!1)}}):null,H===m.Y.SignUp?(0,l.jsx)(Fe,{showTeamInviteInfo:Y,toLogIn:X,toBasePage:()=>{j(!1)}}):null]}),D===m.C.FORGET_PWD_INFO?(0,l.jsx)("div",{className:G()("lv_sign_in_panel_wide-enter-code-wrapper"),children:(0,l.jsx)(Ve,{toLogIn:X})}):null,D===m.C.ENTER_BIRTHDAY?(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_wide-enter-code-wrapper"),children:[(0,l.jsx)(xe,{style:{top:40,zIndex:99},onClick:()=>{N({type:"RETURN_SIGN_IN"})}}),(0,l.jsx)(Ke,{isFromModal:e,isMobile:d})]}):null,D===m.C.ENTER_VERIFICATION_CODE?(0,l.jsxs)("div",{className:G()("lv_sign_in_panel_wide-enter-code-wrapper"),children:[(0,l.jsx)(xe,{style:{top:40,zIndex:99},onClick:()=>{N({type:"BACK_TO_BIRTHDAY"})}}),(0,l.jsx)(Xe,{isInvitePage:U,onBackToLoginIn:()=>{i?i():N("TO_SIGN_IN")},isFromModal:e,isMobile:d})]}):null]})})}),s&&(D===m.C.FILL_IN_BASE_INFO||D===m.C.ENTER_VERIFICATION_CODE)&&(0,l.jsx)(g.lBq,{className:"lv_sign_in_panel_wide-close",onClick:()=>{N({type:"REPORT_SIGN_IN_ACTION",action:"close"}),null==s||s()},fill:"currentColor"})]})},it=({visible:e,signType:t,closable:r,maskClosable:a=!1,closableABTest:n,params:i={},setVisible:o,onLoginSuccess:s,title:d,resourceList:p,..._})=>{const[g,h]=(0,u.useState)(void 0),f=(0,u.useMemo)((()=>"boolean"==typeof r?!r:g),[r,g]);function w(){null==o||o(!1)}return(0,u.useEffect)((()=>{n&&(0,m.Z)().getABTestConfigSilent("login_modal_closable",!0).then((e=>{h(!e)})),h(!r)}),[n,r]),(0,u.useEffect)((()=>{n&&e&&void 0!==g&&(0,m.Z)().getABTestConfig("login_modal_closable",!0)}),[e,n,g]),(0,l.jsx)(c.A,{visible:e,modalRender:function(){return(0,l.jsx)(nt,{signType:t,onLoginSuccess:s,onClose:f?void 0:w,params:{...i,pageType:"popup"},center:!0,isFromModal:!0,title:d,resourceList:p})},onCancel:f?void 0:w,unmountOnExit:!0,maskStyle:{zIndex:1102},wrapStyle:{zIndex:1102},maskClosable:a,..._})},ot=({onThemeChange:e})=>{const[,t]=I(),r=[{label:h.Ay.t("web_Bright_color_mode",{},"Light mode"),value:y.Light},{label:h.Ay.t("web_dark_mode",{},"Dark mode"),value:y.Dark}];return(0,l.jsx)(o.A.SubMenu,{className:"lv-user__theme-selector",triggerProps:{className:"lv-user__theme-selector__dropdown"},title:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"lv-user__theme-selector__item",children:[(0,l.jsx)(g.z5c,{className:"user-menu-icon"}),h.Ay.t("web_Pattern",{},"Theme")]}),(0,l.jsx)("div",{className:"lv-user__theme-selector__item",children:(0,l.jsx)(g._PA,{size:20})})]}),children:r.map((r=>(0,l.jsx)(o.A.Item,{onClick:()=>function(r){null==e||e(r),t(r)}(r.value),selectable:!0,children:r.label},r.value)))},"theme")},st=({onLanguageChange:e,params:t,supportLocales:r,enableLocaleRoute:a=!0})=>{const n=k(),i=n.getSupportLocales().filter((e=>!Array.isArray(r)||r.find((t=>t===e.locale))));return(0,l.jsx)(o.A.SubMenu,{className:"lv-user__locale-selector",triggerProps:{className:"lv-user__locale-selector__dropdown"},title:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"lv-user__locale-selector__item",children:[(0,l.jsx)(g.SRW,{className:"user-menu-icon"}),h.Ay.t("web_language",{},"Language")]}),(0,l.jsx)("div",{className:"lv-user__locale-selector__item",children:(0,l.jsx)(g._PA,{size:20})})]}),children:i.map((r=>(0,l.jsx)(o.A.Item,{onClick:()=>((r,i)=>{(new K).report({click:i,current_page:(null==t?void 0:t.currentPage)??""}),(new X).report({current_page:null==t?void 0:t.currentPage,language_before:n.getCurrentLocale(),language_after:r,position:"personal_profile"}),null==e||e(),n.setCurrentLocale(r);const o=`${location.pathname}${location.search}`;let s=n.formatLocalePath({path:o,locale:r});a||(s=m.D.getOriginalUrl(o)),o===s?window.location.reload():window.location.href=s})(r.locale,r.text),selectable:!0,children:r.text},r.locale)))},"locale")},ct=e=>{const{legalData:t,region:r}=e,a=(0,l.jsx)(o.A.Item,{className:"lv-user__policy-selector__menu-item",children:(0,l.jsx)("span",{style:{display:"inline-block",width:"100%",height:"100%"},children:(0,l.jsxs)("a",{href:t.href,target:t.href_target,className:"lv-user__policy-selector__item-anchor",children:[(0,l.jsx)("span",{className:"text-wrapper",children:(0,l.jsx)(s.A.Text,{className:"text",ellipsis:{cssEllipsis:!0,showTooltip:!0},children:t.title})}),t.icon&&(0,l.jsx)("span",{className:"icon",style:{backgroundImage:`url(${t.icon})`}})]})})},t._id);return!t.country.length||!t.filter_type||"include"===t.filter_type&&t.country.includes(r)?a:null},lt=()=>{const e=A(),t=(0,_.d)(e,(e=>{var t;return null==(t=e.context.userInfo)?void 0:t.region})),r=k().getCurrentLocale(),{data:a}=(0,R.Ay)((()=>Ie.getPolicy()),{auto:!0}),n=(0,u.useMemo)((()=>null==a?void 0:a[r]),[a,r]);return n?(0,l.jsx)(o.A.SubMenu,{className:"lv-user__policy-selector",triggerProps:{className:"lv-user__policy-selector__dropdown"},title:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"lv-user__policy-selector__item",children:[(0,l.jsx)(we,{className:"user-menu-icon"}),h.Ay.t("web_policy",{},"Policy")]}),(0,l.jsx)("div",{className:"lv-user__policy-selector__item",children:(0,l.jsx)(g._PA,{size:20})})]}),children:n.legals.map((e=>(0,l.jsx)(ct,{legalData:e,region:t})))},"policy"):null},ut="js-ssr-user-avatar",dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcHSURBVHgB5ZtPUBN3FMffbxMUsEgiqLXWMXQSiZ3OlN56M/bEn7YwvfWGPbUn9NqL4qntpdhbT+qtR2g7A53pDOHmqcJMO2LJjLEWZRRIEAoByW7fd0NoQrNkk32/GMbPDO4m/naz7/3ee7/fe7/fKtJMd/dAiCgbU0p1EamzSlHIsiiAY2E7/i7J36VzR2vGssxpy/JPT0yMJkkjijTAQrPA5gDfvn+voFWQ5L+4aWZvT0z8HCdhxBQQiw0EmpvNIe7py+hh0gOs41o2a0xJWYZnBdRI8CJyrmKNmKZx26sifOSBnp6BocOHrVF+pG7+2Ei1g39LsZvRwLlznem5ufszVCVVWQACG5viTX6AGNUHSdNUF6uxhootAL3u81k/8GmU6geMKoPh8LnNROLPO5VcWJEC+vo+/pYP16i25u6WRo5D3ZFIJ7FLTLm9yLUCenv7b7LHfE51j4pFItEQK2HMVWs3jVj4u3zoogMEj0jx8fGxi+XaGeUa5Hr+YAkPEKB3nn1f9nWB3t6Bq3y4TAeXrnC4M5BI3P/FqYGjCyDa81A3QoJsb7+g1dU1ymQ2+Hzb/gwMw6BDhw5Tc3MzHTlyhPz+BpKE84or4+M/lZSlpAIwzvNQd1dqZgdhnz17agvuhtdea6FgMCipiDTPE94rNU8oGQMMw5qUEn5lZYXm5x+5Fh6sra3So0d/USqVIiECmLiV+o//xYDe3o8G2TAGSQAIkEotsQlaVA05pSlqamoiryAr5YnSyt6JUpELwPTR+3waIo9A+HR6mSQIBI7ZLiFAen1ddcTjo+n8F0Uu4POZQyQgPHxeSniAe1XiQvuAzLVoVNtVQK5yI2P6T548Jmnk4oEaQgqf/7SrAMPIxiQC38bGxu7wJgksQIcVFLiAcZUEQATXxeqq1L3VUP7MVgBqeCTg+yCTyZAu1tf/ISEC3d0fxnBiK4ALmIMkgGmaWsxfx/2VMgZw3FGAukACbG5ukm6gBAlY5n77uDP2PyABEAAXFuRHgEJOnXqDGhu9T4wAT487DKW2xVLdhgbZJKYUSJzk7pWNsQIMMQVIPpwTyBqlsCzVxU+s3iUhoAAp8yxFY6NsKZLnPSF0WYgEkX7IQlpajpIkHAjPQgGiqzmtrQEtruD3+8WVyxliQNwCIPzRo60kTUtLi3iliAlpiVrB4DHRYIXeR0qsA21h++TJ10V6DMJj7NeFNgXkH9yLEiTuUQ4oIEmagACnT79ZVUxobW3la89oFZ5J+vmfNGkEQbGtrd0eHVKpZTtbdEpo0BYVYQivWXAbngekoYAk1WDlB9Zw/PgJ+3xra3PPuoCPg+Yh0cDpBi7WPmQFWA81bRVyBILWWthSsMFNcwywpukVJZv13TVM0xenVxRsx7Ntn1dRUQ8IkQZQI4DPI/htbW1xDp51LGogCCL4IV4gJiCxklgUKQX2I/LyeYd/5+NYYaHQKxAQS2LPn6crquCgLZSFv1z9L7WTAzRJrxUiD4jj6M/9sDHKVSHPCoAAqN9DcCkwWqDSjD/JRVNsvMRxN/z39fWnvKwLoMexgiNVs3MinxcgOaoWlvMBm/9bODf++1LdoCpZWlqi5eVF7cIDWMTi4lP7N6uFZR3On+8qgGPOCHZgUgVAYCyDSZq8W/Cb8/N/V6N0POzuLrLd5fHZ2dlMJHIeITdGLnn8eJ5L4foWQsqRzWbtUnxl7mB9zeY/mv9UlA1WYgUwQUTrlw3WC926A3yfA/6twu+KNkjACsLh85ushO79boSIjI0P9QKsEPlEuZIZ+/6ViYnRok2UJZOAnp7+Sad9wAhC8HudS2DVgEnUmTNnHeuRhZG/6LrSjdUlJ1dASltvwoP8HMQBHuLVB6X+o6QCsJuKl42G936fn5TUK04zTxb+utNOcseNkonE7J1IpDPIXvJ+/rulpUV7Pl/PcK1/T/5gDbPpf+XUft+donNz9yfC4c6O3AtPxJOdpZpMdryADgoEchuquOBxa3z8xyv7tS9bFOUbDPJhWtfWF2nQQRgaOehN8rNfKtfe1XZ5toTvg8G2DlbAgdg0zV5wa2rq10/ctHX9vsDCwvxoe/sJVUevyZQCOzJvzMz89oXbCyp6Y4STkHhb2/EVw7ADY129NcIdw2Og9eW9e38MV3QdVUE0Gg0p5Zvky0P08sFO3DgP0p/xTDZJFeKpHByNvj3IPnH1ZSkCvc7SX+der3pbv6f3BhcXn023t7eNKWUgNuAtspq4RU5w+mZjY+3TRGIuTh4QWxCAW/CoGtNoERam5zzKfZfJrI0kk0mRIoSWFZFo9B1WhDXIpxc8KGNnj71KcuY/ZlnG2Ozs73ESRvuSUC5gNnSxr3ZxD2I/Uoh/lmuPVqi4peLSvIVeTfJ05qFl+WaIXsSrCWyV8C+Ugf9/ttPT2QAAAABJRU5ErkJggg==",pt="sign-up-btn",_t=({onClick:e,avatar:t})=>((0,P.A)((()=>{const e=document.getElementById(ut);null==e||e.remove()})),(0,l.jsx)(n.A,{className:"user-avatar",size:32,onClick:e,children:(0,l.jsx)("img",{alt:"avatar",src:t??dt,crossOrigin:"anonymous"})})),gt=()=>{let e=location.href;const t={};try{const r=new URL(e),a=new URLSearchParams(r.search);for(const[e,n]of a)t[e]=n;e=r.href.replace(r.search,"")}catch{}const r=encodeURIComponent(e),a=(0,m.ak)(m.R.LOGIN.PATH,{...t,current_page:"share_page",redirect_url:r});(0,m.H)(a)};function ht({mode:e="button",showMenu:t=!0,shouldRedirect:r=!1,params:d,enableReporter:_=!1,cookieConsent:f,logOutRedirectUrl:w,language:v,enableLocaleRoute:E=!0,onhandleClick:C,enableThemeSelector:S=!0,signModalClosable:T,signModalClosableABTest:R,showProfile:P=!0,afterModalClose:L,expandModalInstance:N,eventParams:O,resourceList:x,title:H}){var D;const U=A(),[F,M]=(0,p.B)(U),j=F.context.thirdPartSignInRef,[,W]=(0,p.B)(j),{userInfo:G,isBOE:B}=F.context,V=F.matches("noSign"),Y=F.matches("hasSign"),z=(0,ae.W6)(),X=F.matches({noSign:"googleDriveConfirmSigning"}),q=F.matches({noSign:"thirdPartyConfirmSigning"}),[$,J]=(0,u.useState)(F.matches({noSign:"signing"})),Q=F.matches({hasSign:"preExec"});(0,u.useEffect)((()=>{const e=F.matches({noSign:"signing"})||F.matches({noSign:"checking"});J((t=>{const r=F.matches({noSign:"checking"})||F.matches({noSign:"checkingThirdOpenId"});return!(!t&&r||X||q)&&(!(!t||e||!Q)||e)}))}),[F.value]);const Z=()=>{(new Re).report({target:"login_profile",position:Te.HEADER}),r?gt():M({type:"SIGN_IN"}),null==C||C()},ee=(0,u.useCallback)((()=>{(new K).report({click:"account_setting",current_page:(null==d?void 0:d.currentPage)??""}),(0,m.H)(m.R.SETTINGS.PATH,{from_page:(null==d?void 0:d.currentPage)??""})}),[d]);(function(e,t=!0){(0,u.useEffect)((()=>{null==e||e.onChange((({firstPartyAnalytics:e})=>{e&&t&&((0,m.Z)().start(),(0,m.Z)().clearInitQueue())}))}),[e,t])})(f,_),(0,u.useEffect)((()=>{d&&M({type:"UPDATE_REPORT_PARAMS",params:d})}),[d]);const[te]=I(),ne=[te,k().getCurrentLocale()];return(0,u.useEffect)((()=>{var e,t;if(X){(new ke).authorizeWindowReport({current_page:null!=(e=location.pathname)&&e.includes(m.R.EDITOR_GRAPHIC.PATH)?ye.PictureEdit:ye.Editor,source:"authorize_fail",action:"show",window_type:"authorize_fail"});const t=h.Ay.t("web_marketplace_text_can_not_access_google",{},"You need to sign in to sync media from Google Drive."),r=h.Ay.t("web_marketplace_text_log_in"),n=h.Ay.t("web_marketplace_text_cancelled"),i=c.A.confirm({content:t,title:h.Ay.t("web_maketplace_title_no_log_in",{},"You are not signed in"),footer:(0,l.jsxs)("div",{className:"lv-modal-footer lv-user",children:[(0,l.jsx)(a.A,{type:"outline",onClick:()=>{M({type:"CONFIRM_THIRD_LOGIN",cancel:!0}),null==i||i.close()},children:n}),(0,l.jsx)(a.A,{type:"primary",onClick:()=>{(()=>{var e;(new ke).authorizeWindowReport({current_page:null!=(e=location.pathname)&&e.includes(m.R.EDITOR_GRAPHIC.PATH)?ye.PictureEdit:ye.Editor,source:"authorize_fail",action:"continue",window_type:"google_drive"}),M({type:"CONFIRM_THIRD_LOGIN"}),W({type:"AUTH",platform:B?m.W.Google:m.X.Google,name:"google",source:m.Y.LoginIn,callback:e=>{(null!=e&&e.errorCode||null!=e&&e.errorMsg)&&console.warn("error",e)}})})(),null==i||i.close()},children:r})]}),onCancel:()=>{M({type:"CONFIRM_THIRD_LOGIN",cancel:!0})},focusLock:!1,maskClosable:!1})}else if(q){const e=new ke,r=null!=(t=location.pathname)&&t.includes(m.R.EDITOR_GRAPHIC.PATH)?ye.PictureEdit:ye.Editor;e.notLoginPopupReport({current_page:r,action:"show"});const n=h.Ay.t("web_shopify_text_can_not_access_sign_in",{},"You need to sign in to upload files from shopify."),i=h.Ay.t("web_shopify_text_log_in",{},"Sign in"),o=h.Ay.t("web_shopify_text_calcelling",{},"Cancel"),s=c.A.confirm({content:n,title:h.Ay.t("web_shopify_title_no_log_in",{},"You are not signed in"),footer:(0,l.jsxs)("div",{className:"lv-modal-footer lv-user",children:[(0,l.jsx)(a.A,{type:"outline",onClick:()=>{M({type:"CANCEL_THIRD_LOGIN"}),e.notLoginPopupReport({current_page:r,action:"cancel"}),null==s||s.close()},children:o}),(0,l.jsx)(a.A,{type:"primary",onClick:()=>{M({type:"SIGN_IN"}),e.notLoginPopupReport({current_page:r,action:"login"}),null==s||s.close()},children:i})]}),onCancel:()=>{M({type:"CANCEL_THIRD_LOGIN"})},focusLock:!1,maskClosable:!1})}}),[X,q]),(0,l.jsxs)(l.Fragment,{children:[V&&(0,l.jsxs)(l.Fragment,{children:["button"===e&&(0,l.jsx)(a.A,{type:"primary",className:pt,onClick:Z,children:h.Ay.t("log_in")}),"avatar"===e&&(0,l.jsx)(n.A,{className:"user-avatar",size:32,onClick:Z,children:(0,l.jsx)("img",{src:dt,alt:h.Ay.t("log_in"),crossOrigin:"anonymous"})})]}),Y&&(t?(0,l.jsx)(i.A,{position:"br",trigger:"click",triggerProps:{autoFitPosition:!1},focusLock:!0,droplist:(0,l.jsxs)(o.A,{className:"user-menu",style:{top:"-15px"},selectable:!1,selectedKeys:ne,children:[null!=G&&G.name?(0,l.jsxs)("div",{className:"user-info",children:[(0,l.jsxs)("div",{className:"info",children:[(0,l.jsx)("img",{className:"user-info-avatar",src:null==G?void 0:G.avatar,alt:"avatar",width:28,height:28,crossOrigin:"anonymous"}),(0,l.jsxs)("span",{className:"user-info-detail",children:[(0,l.jsx)(s.A.Text,{className:"detail-item nickname",ellipsis:{cssEllipsis:!0,showTooltip:!0,rows:1},children:null==G?void 0:G.name}),(null==G?void 0:G.email)&&(0,l.jsx)(s.A.Text,{className:"detail-item email",ellipsis:{cssEllipsis:!0,showTooltip:!0,rows:1},children:null==G?void 0:G.email})]})]}),N&&(0,l.jsx)(re.L,{eventParams:{pageFrom:"profile_icon_upgrade",currentPage:null==d?void 0:d.currentPage,...O},expandModalInstance:N})]}):null,(0,l.jsxs)(o.A.ItemGroup,{children:[P&&(0,l.jsx)(o.A.Item,{onClick:()=>{var e;const t=(0,m.ak)(m.R.WORKSPACE.CHILD.PROFILE.PATH,{enter_from:"click_view_personal_page",from_page:(null==d?void 0:d.currentPage)??"personal_page"});null!=z&&z.push?null==(e=null==z?void 0:z.push)||e.call(z,t):(0,m.H)(m.R.WORKSPACE.CHILD.PROFILE.PATH,{enter_from:"click_view_personal_page",from_page:(null==d?void 0:d.currentPage)??"personal_page"})},children:(0,l.jsxs)("div",{className:"user-menu-item",children:[(0,l.jsx)(g.yL0,{className:"user-menu-icon"}),h.Ay.t("web_personal_page_text_view_home_page",{},"View profile")]})},"homepage"),S&&(0,l.jsx)(ot,{onThemeChange:e=>{(new K).report({click:e===y.Dark?"dark_mode":"light_mode",current_page:(null==d?void 0:d.currentPage)??""})}}),(0,l.jsx)(st,{enableLocaleRoute:E,onLanguageChange:()=>null==C?void 0:C(),params:d,...v}),(0,l.jsx)(o.A.Item,{onClick:ee,style:{margin:"8px 0"},children:(0,l.jsxs)("div",{className:"user-menu-item",children:[(0,l.jsx)(g.z21,{className:"user-menu-icon"}),h.Ay.t("web_deactivate_button_settings",{},"Settings")]})},"settings"),(0,l.jsx)(lt,{}),(0,l.jsx)(o.A.Item,{onClick:()=>{var e,t,r;(new K).report({click:"log_out",current_page:(null==d?void 0:d.currentPage)??""}),b.clear(),M({type:"SIGN_OUT",redirectUrl:w}),null==(r=null==(t=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:t.id)||r.disableAutoSelect(),null==C||C()},children:(0,l.jsxs)("div",{className:"user-menu-item",children:[(0,l.jsx)(Ee,{className:"user-menu-icon"}),h.Ay.t("log_out")]})},"logout")]})]}),children:(0,l.jsx)(_t,{avatar:(null==(D=F.context.userInfo)?void 0:D.avatar)??"",onClick:()=>{t&&(new K).report({click:"portrait",current_page:(null==d?void 0:d.currentPage)??""})}})}):(0,l.jsx)(_t,{avatar:""})),(0,l.jsx)(it,{signType:Ne.logIn,visible:$,setVisible:e=>{e||M("EXIT_SIGN_IN")},closable:T,closableABTest:R,afterClose:L,resourceList:x,title:H})]})}const mt=e=>{const{service:t,options:r,fallback:a}=e,[n,i]=function(e=!0){const[t,r]=(0,u.useState)(y.Light);return(0,u.useEffect)((()=>e?b.init(r):()=>{}),[]),[t,function(t){e&&(b.apply(t,!0),r(t))}]}(),[o,s]=(0,p.B)(t),c=["unknown","fetchingLocation"].some(o.matches),d=(null==r?void 0:r.shouldFetchLocation)&&c;(0,u.useEffect)((()=>{s({type:"CHANGE_CONTEXT",context:{...r,showRestoreModal:pe}})}),[r]),(0,u.useEffect)((()=>{var e;null==(e=null==r?void 0:r.onContextChange)||e.call(r,o.context)}),[r,o.context]);const _=(0,u.useMemo)((()=>new m.D({countryCode:void 0,getBrowserLang:()=>{if((0,m.E)())return window.navigator.language},cookieGetter:w.A.get.bind(w.A),cookieSetter:w.A.set.bind(w.A)})),[]);return d?a??null:(0,l.jsx)(C.Provider,{value:{userService:t,theme:n,setTheme:i,locale:_},children:e.children})}},65871:function(e,t,r){r.d(t,{$:function(){return de},A:function(){return br},B:function(){return ue},C:function(){return Nr},D:function(){return Me},E:function(){return He},H:function(){return Ve},I:function(){return xr},P:function(){return Y},Q:function(){return _t},R:function(){return V},U:function(){return da},W:function(){return se},X:function(){return oe},Y:function(){return yr},Z:function(){return wr},a:function(){return Ar},a0:function(){return $},a1:function(){return Pr},a9:function(){return xe},ak:function(){return We},h:function(){return Or},i:function(){return Hr},p:function(){return Dr},u:function(){return la},z:function(){return ze}});var a=r(97724),n=r(91776),i=r(66696),o=r(58519),s=r(67343),c=r(73044),l=r(14148),u=r(2799),d=r.n(u),p=r(19240),_=r(63487),g=r.n(_),h=r(85371),m=r(27594),f=r.n(m),w=r(93641),v=r(23974),E=r(2633),y=r(90018),C=r(38360),A=r(38e3),b=(r(47583),r(84698)),I=r(76398),k=r(35754),S=r(67308),T=r(83002),R=r(72579),P=r.n(R),L=r(91689),N=(r(78436),r(56741)),O=r(42579),x=r.n(O),H=r(39190),D=(r(85333),r(87176)),U=r(42989),F=r(36755),M=r(37814),j=r(41967),W=r(60162),G=Object.defineProperty,B=(e,t,r)=>(((e,t,r)=>{t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const V={HOME:{PATH:"/",LOCALE_PATH:"/:locale/",MATCHER:"/:locale*/",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CREATIVE_SUITE:{PATH:"/creative-suite",LOCALE_PATH:"/:locale/creative-suite",MATCHER:"/:locale*/creative-suite",HAS_LOCALE_PREFIX:!0,INDEXING:!0},APPEAL_PAGE:{PATH:"/appeal-age-restriction",LOCALE_PATH:"/:locale/appeal-age-restriction",MATCHER:"/:locale*/appeal-age-restriction",HAS_LOCALE_PREFIX:!0},WORKSPACE:{CHILD:{MY_DRAFT:{NAME:"my_draft",PATH:"/my-edit",LOCALE_PATH:"/my-edit",MATCHER:"/my-edit",HAS_LOCALE_PREFIX:!1},TEMPLATE:{NAME:"templates",PATH:"/templates",LOCALE_PATH:"/templates",MATCHER:"/templates",HAS_LOCALE_PREFIX:!1},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/templates/:id",MATCHER:"/templates/:id",HAS_LOCALE_PREFIX:!1},MAGIC_TOOLS:{NAME:"magic_tools",PATH:"/magic-tools",LOCALE_PATH:"/magic-tools",MATCHER:"/magic-tools",HAS_LOCALE_PREFIX:!1},RECENT_LISTS:{NAME:"recent",PATH:"/recent-list",LOCALE_PATH:"/recent-list",MATCHER:"/recent-list",HAS_LOCALE_PREFIX:!1},MY_FILM:{NAME:"my_file",PATH:"/my-film",LOCALE_PATH:"/my-film",MATCHER:"/my-film",HAS_LOCALE_PREFIX:!1},MY_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud",LOCALE_PATH:"/my-cloud",MATCHER:"/my-cloud",HAS_LOCALE_PREFIX:!1},WORKSPACE_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud/:id",LOCALE_PATH:"/my-cloud/:id",MATCHER:"/my-cloud/:id",HAS_LOCALE_PREFIX:!1},MY_SHARE:{NAME:"share_records",PATH:"/my-share",LOCALE_PATH:"/my-share",MATCHER:"/my-share",HAS_LOCALE_PREFIX:!1},PUBLISH_CALENDAR:{NAME:"publish_calendar",PATH:"/publish-calendar",LOCALE_PATH:"/publish-calendar",MATCHER:"/publish-calendar",HAS_LOCALE_PREFIX:!1},PROFILE:{NAME:"profile",PATH:"/profile",LOCALE_PATH:"/profile",MATCHER:"/profile",HAS_LOCALE_PREFIX:!1},SEARCH:{NAME:"search",PATH:"/search",LOCALE_PATH:"/search",MATCHER:"/search",HAS_LOCALE_PREFIX:!1},SEARCH_RESULTS:{NAME:"search-results",PATH:"/search-results",LOCALE_PATH:"/search-results",MATCHER:"/search-results",HAS_LOCALE_PREFIX:!1},THIRDPARTY_START:{NAME:"thirdparty_start",PATH:"/thirdparty-start",LOCALE_PATH:"/thirdparty-start",MATCHER:"/thirdparty-start",HAS_LOCALE_PREFIX:!1},APPROVAL_RESULT:{PATH:"/approval-result",LOCALE_PATH:"/approval-result",MATCHER:"/approval-result",HAS_LOCALE_PREFIX:!0}}},LOGIN:{PATH:"/login",LOCALE_PATH:"/:locale/login",MATCHER:"/:locale*/login",HAS_LOCALE_PREFIX:!0,INDEXING:!0},SIGN_UP:{PATH:"/signup",LOCALE_PATH:"/:locale/signup",MATCHER:"/:locale*/signup",HAS_LOCALE_PREFIX:!0,INDEXING:!0},DOWNLOAD_GUIDANCE:{PATH:"/download-guidance",LOCALE_PATH:"/download-guidance",MATCHER:"/download-guidance",HAS_LOCALE_PREFIX:!1},INVITE:{PATH:"/invite",LOCALE_PATH:"/:locale/invite",MATCHER:"/:locale*/invite",HAS_LOCALE_PREFIX:!0},FORGET_PWD:{PATH:"/forget-password",LOCALE_PATH:"/:locale/forget-password",MATCHER:"/:locale*/forget-password",HAS_LOCALE_PREFIX:!0},TEAM_INVITE:{PATH:"/team-invite/:id",LOCALE_PATH:"/:locale/team-invite/:id",MATCHER:"/:locale*/team-invite/:id",HAS_LOCALE_PREFIX:!0},TEAM_APPLY:{PATH:"/team-apply",LOCALE_PATH:"/:locale/team-apply",MATCHER:"/:locale*/team-apply",HAS_LOCALE_PREFIX:!0},LOGIN_STATUS:{PATH:"/loginStatus",LOCALE_PATH:"/loginStatus",MATCHER:"/loginStatus",HAS_LOCALE_PREFIX:!1},LOGIN_STATUS_SERVER:{PATH:"/lv/v1/user/web/login/third_callback"},COOPERATION:{DETAIL:{PID:"/view/:id",PATH:"/view/:id",LOCALE_PATH:"/view/:id",MATCHER:"/:locale*/view/:id",HAS_LOCALE_PREFIX:!1},EXPERIENCE:{PATH:"/view",LOCALE_PATH:"/view",MATCHER:"/view",HAS_LOCALE_PREFIX:!1},SHARE:{PID:"/share/:id",PATH:"/share/:id",LOCALE_PATH:"/share/:id",MATCHER:"/share/:id",HAS_LOCALE_PREFIX:!1},EMBED:{PID:"/embed/:id",PATH:"/embed/:id",LOCALE_PATH:"/embed/:id",MATCHER:"/embed/:id",HAS_LOCALE_PREFIX:!1},RENDER:{PID:"/render/:id",PATH:"/render/:id",LOCALE_PATH:"/render/:id",MATCHER:"/render/:id",HAS_LOCALE_PREFIX:!1},REPORT:{PID:"/report",PATH:"/report",LOCALE_PATH:"/report",MATCHER:"/report",HAS_LOCALE_PREFIX:!1}},TOKEN_AUTH:{PATH:"/tokenAuth",LOCALE_PATH:"/tokenAuth",MATCHER:"/tokenAuth",HAS_LOCALE_PREFIX:!1},EDITOR:{PATH:"/editor",LOCALE_PATH:"/editor",MATCHER:"/editor",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TIKTOK_AUTH:{PATH:"/tiktokAuth",LOCALE_PATH:"/tiktokAuth",MATCHER:"/tiktokAuth",HAS_LOCALE_PREFIX:!1},THIRD_PARTY_ENTRANCE:{PATH:"/third-party-entrance",LOCALE_PATH:"/third-party-entrance",MATCHER:"/third-party-entrance",HAS_LOCALE_PREFIX:!1},PASSPORT_LOGIN:{PATH:"/passport/web/web_login"},COOKIE_SETTINGS:{PATH:"/cookie-settings",LOCALE_PATH:"/:locale/cookie-settings",MATCHER:"/:locale*/cookie-settings",HAS_LOCALE_PREFIX:!0,INDEXING:!0},THIRDPARTY_CLOUD_STORAGE_AUTH:{PATH:"/thirdpartyCloudStorageAuth",LOCALE_PATH:"/thirdpartyCloudStorageAuth",MATCHER:"/thirdpartyCloudStorageAuth",HAS_LOCALE_PREFIX:!1},CAPCUT_APP:{PATH:"/tools/video-editing-app",LOCALE_PATH:"/:locale/tools/video-editing-app",MATCHER:"/:locale*/tools/video-editing-app",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CMS_TOOLS:{PATH:"/tools/:title",LOCALE_PATH:"/:locale/tools/:title",MATCHER:"/:locale*/tools/:title",HAS_LOCALE_PREFIX:!0},CMS_CREATE:{PATH:"/create/:title",LOCALE_PATH:"/:locale/create/:title",MATCHER:"/:locale*/create/:title",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE:{PATH:"/resource/:title",LOCALE_PATH:"/:locale/resource/:title",MATCHER:"/:locale*/resource/:title",HAS_LOCALE_PREFIX:!0},CMS_TOOLS_AGGREGATION:{PATH:"/tools",LOCALE_PATH:"/:locale/tools",MATCHER:"/:locale*/tools",HAS_LOCALE_PREFIX:!0},CMS_CREATE_AGGREGATION:{PATH:"/create",LOCALE_PATH:"/:locale/create",MATCHER:"/:locale*/create",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE_AGGREGATION:{PATH:"/resource",LOCALE_PATH:"/:locale/resource",MATCHER:"/:locale*/resource",HAS_LOCALE_PREFIX:!0},COLLECT_RESOURCE:{NAME:"collect-resource",PATH:"/collect-resource/:token",LOCALE_PATH:"/collect-resource/:token",MATCHER:"/collect-resource/:token",HAS_LOCALE_PREFIX:!1},EDITOR_TOOLS:{NAME:"editor-tools",PATH:"/editor-tools",LOCALE_PATH:"/editor-tools/:name",MATCHER:"/editor-tools/:name",HAS_LOCALE_PREFIX:!1,TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_AVATAR:{PATH:"/magic-tools/generate-portrait",LOCALE_PATH:"/magic-tools/generate-portrait",MATCHER:"/magic-tools/generate-portrait",HAS_LOCALE_PREFIX:!1},IMAGE_NIGHT_ENHANCE:{PATH:"/magic-tools/enhance-low-light-image",LOCALE_PATH:"/magic-tools/enhance-low-light-image",MATCHER:"/magic-tools/enhance-low-light-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-photo",LOCALE_PATH:"/magic-tools/stylize-photo",MATCHER:"/magic-tools/stylize-photo",HAS_LOCALE_PREFIX:!1},IMAGE_UPSCALER:{PATH:"/magic-tools/upscale-image",LOCALE_PATH:"/magic-tools/upscale-image",MATCHER:"/magic-tools/upscale-image",HAS_LOCALE_PREFIX:!1},IMAGE_AI_TONING:{PATH:"/magic-tools/correct-color",LOCALE_PATH:"/magic-tools/correct-color",MATCHER:"/magic-tools/correct-color",HAS_LOCALE_PREFIX:!1},IMAGE_COLORING:{PATH:"/magic-tools/ai-colorize",LOCALE_PATH:"/magic-tools/ai-colorize",MATCHER:"/magic-tools/ai-colorize",HAS_LOCALE_PREFIX:!1},IMAGE_RESTORATION:{PATH:"/magic-tools/ai-restore",LOCALE_PATH:"/magic-tools/ai-restore",MATCHER:"/magic-tools/ai-restore",HAS_LOCALE_PREFIX:!1},VIDEO_VIDEO_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-video",LOCALE_PATH:"/magic-tools/stylize-video",MATCHER:"/magic-tools/stylize-video",HAS_LOCALE_PREFIX:!1},VIDEO_UPSCALER:{PATH:"/magic-tools/upscale-video",LOCALE_PATH:"/magic-tools/upscale-video",MATCHER:"/magic-tools/upscale-video",HAS_LOCALE_PREFIX:!1},VIDEO_SLOW_MOTION:{PATH:"/magic-tools/make-slomo",LOCALE_PATH:"/magic-tools/make-slomo",MATCHER:"/magic-tools/make-slomo",HAS_LOCALE_PREFIX:!1},VIDEO_STABILIZATION:{PATH:"/magic-tools/stablize-video",LOCALE_PATH:"/magic-tools/stablize-video",MATCHER:"/magic-tools/stablize-video",HAS_LOCALE_PREFIX:!1},TRANSFORM:{PATH:"/editor-tools/transform",LOCALE_PATH:"/editor-tools/transform",MATCHER:"/editor-tools/transform",HAS_LOCALE_PREFIX:!1},CUTOUT:{PATH:"/editor-tools/cutout",LOCALE_PATH:"/editor-tools/cutout",MATCHER:"/editor-tools/cutout",HAS_LOCALE_PREFIX:!1},SCRIPT:{PATH:"/editor-tools/script",LOCALE_PATH:"/editor-tools/script",MATCHER:"/editor-tools/script",HAS_LOCALE_PREFIX:!1},AUTO_CUT:{PATH:"/editor-tools/autocut",LOCALE_PATH:"/editor-tools/autocut",MATCHER:"/editor-tools/autocut",HAS_LOCALE_PREFIX:!1},TEXT_TO_VIDEO:{PATH:"/editor-tools/convert-script-to-video",LOCALE_PATH:"/editor-tools/convert-script-to-video",MATCHER:"/editor-tools/convert-script-to-video",HAS_LOCALE_PREFIX:!1},U2V:{PATH:"/editor-tools/url-to-ads",LOCALE_PATH:"/editor-tools/url-to-ads",MATCHER:"/editor-tools/url-to-ads",HAS_LOCALE_PREFIX:!1},LONG_TO_SHORT:{PATH:"/editor-tools/long-video-to-shorts",LOCALE_PATH:"/editor-tools/long-video-to-shorts",MATCHER:"/editor-tools/long-video-to-shorts",HAS_LOCALE_PREFIX:!1},AIGC_VIDEO:{PATH:"/editor-tools/ai-video-generator",LOCALE_PATH:"/editor-tools/ai-video-generator",MATCHER:"/editor-tools/ai-video-generator",HAS_LOCALE_PREFIX:!1}},TOOlS:{ONLINE:{PATH:"/tools/online-video-editor"},DESKTOP:{PATH:"/tools/desktop-video-editor"}},DISCOVER:{PATH:"/discover/keyword/:id",LOCALE_PATH:"/:locale/discover/keyword/:id",MATCHER:"/:locale*/discover/keyword/:id",HAS_LOCALE_PREFIX:!0},DISCOVER_TITLE:{PATH:"/discover/keyword/:title/:id",LOCALE_PATH:"/:locale/discover/keyword/:title/:id",MATCHER:"/:locale*/discover/keyword/:title/:id",HAS_LOCALE_PREFIX:!0},EDITOR_GRAPHIC:{PATH:"/editor-graphic",LOCALE_PATH:"/editor-graphic",MATCHER:"/editor-graphic",HAS_LOCALE_PREFIX:!1,INDEXING:!0},EDITOR_BATCH:{PATH:"/editor-batch",LOCALE_PATH:"/editor-batch",MATCHER:"/editor-batch",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/:locale/templates/:id",MATCHER:"/:locale*/templates/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_KEYWORDS:{PATH:"/template-detail/:key/:id",LOCALE_PATH:"/:locale/template-detail/:key/:id",MATCHER:"/:locale*/template-detail/:key/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_NO_KEYWORDS:{PATH:"/template-detail/:id",LOCALE_PATH:"/:locale/template-detail/:id",MATCHER:"/:locale*/template-detail/:id",HAS_LOCALE_PREFIX:!0},PROFILE:{PATH:"/profile/:id",LOCALE_PATH:"/:locale/profile/:id",MATCHER:"/:locale*/profile/:id",HAS_LOCALE_PREFIX:!0},SETTINGS:{PATH:"/settings",LOCALE_PATH:"/:locale/settings",MATCHER:"/:locale*/settings",HAS_LOCALE_PREFIX:!0},HASHTAG:{PATH:"/discover/hashtag/:title/:id",LOCALE_PATH:"/:locale/discover/hashtag/:title/:id",MATCHER:"/:locale*/discover/hashtag/:title/:id",HAS_LOCALE_PREFIX:!0},CATEGORY:{PATH:"/discover/category/:title/:id",LOCALE_PATH:"/:locale/discover/category/:title/:id",MATCHER:"/:locale*/discover/category/:title/:id",HAS_LOCALE_PREFIX:!0},CREATOR:{PATH:"/discover/creator/:id",LOCALE_PATH:"/:locale/discover/creator/:id",MATCHER:"/:locale*/discover/creator/:id",HAS_LOCALE_PREFIX:!0},UG_ARTICLE:{PATH:"/discover/article/:title/:id",LOCALE_PATH:"/:locale/discover/article/:title/:id",MATCHER:"/:locale*/discover/article/:title/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE:{PATH:"/templates",LOCALE_PATH:"/:locale/templates",MATCHER:"/:locale*/templates",HAS_LOCALE_PREFIX:!0},EDITOR_TEMPLATE:{PATH:"/editor-template",LOCALE_PATH:"/editor-template",MATCHER:"/editor-template",HAS_LOCALE_PREFIX:!1,INDEXING:!0},MAGIC_TOOLS:{TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1}},SCAN_QR_CODE:{PATH:"/scan-qr-code",LOCALE_PATH:"/scan-qr-code",MATCHER:"/scan-qr-code",HAS_LOCALE_PREFIX:!1,INDEXING:!1},FILL_BIRTHDAY:{PATH:"/birthday-information",LOCALE_PATH:"/:locale/birthday-information",MATCHER:"/:locale*/birthday-information",HAS_LOCALE_PREFIX:!0,INDEXING:!1},TUTORIAL:{PATH:"/tutorial",LOCALE_PATH:"/:locale/tutorial",MATCHER:"/:locale*/tutorial",HAS_LOCALE_PREFIX:!0}},Y={APP_NAME:"cc_web",APP_ID:"348188",APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0",USER_AGREEMENT:"",PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/privacy-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/privacy-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/privacy-policy";case"es-LA":return"https://www.capcut.com/es-es/privacy-policy";case"pt-BR":return"https://www.capcut.com/pt-br/privacy-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/privacy-policy";case"de-DE":return"https://www.capcut.com/de-de/privacy-policy";case"it-IT":return"https://www.capcut.com/it-it/privacy-policy";case"th-TH":return"https://www.capcut.com/th-th/privacy-policy";case"id-ID":return"https://www.capcut.com/id-id/privacy-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/privacy-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/privacy-policy";case"ms-MY":return"https://www.capcut.com/ms-my/privacy-policy";default:return"https://www.capcut.com/privacy-policy"}},GOOGLE_PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://marketingplatform.google.com/about/analytics/terms/tr/";case"ko-KR":return"https://marketingplatform.google.com/about/analytics/terms/kr/";case"ja-JP":return"https://marketingplatform.google.com/about/analytics/terms/jp/";case"pt-BR":return"https://marketingplatform.google.com/about/analytics/terms/br/";case"es-LA":return"https://marketingplatform.google.com/about/analytics/terms/es/";case"fr-FR":return"https://marketingplatform.google.com/about/analytics/terms/fr/";case"de-DE":return"https://marketingplatform.google.com/about/analytics/terms/de/";case"it-IT":return"https://marketingplatform.google.com/about/analytics/terms/it/";case"th-TH":return"https://marketingplatform.google.com/about/analytics/terms/th/";case"id-ID":return"https://marketingplatform.google.com/about/analytics/terms/id/";case"vi-VN":return"https://marketingplatform.google.com/about/analytics/terms/vn/";case"fil-PH":case"tl-PH":return"https://marketingplatform.google.com/about/analytics/terms/ph/";default:return"https://marketingplatform.google.com/about/analytics/terms/us/"}},TERMS_OF_CAPCUT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/terms-of-service";case"ja-JP":return"https://www.capcut.com/ja-jp/terms-of-service";case"ko-KR":return"https://www.capcut.com/ko-kr/terms-of-service";case"es-LA":return"https://www.capcut.com/es-es/terms-of-service";case"pt-BR":return"https://www.capcut.com/pt-br/terms-of-service";case"fr-FR":return"https://www.capcut.com/fr-fr/terms-of-service";case"de-DE":return"https://www.capcut.com/de-de/terms-of-service";case"it-IT":return"https://www.capcut.com/it-it/terms-of-service";case"th-TH":return"https://www.capcut.com/th-th/terms-of-service";case"id-ID":return"https://www.capcut.com/id-id/terms-of-service";case"vi-VN":return"https://www.capcut.com/vi-vn/terms-of-service";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/terms-of-service";case"ms-MY":return"https://www.capcut.com/ms-my/terms-of-service";default:return"https://www.capcut.com/terms-of-service"}},COOKIE_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/cookies-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/cookies-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/cookies-policy";case"es-LA":return"https://www.capcut.com/es-es/cookies-policy";case"pt-BR":return"https://www.capcut.com/pt-br/cookies-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/cookies-policy";case"de-DE":return"https://www.capcut.com/de-de/cookies-policy";case"it-IT":return"https://www.capcut.com/it-it/cookies-policy";case"th-TH":return"https://www.capcut.com/th-th/cookies-policy";case"id-ID":return"https://www.capcut.com/id-id/cookies-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/cookies-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/cookies-policy";case"ms-MY":return"https://www.capcut.com/ms-my/cookies-policy";default:return"https://www.capcut.com/cookies-policy"}},MATERIALS_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/material-license-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/material-license-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/material-license-agreement";case"es-LA":return"https://www.capcut.com/es-es/material-license-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/material-license-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/material-license-agreement";case"de-DE":return"https://www.capcut.com/de-de/material-license-agreement";case"it-IT":return"https://www.capcut.com/it-it/material-license-agreement";case"th-TH":return"https://www.capcut.com/th-th/material-license-agreement";case"id-ID":return"https://www.capcut.com/id-id/material-license-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/material-license-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/material-license-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/material-license-agreement";default:return"https://www.capcut.com/material-license-agreement"}},CREATOR_AGREEMENT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/creator-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/creator-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/creator-agreement";case"es-LA":return"https://www.capcut.com/es-es/creator-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/creator-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/creator-agreement";case"de-DE":return"https://www.capcut.com/de-de/creator-agreement";case"it-IT":return"https://www.capcut.com/it-it/creator-agreement";case"th-TH":return"https://www.capcut.com/th-th/creator-agreement";case"id-ID":return"https://www.capcut.com/id-id/creator-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/creator-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/creator-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/creator-agreement";default:return"https://www.capcut.com/creator-agreement"}},COMMUNITY_GUIDELINE:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/community-guideline";case"ja-JP":return"https://www.capcut.com/ja-jp/community-guideline";case"ko-KR":return"https://www.capcut.com/ko-kr/community-guideline";case"es-LA":return"https://www.capcut.com/es-es/community-guideline";case"pt-BR":return"https://www.capcut.com/pt-br/community-guideline";case"fr-FR":return"https://www.capcut.com/fr-fr/community-guideline";case"de-DE":return"https://www.capcut.com/de-de/community-guideline";case"it-IT":return"https://www.capcut.com/it-it/community-guideline";case"th-TH":return"https://www.capcut.com/th-th/community-guideline";case"id-ID":return"https://www.capcut.com/id-id/community-guideline";case"vi-VN":return"https://www.capcut.com/vi-vn/community-guideline";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/community-guideline";case"ms-MY":return"https://www.capcut.com/ms-my/community-guideline";default:return"https://www.capcut.com/community-guideline"}}};var z=(e=>(e[e.TASK_CANNOT_BE_CANCELED=200400]="TASK_CANNOT_BE_CANCELED",e[e.TASK__NOT_EXIST_1=200402]="TASK__NOT_EXIST_1",e[e.TASK__NOT_EXIST_2=1e3]="TASK__NOT_EXIST_2",e))(z||{});var X=(e=>(e[e.ERR_CTEATE_WORKSPACE_OVER_MAX_SIZE=2312]="ERR_CTEATE_WORKSPACE_OVER_MAX_SIZE",e[e.ERR_Hit_Sensitive_Word=2334]="ERR_Hit_Sensitive_Word",e))(X||{}),K=(e=>(e[e.ERR_UPLOAD_LINK_NOT_EXIST=2341]="ERR_UPLOAD_LINK_NOT_EXIST",e))(K||{});var q=(e=>(e.noNormalVideo="fe-200000",e.onlyOneShare="200205",e.fileNotExit="2360",e.fileNotFound="2345",e.fileUnderReviewVisitLimit="2390",e.getFileFailed="2350",e.shareNotExit="2361",e.shareOff="2348",e.notLogin="1015",e.maxVisitors="200212",e.passwordError="2349",e.noVersion="noVersion",e.notCluster="notCluster",e.needIdentifyingCode="2362",e.noAllowJoin="2306",e))(q||{});const $={EVER_CLOUD:{BELOW_VERSION:40008,INSUFFICIENT_SPACE:20113,INVALID_IDC:1037},WEB_CUSTOME_CODE:{ASSET_TRANSCODE_FAIL:-11001},NO_SIGN_UPLOAD:{ACCESS_TIME_LIMIT:"200201",SOURCE_IS_OVERTIME:"200202",VIDEO_TRANSCODE_FAIL:"4010"},COMMENT:{Err_NoCommentPermission:2363,Err_CommentPublishFailed:2364,Err_CommentPublishFailedDuplication:2365,Err_CommentPublishingProhibited:2366,Err_CommentPublishFailedRateLimit:2367,Err_CommentPublishFailedRiskControl:2368,Err_CommentDeletionFailed:2369,Err_DeletionFailedNoPermission:2370,Err_CommentListFetchFailed:2371,Err_ShareToGroupMermberFailed:2372},FILM_CODE:z,COMMERCE:{ALREADY_SUBSCRIBE_USER:"34010104"},SIGN_UP_CODE:{SEND_CODE_ERROR_CODE:{SENDING_FREQUENTLY:1206,EMAIL_ERROR:1044},REGISTER_ERROR_CODE:{CODE_WRONG:1704,CODE_EXPIRED:1703},LOGIN_ERROR_CODE:{PASSWORD_WRONG:1009,USER_NOT_EXITE:1011,USER_ACCOUNT_CANCEL:1075}},USER_CODE:{NO_LOGIN:1015},CREATE_WORKSPACE_CODE:X,PIPO:{REFRESH_USER_SPACE_FAILURE:"34100001"},WORKSPACE_UPLOAD_LINK_CODE:K,GROUP:{INVITATION_LINK_REFRESH_TOO_FAST:1270,USER_NOT_IN_GROUP:1363,CREATE_GROUP_TOO_FAST:1269,EXCEEDED_CREATE_GROUPS_MAX_LIMIT:1287,EXCEEDED_USER_GROUPS_MAX_LIMIT:1299,INVITATION_LINK_EXPIRED:1267,ADD_GROUP_TOO_FAST:1268,EXCEEDED_GROUP_MEMBERS_MAX_LIMIT:1280,REPEAT_ADD_GROUP:1286,INVITATION_LINK_ERROR:1367,SHARE_LINK_EXPIRED:1450,GROUP_APPLY_LIMIT:1463,SAME_GROUP_APPLY_LIMIT:1464,GROUP_APPLY_PENDING:1468,GROUP_APPLY_NOT_ALLOW:1469,GROUP_APPLY_PASSED:1286,APPLY_APPROVE_NO_AUTH:1292,NOT_IN_GROUP:1291,APPROVAL_PROCESSED:1467,GROUP_MEMBER_FULL:1280,APPROVAL_EXPIRED:1470},SHARE:{FILE_NO_ACCESS:"2317",FILE_NOT_FOUND:"2345",FILE_BANNED:"2360",SHARE_INFO_NOT_FOUND:"2361",FILE_UPLOADING:"2386",ERROR_GET_SHARED_INFO:"2377"},AUTHORIZED:{GOOGLE_UNAUTHORIZED:1904},SHARE_ERROR_CODE:q},J={Landing:()=>l.Ay.t("web_tdk_landing_capcut_title",{},"CapCut | All-in-one video editor & graphic design tool driven by AI"),CreativeSuite:()=>l.Ay.t("web_tdk_landing_capcut_suite",{},"CapCut creative suite for video editing, graphic design, and more"),MyCloud:()=>l.Ay.t("web_tdk_my_cloud_title",{},"My Cloud | All-In-One Video Editing Software\uff5cCapCut"),MyFilm:()=>l.Ay.t("web_tdk_my_film_title",{},"My Film | All-In-One Video Editing Software | CapCut"),MyDraft:()=>l.Ay.t("web_tdk_my_draft_title",{},"My Edit | All-In-One Video Editing Software | CapCut"),MagicTools:()=>l.Ay.t("web_magicTools_text_inspire_your_creativity",{},"Inspire your creativity with magic tools"),RecentLists:()=>l.Ay.t("web_toolsIntergration_text_tag_capcut"),Detail:e=>l.Ay.t("web_tdk_detail_title",{placeholder0:e||""},"{placeholder0} | All-In-One Video Editing Software | CapCut"),MyShare:()=>l.Ay.t("web_tdk_my_draft_title",{},"My Edit | All-In-One Video Editing Software | CapCut"),Share:()=>"",LoginStatus:()=>l.Ay.t("web_tdk_login_status_title",{},"Logged In | All-In-One Video Editing Software | CapCut"),Render:()=>l.Ay.t("web_tdk_render_title",{},"CapCut | All-In-One Video Editing Software"),SignUp:()=>l.Ay.t("web_tdk_signup_title",{},"Signup - Capcut"),Login:()=>l.Ay.t("web_tdk_login_title",{},"Login - Capcut"),InviteUser:()=>l.Ay.t("web_tdk_invite_user_title",{},"Join CapCut - CapCut"),ForgetPassword:()=>l.Ay.t("web_tdk_forget_password_title",{},"Reset Password for Capcut"),CookieSettings:()=>l.Ay.t("web_tdk_cookie_settings_title",{},"Cookie Settings"),TeamInvite:()=>l.Ay.t("web_space_apply_tdk_join",{},"Join space"),Templates:()=>l.Ay.t("web_free_online_video_templates",{},"Free Online Video Templates | CapCut"),UploadLink:()=>l.Ay.t("web_externalupload_title",{},"Upload files"),DiscoverKEP:e=>l.Ay.t("web_seo_title_keyword",{placeholder0:e},"CapCut_{placeholder0}"),DiscoverTemplateDetail:(e,t)=>l.Ay.t("web_seo_title_created_by",{placeholder0:t,placeholder1:e},"{placeholder0}\u2019s template {placeholder1} on CapCut"),DiscoverCreator:e=>l.Ay.t("web_seo_text_template_from_CapCut",{creator:e},"{creator}'s template from CapCut"),Profile:e=>{const t=l.Ay.t("web_personal_page_tdk_title_creator",{},"CapCut Creator");return e?`${e} - ${t}`:t},Settings:()=>l.Ay.t("web_deactivate_button_setting_account",{},"Account Setting | All-In-One Video Editing Software | CapCut"),Search:e=>l.Ay.t("web_searching_tdk_title_templates_results",{string0:e},"CapCut {string0} templates search results"),TeamApply:()=>l.Ay.t("web_space_apply_tdk_request",{},"Request access"),ApprovalResult:()=>l.Ay.t("web_space_apply_tdk_result",{},"View result")},Q={Landing:()=>l.Ay.t("web_tdk_landing_description",{},"CapCut is an all-in-one creative platform powered by AI that enables video editing and image design on browsers, Windows, Mac, Android, and iOS."),CreativeSuite:()=>l.Ay.t("web_tdk_landing_desc_suite",{},"Explore CapCut's creative suite online. Enjoy video editing, graphic design, smart AI-powered tools, team collaboration, and more."),MyCloud:()=>l.Ay.t("web_tdk_my_cloud_desc",{},"CapCut new workstation has all features to make video creation, upload and share easier. Save your drafts & materials in cloud & collaborate across devices."),MyFilm:()=>l.Ay.t("web_tdk_my_film_desc",{},"CapCut is an all-in-one online video editing software which makes video creation, upload & share easier. Save your films in cloud drive and get easy access."),MyDraft:()=>l.Ay.t("web_tdk_my_draft_desc",{},"CapCut new workstation comes with all features to create, upload and share videos. Get easy access to edit your films anywhere with all devices, PC & mobile."),MagicTools:()=>l.Ay.t("web_magicTools_text_unleash_your_creativity",{},"Try out CapCut\u2019s magic tools to unleash your creativity and boost productivity. Experience the power of AI to process video, audio, and image files."),RecentLists:()=>"",Detail:e=>l.Ay.t("web_tdk_detail_desc",{placeholder0:e||""},"You can preview/upload/download {placeholder0} in CapCut, and enjoy other video editing features."),MyShare:()=>"",Share:()=>"",LoginStatus:()=>l.Ay.t("web_tdk_login_status_desc",{},"Logged in successfully! Try out CapCut, your all-in-one online video editing software and collaborate easier than ever."),Render:()=>l.Ay.t("web_tdk_render_desc",{},"CapCut is an all-in-one online video editing software which makes creation, upload & share easier, with frame by frame track editor, cloud drive etc."),SignUp:()=>l.Ay.t("web_tdk_signup_desc",{},"Signup Capcut to explore the features of the free online video editor."),Login:()=>l.Ay.t("web_tdk_login_desc",{},"Login Capcut to explore all features of the free online video editor."),InviteUser:()=>l.Ay.t("web_tdk_invite_user_desc",{},"Invite new users to explore all features of  the free online video editor in CapCut"),ForgetPassword:()=>l.Ay.t("web_tdk_forget_password_desc",{},"Forget your passwords? Reset your Capcut password here."),CookieSettings:()=>l.Ay.t("web_tdk_cookie_settings_desc",{},"Review our Cookies Policy for more information and set the cookie."),TeamInvite:()=>l.Ay.t("web_tdk_team_invite_desc",{},"Invite member & Capcut to explore all features of the free online video editor."),Templates:()=>l.Ay.t("web_find_and_use_cc",{},"Find and use CapCut well-designed free templates to customize your own video with ease."),DiscoverKEP:(e,t,r)=>{var a,n,i,o;return l.Ay.t("web_seo_text_kep_description",{template_cnt:e,placeholder0:t,placeholder1:(null==(a=r[0])?void 0:a.name)||"",placeholder2:(null==(n=r[0])?void 0:n.author)||"",placeholder3:(null==(i=r[1])?void 0:i.name)||"",placeholder4:(null==(o=r[1])?void 0:o.author)||""},"{template_cnt, plural, =0 {Check out CapCut\u2019s various templates on {placeholder0}} =1 {Check out CapCut\u2019s various templates on {placeholder0}, including {placeholder1} by {placeholder2}...} other {Check out CapCut\u2019s various templates on {placeholder0}, including {placeholder1} by {placeholder2}, {placeholder3} by {placeholder4}...}}")},DiscoverTemplateDetail:(e,t,r,a)=>{var n,i,o,s;return l.Ay.t("web_seo_text_created_by",{template_cnt:e,placeholder0:r,placeholder1:t,placeholder2:(null==(n=a[0])?void 0:n.name)||"",placeholder3:(null==(i=a[0])?void 0:i.author)||"",placeholder4:(null==(o=a[1])?void 0:o.name)||"",placeholder5:(null==(s=a[1])?void 0:s.author)||""},"{template_cnt, plural, =0 {Check out {placeholder0}\u2019s template {placeholder1} on CapCut} =1 {Check out {placeholder0}\u2019s template {placeholder1} on CapCut. You may also like {placeholder2} by {placeholder3}...} other {Check out {placeholder0}\u2019s template {placeholder1} on CapCut. You may also like {placeholder2} by {placeholder3} and {placeholder4} by {placeholder5}...}}")},DiscoverCreator:({name:e,follower:t,likes:r,templateCount:a,templates:n})=>l.Ay.t("web_seo_template_from_CapCut",{creator:e,fans_count:t,like_count:r,template_count:a,templates:([e])=>n.slice(0,4).join(e)},"{template_count, plural, other {{creator}\u2019s template from CapCut, {fans_count, number, :: K} followers, {like_count, number, :: K} like, and the template names are <templates>, </templates>...}}"),Profile:(e,t)=>t||(e?l.Ay.t("web_personal_page_tdk_desc_creator",{string0:e},"This is the profile page of CapCut creator {string0}. Here you can see all the templates and showcases from them."):void 0),Settings:()=>l.Ay.t("web_deactivate_text_new_workstation",{},"CapCut new workstation comes with all features to create, upload and share videos. Get easy access to edit your films anywhere with all devices, PC & mobile."),Search:e=>l.Ay.t("web_searching_tdk_desc_try_templates",{string0:e},"Try {string0} templates to create your own videos and images with ease!"),TeamApply:()=>"",ApprovalResult:()=>""};V.WORKSPACE.CHILD.MY_DRAFT.MATCHER,V.WORKSPACE.CHILD.MY_FILM.MATCHER,V.WORKSPACE.CHILD.MY_CLOUD.MATCHER,V.WORKSPACE.CHILD.MY_SHARE.MATCHER,V.WORKSPACE.CHILD.RECENT_LISTS.MATCHER,V.WORKSPACE.CHILD.SEARCH.MATCHER,V.WORKSPACE.CHILD.APPROVAL_RESULT.MATCHER,V.COOPERATION.SHARE.MATCHER,V.COOPERATION.DETAIL.MATCHER,V.COOPERATION.RENDER.MATCHER,V.SIGN_UP.MATCHER,V.LOGIN.MATCHER,V.INVITE.MATCHER,V.FORGET_PWD.MATCHER,V.COOKIE_SETTINGS.MATCHER,V.TEAM_INVITE.MATCHER,V.TEAM_APPLY.MATCHER,V.DISCOVER.MATCHER,V.DISCOVER_TITLE.MATCHER,V.TEMPLATE_DETAIL.MATCHER,V.TEMPLATE_DETAIL_KEYWORDS.MATCHER,V.HASHTAG.MATCHER,V.CATEGORY.MATCHER,V.CREATOR.MATCHER;var Z=(e=>(e.Success="1",e.Fail="0",e))(Z||{});const ee="__THIRD_PART_SIGNIN_STATUS_KEY__",te="__THIRD_PART_SIGNIN_DATA__",re="__THIRD_PART_SIGNIN_ERROR_CODE__",ae="__THIRD_PART_SIGNIN_ERROR_MSG__",ne="__THIRD_PART_SIGNIN_ERROR_TOKEN__",ie="__TIKTOK_AUTH_CSRF_KEY__";var oe=(e=>(e[e.Facebook=1772]="Facebook",e[e.Google=1773]="Google",e[e.TikTok=1776]="TikTok",e[e.ScanCode=0]="ScanCode",e[e.TikTokLive=1776]="TikTokLive",e))(oe||{}),se=(e=>(e[e.Facebook=200251]="Facebook",e[e.Google=200257]="Google",e[e.TikTok=200256]="TikTok",e[e.ScanCode=0]="ScanCode",e[e.TikTokLive=200256]="TikTokLive",e))(se||{}),ce=(e=>(e.TikTokLive="live.draft.list",e.TikTok="user.info.basic",e))(ce||{}),le=(e=>(e.googleOneTab="googleOneTab",e.googleOneTabAutoSelect="googleOneTabAutoSelect",e.googleSignInBtn="googleSignInBtn",e))(le||{});const ue={RECENT_LIST_FILE_TYPE:"RECENT_LIST_FILE_TYPE",RECENT_LIST_VIEW_TYPE:"RECENT_LIST_VIEW_TYPE",LIST_VIEW_TYPE:"LIST_VIEW_TYPE",LIST_DISPLAY_TYPE:"LIST_DISPLAY_TYPE",LIST_SORT_BY:"LIST_SORT_BY",RECYCLE_LIST_SORT_BY:"RECYCLE_LIST_SORT_BY",LIST_SORT_DIRECTION:"LIST_SORT_DIRECTION",RECYCLE_LIST_SORT_DIRECTION:"RECYCLE_LIST_SORT_DIRECTION",COOKIE_CONSENT_PROMPT_CONFIG:"COOKIE_CONSENT_PROMPT_CONFIG",THIRTPARTY_FEEDBACK:"THIRTPARTY_FEEDBACK",LV_TASK_CENTER:"LV_TASK_CENTER",THIRDPARTY_CLOUD_AUTH:"THIRDPARTY_CLOUD_AUTH",SURVEY_OPEN:"SURVEY_OPEN",CLOUD_STORAGE_PAYMENT_AND_BINDING:"CLOUD_STORAGE_PAYMENT_AND_BINDING",THIRDPARTY_SHARE_AUTH:"THIRDPARTY_SHARE_AUTH",CAPCUT_THEME:"CAPCUT_THEME",CAPCUT_TEMPLATE_VIDEO_VOLUME:"CAPCUT_TEMPLATE_VIDEO_VOLUME",GUIDE_FROM_TEAM_INVITE:"GUIDE_FROM_TEAM_INVITE",GUIDE_FROM_SIGN_UP:"GUIDE_FROM_SIGN_UP",COMPREHENSIVE_SEARCH_HISTORY:"COMPREHENSIVE_SEARCH_HISTORY",CC_WEB_IM_CONFIG:"CC_WEB_IM_CONFIG"};var de=(e=>(e.US="US",e.BR="BR",e.SG="SG",e.KR="KR",e.ID="ID",e.GB="GB",e.CA="CA",e.AU="AU",e.NZ="NZ",e))(de||{}),pe=(e=>(e[e.VA=0]="VA",e[e.GCP=1]="GCP",e[e.SG=2]="SG",e))(pe||{});const _e="______________";var ge=(e=>(e.DEFAULT="DEFAULT",e.COMMERCE="COMMERCE",e.FRONTIER="FRONTIER",e.TTS="TTS",e))(ge||{});const he={DEFAULT:{VA:`https://capcut-os-boe.${_e}`},COMMERCE:{VA:`https://capcut-os-boe.${_e}`},FRONTIER:{VA:`wss://capcut-os-boe.${_e}`},TTS:{VA:`wss://capcut-os-boe.${_e}`}},me={DEFAULT:{VA:`https://capcut-web-va.${_e}`},COMMERCE:{VA:`https://commerce-api-va.${_e}`},FRONTIER:{VA:`wss://capcut-web-va.${_e}`},TTS:{VA:`wss://capcut-web-va.${_e}`}},fe={DEFAULT:{VA:"https://edit-api-va.capcut.com"},COMMERCE:{VA:"https://commerce-api-va.capcut.com"},FRONTIER:{VA:"wss://frontier-va.capcut.com"},TTS:{VA:"wss://edit-api-va.capcut.com"}},we="https://mweb-api.capcutapi.com",ve="google sem",Ee="direct";var ye=(e=>(e.Dropbox="Dropbox",e.GoogleDrive="GoogleDrive",e.GoogleContacts="GoogleContacts",e.Shopify="Shopify",e))(ye||{}),Ce=(e=>(e.TikTok="TikTok",e.TTAM="TTAM",e.YouTube="YouTube",e.YouTubeShorts="YouTubeShorts",e.Instagram="Instagram",e.InstagramReels="InstagramReels",e.FacebookPage="FacebookPage",e.FacebookGroup="FacebookGroup",e.Shopify="Shopify",e.Dropbox="Dropbox",e))(Ce||{}),Ae=(e=>(e[e.PAGE=0]="PAGE",e[e.GROUP=1]="GROUP",e[e.INSTAGRAM=2]="INSTAGRAM",e))(Ae||{});Ce.FacebookPage,Ce.FacebookGroup,Ce.Instagram,Ce.InstagramReels;var be=(e=>(e[e.YouTube=0]="YouTube",e[e.YouTubeShorts=1]="YouTubeShorts",e))(be||{});Ce.YouTube,Ce.YouTubeShorts;const Ie={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1ebfng Vi\u1ec7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65e5\u672c\u8a9e"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7e41\u9ad4\u4e2d\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\ud55c\uad6d\uc5b4"}},ke=Object.values(Ie).reduce(((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e)),{}),Se={BR:{label:"\u5df4\u897f",locale:Ie.Portuguese,useBrowserLang:!1},MZ:{label:"\u83ab\u6851\u6bd4\u514b",locale:Ie.Portuguese,useBrowserLang:!1},AO:{label:"\u5b89\u54e5\u62c9",locale:Ie.Portuguese,useBrowserLang:!1},PT:{label:"\u8461\u8404\u7259",locale:Ie.Portuguese,useBrowserLang:!1},GW:{label:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",locale:Ie.Portuguese,useBrowserLang:!1},TL:{label:"\u4e1c\u5e1d\u6c76",locale:Ie.Portuguese,useBrowserLang:!1},GQ:{label:"\u8d64\u9053\u51e0\u5185\u4e9a",locale:Ie.Spanish,useBrowserLang:!0},CV:{label:"\u4f5b\u5f97\u89d2",locale:Ie.Portuguese,useBrowserLang:!1},ST:{label:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",locale:Ie.Portuguese,useBrowserLang:!1},MX:{label:"\u58a8\u897f\u54e5",locale:Ie.Spanish,useBrowserLang:!1},CO:{label:"\u54e5\u4f26\u6bd4\u4e9a",locale:Ie.Spanish,useBrowserLang:!1},ES:{label:"\u897f\u73ed\u7259",locale:Ie.Spanish,useBrowserLang:!1},AR:{label:"\u963f\u6839\u5ef7",locale:Ie.Spanish,useBrowserLang:!1},PE:{label:"\u79d8\u9c81",locale:Ie.Spanish,useBrowserLang:!1},VE:{label:"\u59d4\u5185\u745e\u62c9",locale:Ie.Spanish,useBrowserLang:!1},CL:{label:"\u667a\u5229",locale:Ie.Spanish,useBrowserLang:!1},EC:{label:"\u5384\u74dc\u591a\u5c14",locale:Ie.Spanish,useBrowserLang:!1},GT:{label:"\u5371\u5730\u9a6c\u62c9",locale:Ie.Spanish,useBrowserLang:!1},CU:{label:"\u53e4\u5df4",locale:Ie.Spanish,useBrowserLang:!1},BO:{label:"\u73bb\u5229\u7ef4\u4e9a",locale:Ie.Spanish,useBrowserLang:!1},DO:{label:"\u591a\u7c73\u5c3c\u52a0",locale:Ie.Spanish,useBrowserLang:!1},HN:{label:"\u6d2a\u90fd\u62c9\u65af",locale:Ie.Spanish,useBrowserLang:!1},PY:{label:"\u5df4\u62c9\u572d",locale:Ie.Spanish,useBrowserLang:!1},SV:{label:"\u8428\u5c14\u74e6\u591a",locale:Ie.Spanish,useBrowserLang:!1},NI:{label:"\u5c3c\u52a0\u62c9\u74dc",locale:Ie.Spanish,useBrowserLang:!1},CR:{label:"\u54e5\u65af\u8fbe\u9ece\u52a0",locale:Ie.Spanish,useBrowserLang:!1},PA:{label:"\u5df4\u62ff\u9a6c",locale:Ie.Spanish,useBrowserLang:!1},UY:{label:"\u4e4c\u62c9\u572d",locale:Ie.Spanish,useBrowserLang:!1},DE:{label:"\u5fb7\u56fd",locale:Ie.German,useBrowserLang:!1},AT:{label:"\u5965\u5730\u5229",locale:Ie.German,useBrowserLang:!1},LI:{label:"\u5217\u652f\u6566\u58eb\u767b",locale:Ie.German,useBrowserLang:!1},CH:{label:"\u745e\u58eb\uff08\u5fb7\u8bed\u548c\u6cd5\u8bed\u5747\u6709\u7528\u6237\uff09",locale:Ie.German,useBrowserLang:!0},LT:{label:"\u5362\u68ee\u5821\uff08\u6ca1\u6709\u660e\u663e\u8bed\u8a00\u5206\u5e03\uff0c\u6cd5\u8bed\u3001\u5fb7\u8bed\u90fd\u6709\uff09",locale:Ie.German,useBrowserLang:!0},CD:{label:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd",locale:Ie.French,useBrowserLang:!1},FR:{label:"\u6cd5\u56fd",locale:Ie.French,useBrowserLang:!1},CA:{label:"\u52a0\u62ff\u5927",locale:Ie.French,useBrowserLang:!1},MG:{label:"\u9a6c\u8fbe\u52a0\u65af\u52a0",locale:Ie.French,useBrowserLang:!1},CM:{label:"\u5580\u9ea6\u9686",locale:Ie.French,useBrowserLang:!1},CI:{label:"\u79d1\u7279\u8fea\u74e6",locale:Ie.French,useBrowserLang:!1},BF:{label:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",locale:Ie.French,useBrowserLang:!1},NE:{label:"\u5c3c\u65e5\u5c14",locale:Ie.French,useBrowserLang:!1},SN:{label:"\u585e\u5185\u52a0\u5c14",locale:Ie.French,useBrowserLang:!1},ML:{label:"\u9a6c\u91cc",locale:Ie.French,useBrowserLang:!1},RW:{label:"\u5362\u65fa\u8fbe",locale:Ie.French,useBrowserLang:!1},BE:{label:"\u6bd4\u5229\u65f6",locale:Ie.French,useBrowserLang:!1},HT:{label:"\u6d77\u5730",locale:Ie.French,useBrowserLang:!1},TD:{label:"\u4e4d\u5f97",locale:Ie.French,useBrowserLang:!1},CN:{label:"\u51e0\u5185\u4e9a",locale:Ie.French,useBrowserLang:!1},BI:{label:"\u5e03\u9686\u8fea",locale:Ie.French,useBrowserLang:!1},BJ:{label:"\u8d1d\u5b81",locale:Ie.French,useBrowserLang:!1},TG:{label:"\u591a\u54e5",locale:Ie.French,useBrowserLang:!1},CF:{label:"\u4e2d\u975e",locale:Ie.French,useBrowserLang:!1},CG:{label:"\u521a\u679c\u5171\u548c\u56fd",locale:Ie.French,useBrowserLang:!1},GA:{label:"\u52a0\u84ec",locale:Ie.French,useBrowserLang:!1},KM:{label:"\u79d1\u6469\u7f57",locale:Ie.French,useBrowserLang:!1},DJ:{label:"\u5409\u5e03\u63d0",locale:Ie.French,useBrowserLang:!1},VU:{label:"\u74e6\u52aa\u963f\u56fe",locale:Ie.French,useBrowserLang:!1},SC:{label:"\u585e\u820c\u5c14",locale:Ie.French,useBrowserLang:!1},MC:{label:"\u6469\u7eb3\u54e5",locale:Ie.French,useBrowserLang:!1},JP:{label:"\u65e5\u672c",locale:Ie.Japan,useBrowserLang:!1},KR:{label:"\u97e9\u56fd",locale:Ie.Korea,useBrowserLang:!1},KP:{label:"\u671d\u9c9c",locale:Ie.Korea,useBrowserLang:!1},TR:{label:"\u571f\u8033\u5176",locale:Ie.Turkey,useBrowserLang:!1},TRNC:{label:"\u5317\u585e\u6d66\u8def\u65af",locale:Ie.Turkey,useBrowserLang:!1},CY:{label:"\u585e\u6d66\u8def\u65af",locale:Ie.Turkey,useBrowserLang:!1},IT:{label:"\u610f\u5927\u5229",locale:Ie.italian,useBrowserLang:!1},SM:{label:"\u5723\u9a6c\u529b\u8bfa",locale:Ie.italian,useBrowserLang:!1},VA:{label:"\u68b5\u8482\u5188",locale:Ie.italian,useBrowserLang:!0},TH:{label:"\u6cf0\u56fd",locale:Ie.Thai,useBrowserLang:!1},ID:{label:"\u5370\u5ea6\u5c3c\u897f\u4e9a",locale:Ie.Indonesian,useBrowserLang:!1},VN:{label:"\u8d8a\u5357",locale:Ie.vietnamese,useBrowserLang:!1},PH:{label:"\u83f2\u5f8b\u5bbe",locale:Ie.Filipino,useBrowserLang:!0},MY:{label:"\u9a6c\u6765\u897f\u4e9a",locale:Ie.Malay,useBrowserLang:!1},BN:{label:"\u6587\u83b1",locale:Ie.Malay,useBrowserLang:!1}},Te="es-ES";const Re=-1,Pe=(Number(q.noAllowJoin),"object"==typeof navigator&&/(capcut.*lv\/([\d+.]+)|lv\/([\d+.]+).*capcut)/i.test(navigator.userAgent)),Le={UTM_MEDIUM:"utm_medium",UTM_SOURCE:"utm_source",VID:"video",OPEN_ID:"open_id",UTM_CAMPAIGN:"utm_campaign"};var Ne=(e=>(e.TIKTOK_LIVE="TT_live",e))(Ne||{});const Oe=new class{get sdk(){if(!(typeof window>"u"))return null==window?void 0:window.ccWebSlardar}init(e){var t;null==(t=this.sdk)||t.call(this,"init",e)}start(){var e;null==(e=this.sdk)||e.call(this,"start")}config(e){var t;null==(t=this.sdk)||t.call(this,"config",e)}error(e,t,r={}){var a;const n=null!=r&&r.level?null==r?void 0:r.level:"warn",i=(0,W.A)(t)?(e=>{const t=new Error(e.message);return t.name=e.name,t.stack=e.stack,t.message=e.message,t})(t):new Error(JSON.stringify(t)),{message:o}=i;i.message=`\u3010Custom-Error\u3011:${e}-${r.toGroup?"MoreDataInExternal":null==i?void 0:i.message}`,r.toGroup&&(Object.assign(r,{message:o}),delete r.toGroup),null==(a=this.sdk)||a.call(this,"captureException",i,{...r,level:n})}dataEvent(e,t={}){var r;const a=null!=t&&t.level?null==t?void 0:t.level:"info",n=(0,M.A)(t,j.A);null==(r=this.sdk)||r.call(this,"sendEvent",{name:`\u3010Custom-Data\u3011: ${e}`,metrics:n,categories:{...t,level:a}})}log(e,t={}){var r;const a=null!=t&&t.level?null==t?void 0:t.level:"info";null==(r=this.sdk)||r.call(this,"sendLog",{content:`\u3010Custom-Log\u3011: ${e}`,level:a,extra:{...t}})}setCurrentBranch(e=""){var t;e&&(null==(t=this.sdk)||t.call(this,"context.set","branch",e))}};const xe=e=>{const t=navigator.userAgent.toLowerCase(),{mobile:r,name:a,version:n,os:i=""}=(0,T.A)(e),o=navigator.maxTouchPoints||NaN,s=navigator.platform||"";return{env:r?"mobile":"pc",name:a,version:n,isMobile:!!r,isWechat:/micromessenger/.test(t),isQQ:/qq/.test(t),isWeibo:/weibo/.test(t),isLv:/lv/.test(t),isAndroid:/android/.test(t),isIos:/ios/.test(i)||/iPad|iPhone|iPod/i.test(t)||/MacIntel/i.test(s)&&o>1,isMac:/macintosh|mac os x/i.test(i.toLowerCase())||/os x /i.test(i.toLowerCase()),isWin:/windows|win32|win64/i.test(i.toLowerCase())}};function He(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}(0,S.createContext)({locale:void 0});const De="capcut_locale";function Ue(){const e={};return function t(r){if(r instanceof Array)r.forEach((e=>t(e)));else if(r instanceof Object){if(r.PATH&&void 0!==r.HAS_LOCALE_PREFIX)return void(e[r.PATH]={matcher:r.MATCHER,hasLocalePrefix:r.HAS_LOCALE_PREFIX});t(Object.values(r))}}(V),e}const Fe=class e{constructor(t){B(this,"options"),B(this,"locale");const r={countryCode:typeof window<"u"?window.__locationCountryCode:void 0,defaultLocale:"en",isServer:!1};this.options=Object.assign({},r,t,{cookieName:De}),this.options.locale&&e.validateLocale(this.options.locale)?this.locale=this.options.locale:this._initLocale(),this._listenCookieChange()}static setQueryLocale(t,r){if(null!=r&&r.fuzzyMatch){const r=e.getMachLocale(t);r&&(e.queryLocale=r)}else e.validateLocale(t)&&(e.queryLocale=t)}static getLocalPrefix(e){let t;const r=this.getSupportLocales();for(const{locale:a,pathPrefix:n}of r){const r=`/${n}/`;if(e.startsWith(r))return t=a,t}return t}static getPathPrefix(e){const t=this.getSupportLocales();for(const{pathPrefix:r}of t){const t=`/${r}/`;if(e.startsWith(t))return r}}static isValidLocalPath(e,t={forceLocal:!1}){const r=this.getPathPrefix(e),a=Ue(),n=Object.entries(a).map((([e,{matcher:t,hasLocalePrefix:r}])=>({hasLocalePrefix:r,route:e,matcher:(0,C.YW)(e,{decode:decodeURIComponent}),localMatcher:(0,C.YW)(t,{decode:decodeURIComponent})})));for(let i=0;i<n.length;i++){const a=n[i];if(a.matcher(e)&&!r)return!t.forceLocal||a.hasLocalePrefix;if(a.hasLocalePrefix&&a.localMatcher(e))return!!r}return!1}static formatRoutePath({locale:e,path:t,forceAddLocalePrefix:r=!1}){var a;let n=!1;"en"===e||null!=e&&e.includes("-")?e===Te&&(e=Ie.Spanish.key):e=Object.values(Ie).map((e=>e.key)).find((t=>t.startsWith(e)))||e;const i=this.getSupportLocales();if(!ke[e]&&"en"!==e)return t;for(const{pathPrefix:l}of i)if(l){const e=`/${l}/`;if(t.startsWith(e)){t=t.replace(e,"/"),n=!0;break}}if(r||n)return ke[e]?`/${ke[e]}${t}`:t;const o=Ue(),s=Object.keys(o),c=s.map((e=>(0,C.YW)(e,{decode:decodeURIComponent})));for(let l=0;l<c.length;l++)if(c[l](null==(a=null==t?void 0:t.split("?"))?void 0:a[0]))return o[s[l]].hasLocalePrefix&&ke[e]?`/${ke[e]}${t}`:t;return t}static getOriginalPath(e){const t=this.getPathPrefix(e);return t?e.replace(new RegExp(`^/${t}`),""):e}static getOriginalUrl(e){const t=this.getSupportLocales();for(const{pathPrefix:r}of t)if(r&&e.includes(r))return e.replace(new RegExp(`/${r}`),"");return e}static getSupportLocales(){return Object.values(Ie).filter((e=>!e.disable)).map((({key:e,text:t,pathPrefix:r,matcher:a})=>({locale:e,pathPrefix:r,text:t,matcher:a})))}static getHreflangLocales(){const t=e.getSupportLocales(),r={[Ie.Spanish.key]:Te,[Ie.Filipino.key]:"tl-PH",[Ie.TraditionalChinese.key]:"zh-TW"};return(0,k.A)(t.map((e=>{const t={locale:e.locale,hreflang:e.locale},a=[];return r[t.locale]&&(t.hreflang=r[e.locale]),t.hreflang.includes("-")&&a.push({locale:t.locale,hreflang:t.hreflang.substring(0,t.hreflang.indexOf("-"))}),a.push(t),a})))}static validateLocale(t,r){return!!t&&!!e.getSupportLocales().find((e=>!(null==r||!r.fuzzyMatch||!e.matcher.test(t.toLowerCase()))||e.locale===t))}static getMachLocale(t){var r;return null==(r=e.getSupportLocales().find((e=>e.matcher.test(t.toLowerCase()))))?void 0:r.locale}getCurrentLocale({localeFix:t}={localeFix:!1}){return e.queryLocale?e.queryLocale:t||this.locale!==Te?t&&this.locale===Ie.Spanish.key?Te:this.locale:Ie.Spanish.key}setCurrentLocale(e,t){null!=t&&t.disableCookie||this._setCookie(e),this.locale=e}getSupportLocales(){return e.getSupportLocales()}formatLocalePath(t){const r={forceAddLocalePrefix:!1,locale:this.getCurrentLocale(),...t},{path:a}=r;if(!a.startsWith("/"))throw new Error("path invalid, please confirm its startsWith /");const{locale:n,forceAddLocalePrefix:i}=r;return e.formatRoutePath({locale:n,path:a,forceAddLocalePrefix:i})}_initLocale(){var t,r;const{cookieName:a,countryCode:n,defaultLocale:i,getBrowserLang:o,cookieGetter:s}=this.options;if(this.isBrowser()){const t=e.getLocalPrefix(window.location.pathname);if(t)return this.locale=t===Te?Ie.Spanish.key:t,void(s(a)||this._setCookie(t))}const c=s(a);if(c&&e.validateLocale(c))return void(this.locale=c);let l=this._formatLocale(o());if(l||(l=i),!n||!Se[n]||null!=(r=null==(t=Se[n])?void 0:t.locale)&&r.disable)return this.locale=l,void this._setCookie(l);const{locale:u,useBrowserLang:d}=Se[n];return d?(this.locale=l,void this._setCookie(l)):(this.locale=u.key,void this._setCookie(u.key))}_setCookie(e){const{cookieName:t,cookieSetter:r,isServer:a}=this.options;r(t,e,a?{maxAge:31536e7,httpOnly:!1,secure:!1,overwrite:!0}:{expires:3650})}_formatLocale(t){if(!t||e.validateLocale(t))return t;const r=Object.values(Ie);for(const e of r){const{key:r,matcher:a}=e;if(r===t||t.match(a))return r}}_listenCookieChange(){}isBrowser(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}};B(Fe,"CookieName",De),B(Fe,"queryLocale");let Me=Fe;function je(e){const t=[];return Object.keys(e).forEach((r=>{const a=e[r];Array.isArray(a)?a.forEach((function(e){t.push(`${r}=${e}`)})):t.push(`${r}=${a}`)})),t.join("&")}function We(e,t={},r=[],a={}){const i=function(e){const t={};return e.slice(e.indexOf("?")+1).split("&").filter((e=>!!e)).map((e=>{const[r,a]=e.split("=");t[r]=a})),t}(Ge()),o=(0,n.A)({...a,...i,...t},r);let s=e,c="";try{const t=new URL(e);s=t.pathname,c=t.origin}catch{}for(const n in o)o[n]||delete o[n];let u=je(o);const d=Me.formatRoutePath({path:s,locale:l.Ay.language||"en"}),[,p]=e.split("?");return p&&(u=`${p}&${u}`),`${c}${d}${u?"?":""}${u}`}const Ge=()=>{var e;let t="";return typeof window<"u"&&(t=(null==(e=window.location)?void 0:e.originParams)||location.search),"object"==typeof t&&(t=je(t)),t},Be=e=>{var t;if(Array.isArray(e)){const r=new URLSearchParams(null==(t=null==window?void 0:window.location)?void 0:t.search);for(const t of e)r.delete(t),window.location.originParams&&delete window.location.originParams[t];const a=`${window.location.href.split("?")[0]}?${r.toString()}`;history.replaceState("",document.title,a)}};function Ve(e,t){const r=Ge(),a=new URLSearchParams(r);Object.entries(t??{}).forEach((([e,t])=>{a.set(e,t)}));const n=a.toString();location.href=`${location.origin}${e}${n?`?${n}`:""}`}function Ye(e){const t=Ge();return new URLSearchParams(t).get(e)}class ze{static getString(e){return typeof window>"u"||!navigator.cookieEnabled?null:localStorage.getItem(e)}static setString(e,t){if(!(typeof window>"u")&&navigator.cookieEnabled)return localStorage.setItem(e,t)}static getJsonWithEmptyJson(e){let t;try{const r=typeof localStorage<"u"&&localStorage.getItem(e)||"{}";t=JSON.parse(r)}catch(r){Oe.error("LocalStorage-getJsonWithEmptyJson()",r)}return t}static getJson(e){if(typeof window>"u"||!navigator.cookieEnabled)return;const t=typeof localStorage<"u"&&localStorage.getItem(e);let r;if(t){try{r=JSON.parse(t)}catch(a){Oe.error("localStorage-parse(origin)",a)}return r}}static setJson(e,t){if(!(typeof window>"u")&&navigator.cookieEnabled)try{localStorage.setItem(e,JSON.stringify(t))}catch(r){Oe.error("localStorage-set",r)}}static getNestedJsonItem(e,t){return this.getJsonWithEmptyJson(e)[t]??{}}static setNestedJsonItem(e,t,r){const a=this.getJsonWithEmptyJson(e),n=a[t]??{},i={...a,[t]:{...n,...r}};try{this.setJson(e,i)}catch(o){Oe.error("localStorage-set",o)}}static removeItem(e){typeof window>"u"||!navigator.cookieEnabled||localStorage.removeItem(e)}}function Xe(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function Ke(e){var t;const r={url:e.baseURL&&e.url?Xe(e.baseURL,e.url):"",method:null==(t=null==e?void 0:e.method)?void 0:t.toUpperCase(),params:"string"==typeof e.params?JSON.parse(e.params):e.params,data:"string"==typeof e.data?JSON.parse(e.data):e.data,needCommonParams:!0,responseType:e.responseType??"json"};return p.Ay.app.fetch(r)}async function qe(e){const t=await Ke(e);return new Promise(((r,a)=>{if(1!==t.code)a(t);else try{!function(e,t,r){const a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new u.AxiosError("Request failed with status code "+r.status,[u.AxiosError.ERR_BAD_REQUEST,u.AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}(r,a,{data:JSON.parse(t.data.response),status:t.data.status,config:e,request:Ke})}catch(n){a(n)}}))}class $e{constructor(){B(this,"_hasBeenDone",!1),B(this,"_isIniting",!1),B(this,"resolveResult"),B(this,"rejectResult"),B(this,"_initCostTimes"),B(this,"_waitingResolvers",new Set),B(this,"_waitingResolverMap",new Map)}get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!this._initCostTimes)return;const{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit({key:e,timeout:t}={}){if(this._hasBeenDone&&this.initResult){const{resolve:e,reject:t}=this.initResult;return t?Promise.reject(t):Promise.resolve(e)}if(e&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!t){const t=new Promise(((e,t)=>{this._waitingResolvers.add([e,t])}));return e&&this._waitingResolverMap.set(e,t),t}let r,a;const n=Promise.race([new Promise(((e,t)=>{r=[()=>{clearTimeout(a),e()},t],this._waitingResolvers.add([r,t])})),new Promise(((e,n)=>{a=setTimeout((()=>{this._waitingResolvers.delete(r),n(new Error("Timed out waiting for init"))}),t)}))]);return e&&this._waitingResolverMap.set(e,n),n}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw new Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());let t=!1;null!=e&&e.reject?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve;for(const r of this._waitingResolvers)t?r[1](this.rejectResult):r[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}}const Je="custom-request-domain";const Qe=new class{constructor(){B(this,"_locker",new $e),B(this,"_userRequestDomain")}getWebDomain(){return this._userRequestDomain.domain.web_domain}updateRequestDomain(e){e.domain&&(this._locker.hasBeenDone||this._locker.initDone(),this._userRequestDomain=e)}async baseRequestInterceptors(e){var t,r,a,n,i,o,s;const c=null==(t=e.baseURL)?void 0:t.startsWith("https");(null==(r=null==e?void 0:e[Je])||!r.skipAwaitLocker)&&!c&&await this._locker.awaitForInit();const l=null==(a=null==e?void 0:e[Je])?void 0:a.domain,u=(null!=e&&e.useCommerceApi?ge.COMMERCE:ge.DEFAULT)===ge.COMMERCE?null==(i=null==(n=this._userRequestDomain)?void 0:n.domain)?void 0:i.commerce_domain:Pe?we:null==(s=null==(o=this._userRequestDomain)?void 0:o.domain)?void 0:s.web_domain,d=l||u;return!c&&d&&(e.baseURL=`${l||d}${e.baseURL}`),{...e,withCredentials:!0}}createAxios(e){const t=Pe?d().create({...e,adapter:qe}):d().create(e);return t.interceptors.request.use(this.baseRequestInterceptors.bind(this)),t}};var Ze=(e=>(e[e.leaveWorkspace=11005]="leaveWorkspace",e[e.roleChange=11006]="roleChange",e[e.newMember=11007]="newMember",e))(Ze||{}),et=(e=>(e[e.InviteLink=1]="InviteLink",e[e.Application=2]="Application",e))(et||{}),tt=(e=>(e[e.Waiting=1]="Waiting",e[e.Passed=2]="Passed",e[e.Rejected=3]="Rejected",e[e.JoinOtherWay=4]="JoinOtherWay",e[e.Timeout=5]="Timeout",e))(tt||{});const rt=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);const at="custom-axios-retry",nt=["get","head","options"].concat(["put","delete"]);function it(e){const t=(null==e?void 0:e[at])||{canRetry:!0};return t.retryCount=t.retryCount||0,t}const ot=()=>0;function st(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&function(e){return!rt.has(e&&e.code)}(e)}function ct(e){return st(e)||function(e){return!!e.config&&function(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}(e)&&-1!==nt.indexOf(e.config.method)}(e)}function lt(e,t){return e.interceptors.request.use((e=>{const t=it(e);return t.lastRequestTime=Date.now(),e[at]=t,e})),e.interceptors.response.use(void 0,(r=>{const{config:a}=r;if(!a)return Promise.reject(r);const{retries:n=5,isRetry:i=ct,retryDelay:o=ot,resetTimeout:s=!1}=Object.assign({},t,null==a?void 0:a[at]),c=it(a);if(i(r)&&c.canRetry&&(-1===n||c.retryCount<n)){c.retryCount+=1;const t="number"==typeof o?o:o(c.retryCount,r);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,a),!s&&a.timeout&&c.lastRequestTime){const e=Date.now()-c.lastRequestTime;a.timeout=Math.max(a.timeout-e-t,1)}return a.transformRequest=[e=>e],new Promise((r=>setTimeout((()=>r(e(a))),t)))}return Promise.reject(r)})),e}function ut({url:e,pf:t,appvr:r,tdid:a}){const n=Math.floor(Date.now()/1e3);return{sign:g()(`9e2c|${e.slice(-7)}|${t}|${r}|${n}|${a}|11ac`).toLowerCase(),"device-time":n}}const dt={baseURL:"/lv/v1/user",method:"POST",headers:{loc:Y.CHANNEL,lan:l.Ay.language||Y.LAN,pf:Y.APP_PF,appvr:Y.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Y.APP_SDK_VERSION},params:{}},pt=Qe.createAxios(dt);pt.interceptors.request.use((e=>{const{pf:t,appvr:r,tdid:a}=dt.headers;return Object.assign(e.headers,ut({url:`${e.baseURL}${e.url}`,pf:t,appvr:r,tdid:a})),e})),pt.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)})),lt(pt,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:e=>{var t;return![$.USER_CODE.NO_LOGIN,$.AUTHORIZED.GOOGLE_UNAUTHORIZED].includes(Number(null==(t=null==e?void 0:e.data)?void 0:t.ret))}});const _t={async getAndUpdateUserInfo(e){const t="/web/user_info";return await pt({url:Pe?`${we}${dt.baseURL}${t}`:`${window.location.origin}${dt.baseURL}${t}`,data:e,[Je]:{skipAwaitLocker:!0}})},async getUserInfo(e){return await pt({url:`${window.location.origin}${dt.baseURL}/web/get_user_info`,data:{uid:e,need_grade:!1},[Je]:{skipAwaitLocker:!0}})},async updateUser(e){return await pt({url:"/update",data:e})},async thirtpartCloudsDeauthorization(e){return await pt({url:"/web/third_party_clouds_deauthorization",data:e})},async authorizationCheck(e){return await pt.post("/web/third_party_clouds_authorization_check",e)},async getShareUserInfo(e){return await pt({url:"/web/share_user_info",data:e})},async shareUserUnbind(e){return await pt({url:"/web/third_party_platform_deauthorization",data:e})},async checkAgeGate(){return await pt({url:"/check_age_gate",data:{}})},async confirmBirthday(e){return await pt({url:"/confirm_birthday",data:e})},async updateBirthday(e){return await pt({url:"/update_birthday",data:e})},getFacebookShareList(e){return pt.post("/web/get_facebook_page_or_group_list",e)},async getOpenId(){return await pt({baseURL:"/lv/v1",url:"/web/openid"})},async saveTTScope(e){return await pt({baseURL:"/lv/v1",url:"/third_party_clouds/save_tt_scope",data:e})},async checkBindEmailPopup(){return await pt({url:"/web/check_bind_email_popup"})},async edmAuthorize(e){return await pt({url:"/web/edm_authorize",data:{setting_values:null!=e&&e.checked?"on":"off"}})},async getUserContacts(e){return await pt({url:"/web/third_party_get_contacts",data:e})},async getAuthorizedUserInfo(e){return await pt({url:"/web/authorized_user_info",data:e})},async appealForUser(e){return await pt({baseURL:"/lv/v1",url:"/appeal/personal_info",data:e})}},gt=new Map;async function ht(e,{cacheKey:t,maxAge:r=36e5}){const a=gt.get(t);if(a&&(new Date).getTime()-a.cacheStartTime<a.maxAge)try{return await a.promise,a.promise}catch{}const n=e();return gt.set(t,{promise:n,cacheStartTime:(new Date).getTime(),maxAge:r}),n}const mt={baseURL:"/commerce",method:"POST",headers:{appid:Y.APP_ID,loc:Y.CHANNEL,lan:l.Ay.language||Y.LAN,pf:Y.APP_PF,appvr:Y.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Y.APP_SDK_VERSION},useCommerceApi:!0},ft=Qe.createAxios(mt);ft.interceptors.request.use((e=>{const{pf:t,appvr:r,tdid:a}=mt.headers;return Object.assign(e.headers,ut({url:`${e.baseURL}${e.url}`,pf:t,appvr:r,tdid:a})),e})),ft.interceptors.response.use((e=>{var t,r,a;if(200===e.status){const n=e.data;return"0"===n.ret?null!=(t=null==e?void 0:e.config)&&t.url&&e.config.url.indexOf("user_info")>0?Promise.resolve({data:n.data,signContext:{sign:n.sign,ret:n.ret,response:n.response,"device-time":null==(a=null==(r=null==e?void 0:e.config)?void 0:r.headers)?void 0:a["device-time"],systime:null==n?void 0:n.systime}}):Promise.resolve(n.data):Promise.reject(e)}return Promise.reject(e)})),lt(ft,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:()=>!0});const wt={async getSubscriptionUserInfo(e){const t=await ft({url:"/v1/subscription/user_info",data:{aid:Y.APP_ID,scene:"vip",from_db:e}}),{data:a,signContext:n}=t,i={appid:Y.APP_ID,appvr:Y.VERSION,"device-time":null==n?void 0:n["device-time"],pf:Y.APP_PF,response:null==n?void 0:n.response,ret:n.ret,systime:null==n?void 0:n.systime},{sign:o}=n;if(o){const e=await(async(e,t,a)=>{const n=new(0,(await r.e(4448).then(r.bind(r,54448))).default);return n.setPublicKey(a),n.verify(e,t,f().SHA256)})((e=>{const t=[];return Object.entries(e).forEach((e=>{(0,h.A)(e[1])||t.push(`${e[0]}=${e[1]}`)})),t.join("&")})(i),o,"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC1I/Ml9Qkp6reos86Tjbd1R6q+\nbQwviSEmZzqtrhfGI+iMGKA74XSctUu8ZnWhOKsG5+PujMrIJX2WMRP0E5lhJpCh\nfgK3aiNikvgigORzf0Lz39XS46eAHJrPbMaQiabDfd/+CjkvxbV+LW3oPdoZj9Mn\n38OEHt9qVkUlvpv76wIDAQAB\n-----END PUBLIC KEY-----");if(n.sign&&e)return a;throw Error("Error: Auth sign")}throw Error("Error: Auth sign")},async getSpaceList(e){const t="/v1/subscription/workspace/space_list",r=ut({url:t,...mt.headers}),a=await ft({url:t,headers:{...r},data:{aid:Number(Y.APP_ID),workspace_id:e}});return{spaceList:a.space_list,isFirstSubscribe:a.is_first_subscribe,isAutoSubscribe:a.is_auto_subscribe,isWebAutoSubscribe:a.is_web_auto_subscribe,isCancelSubscribe:a.is_cancel_subscribe,jointActivitySpaceList:a.joint_activity_space_list}},async getPriceList(e){const t="/v1/subscription/cc_web_price_list",r=ut({url:t,...mt.headers}),a={aid:Number(Y.APP_ID),scene:"workspace",region:e},[n,i]=await ht((()=>Promise.all([ft({url:t,headers:{...r},data:a}),ft({url:t,headers:{...r},data:{...a,scene:"web"}})])),{cacheKey:`promiseCache_getPriceList_${JSON.stringify(a)}`}),o=n.all_price_list.reduce(((e,t)=>(e[t.product_id]=t,e)),{}),s=n.tab_list.map((e=>({as_default:e.as_default,products:e.product_ids.map((e=>o[e]))})));return{allPriceList:[...n.all_price_list,...i.all_price_list],groupProductList:s,ccWebDisplayInfo:n.cc_web_display_info}},async getSubscriptionList(e){return await ft({url:"/v1/subscription/order_record_list",data:{aid:Number(Y.APP_ID),workspace_id:e,cursor:0,count:1}})},async getVipPriceList(e,t="en"){const r={aid:Y.APP_ID,scene:"vip",region:e,language:t},a=await ht((()=>ft({url:"/v1/subscription/cc_price_list",data:r})),{cacheKey:`promiseCache_getSubscriptionPriceList_${JSON.stringify(r)}`}),n={month:[],year:[]};return a.all_price_list.forEach((e=>{const{cycle_unit:t,subscribe_cycle:r}=e;"MONTH"===t&&12!==r?n.month.push(e):n.year.push(e)})),{allVipPriceList:a.all_price_list,vipGroupProductList:n,ccWebDisplayInfo:a.cc_web_display_info}},async getSubscribeInfo(e="en"){return await ft({url:"/v1/subscription/get_subscribe_info",data:{language:e}})}};class vt extends Error{constructor(e){super("Page is in background, request cancelled"),B(this,"url"),this.name="RequestCancelledError",this.url=e}}const Et=Qe.createAxios();Et.interceptors.request.use((e=>({...e,baseURL:`https://${location.hostname}/`}))),Et.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return Promise.resolve(t)}return Promise.reject(e)}));const yt={baseURL:"/lv/v1",method:"POST",headers:{loc:Y.CHANNEL,lan:l.Ay.language||Y.LAN,pf:Y.APP_PF,appvr:Y.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Y.APP_SDK_VERSION}},Ct=Qe.createAxios(yt);Ct.interceptors.request.use((e=>{const{pf:t,appvr:r,tdid:a}=yt.headers;return Object.assign(e.headers,ut({url:`${e.baseURL}${e.url}`,pf:t,appvr:r,tdid:a})),e})),Ct.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)}));const At=d().create({method:"GET"});At.interceptors.response.use((e=>200===e.status?Promise.resolve(e.data):Promise.reject(e)));const bt={async getShareReportReason(){await Qe._locker.awaitForInit();let e="https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_80/bee_prod_80_bee_publish_4017.json";return Qe.getWebDomain().indexOf("sg")&&(e="https://sf-hs-sg.ibytedtos.com/obj/ies-fe-bee-alisg/bee_prod/biz_80/bee_prod_80_bee_publish_4017.json"),console.error("await jsonFileService.get(url)",await At.get(e)),await At.get(e)},async getCommentReportReason(){return await At.get("")},async getAIGCReportReason(){try{const e=await At.get("https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/bee_prod_49_bee_publish_644.json");if(!e.reasons)throw new Error("");return e}catch{return{reasons:[{text:"s2v_report_type_violent",cate:"violent",cid:401,tips:"",index:0,sort:0,reportParam:"violent_extremism"},{text:"s2v_report_type_illegal",cate:"illegal",cid:402,tips:"",index:1,sort:1,reportParam:"illegal_activities_and_regulated_goods"},{text:"s2v_report_type_graphic_content",cate:"graphic_content",cid:403,tips:"",index:2,sort:2,reportParam:"violent_and_graphic_content"},{text:"s2v_report_type_dangerous",cate:"dangerous",cid:404,tips:"",index:3,sort:3,reportParam:"suicide_self-harm_and_dangerous_acts"},{text:"s2v_report_type_hateful",cate:"hateful",cid:405,tips:"",index:4,sort:4,reportParam:"hateful_behavior"},{text:"s2v_report_type_harassment",cate:"harassment",cid:406,tips:"",index:5,sort:5,reportParam:"harassment_and_bullying"},{text:"s2v_report_type_adult",cate:"adult",cid:407,tips:"",index:6,sort:6,reportParam:"adult_nudity_and_sexual_activity"},{text:"s2v_report_type_minor",cate:"minor",cid:408,tips:"",index:7,sort:7,reportParam:"minor_safety"},{text:"s2v_report_type_integrity",cate:"integrity",cid:409,tips:"",index:8,sort:8,reportParam:"integrity_and_authenticity"},{text:"s2v_report_type_infringement",cate:"infringement",cid:410,tips:"",index:9,sort:9,reportParam:"intellectual_property_infringement"},{text:"s2v_report_type_other",cate:"other",cid:411,tips:"",index:10,sort:10,reportParam:"other"}]}}},async report(e){return await Ct.post("/report/report",e)},async eventReport(e){return await Ct.post("/event/report",e)},async aigcReport(e){return await Ct.post("/report/report",e)}},It={baseURL:"/lv/v1/user",method:"POST",headers:{loc:Y.CHANNEL,lan:l.Ay.language||Y.LAN,pf:Y.APP_PF,appvr:Y.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Y.APP_SDK_VERSION},params:{}},kt=d().create(It);kt.interceptors.request.use((e=>{const{pf:t,appvr:r,tdid:a}=It.headers;return Object.assign(e.headers,ut({url:`${e.baseURL}${e.url}`,pf:t,appvr:r,tdid:a})),e})),kt.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)}return Promise.reject(e)})),lt(kt,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:()=>!0});const St={async getLocation(){return await kt({url:"/web/get_location",data:{}})}},Tt={baseURL:"/lv/v1/task",method:"POST",headers:{loc:Y.CHANNEL,lan:Y.LAN,pf:Y.APP_PF,appvr:Y.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Y.APP_SDK_VERSION}},Rt=Qe.createAxios(Tt);((e,t)=>{e.interceptors.request.use((e=>{const{enableURL:r}=t,a=typeof document<"u"&&document.hidden,n=!!e.url&&((e,t)=>t.some((t=>"string"==typeof t?e===t:t.test(e))))(e.url,r);if(a&&n){console.warn("Page is in background, request cancelled:",e.url);const t=new vt(e.url);return Promise.reject(t)}return e}))})(Rt,{enableURL:[/\/get_task_status/]}),Rt.interceptors.request.use((e=>{const{pf:t,appvr:r,tdid:a}=Tt.headers;return Object.assign(e.headers,ut({url:`${e.baseURL}${e.url}`,pf:t,appvr:r,tdid:a})),e})),Rt.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)}return Promise.reject(e)}));const Pt={async getTaskCenterStatus(){return await Rt({url:"/get_task_status"})},async getInviteInfo(e){return await Rt({url:"/get_invite_detail",data:e})},async getInviteLink(){return await Rt({url:"/get_invite_link"})},async getRewardTasks(){return await Rt({url:"/get_reward_tasks"})},async receiveTasks(e){return await Rt({url:"/receive_tasks",data:e})}},Lt=new Map;const Nt={baseURL:"/cc/v1/workspace",method:"POST",headers:{loc:Y.CHANNEL,lan:l.Ay.language||Y.LAN,pf:Y.APP_PF,appvr:Y.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Y.APP_SDK_VERSION}},Ot=Qe.createAxios(Nt);Ot.interceptors.request.use((e=>{const{pf:t,appvr:r,tdid:a}=Nt.headers;return Object.assign(e.headers,ut({url:`${e.baseURL}${e.url}`,pf:t,appvr:r,tdid:a})),e})),function(e,t){const{maxAge:r=36e5}=t||{};e.interceptors.request.use((e=>{const{needCache:t}=e.params||{},r=function(e){try{if(!e)return"";const{url:t,data:r}=e;return`${t}${JSON.stringify(r)}`}catch{return""}}(e);if(e.cacheKey=r,!t)return Lt.delete(r),e;const a=Lt.get(r);if(a){const{data:t,maxAge:n,cacheStartTime:i}=a;Date.now()<n+i?e.adapter=e=>Promise.resolve({data:t,status:200,statusText:"OK",headers:{},config:e}):Lt.delete(r)}return e})),e.interceptors.response.use((e=>{const{config:t,status:a,data:n}=e,{cacheKey:i}=t||{};return i&&200===a&&"0"===(null==n?void 0:n.ret)&&Lt.set(i,{data:n,maxAge:r,cacheStartTime:Date.now()}),e}))}(Ot),Ot.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)}return Promise.reject(e)}));const xt={async getUserWorkSpace(e){return await Ot({url:"/get_user_workspaces",data:e})},async createWorkspace(e){return await Ot({url:"/create_workspace",data:e})},async checkCreateWorkspace(){return await Ot({url:"check_create_workspace"})},async getWorkspaceMember(e){return await Ot({url:"/get_member",data:e})},async getAllWorkspaceMember(e){var t,r,a,n,i;let o,s=[];do{o=await Ot({url:"/get_member",data:{count:50,cursor:(null==(t=null==o?void 0:o.data)?void 0:t.next_cursor)||"0",workspace_id:e.workspace_id}}),null!=(a=null==(r=null==o?void 0:o.data)?void 0:r.member_list)&&a.length&&(s=(0,v.A)(s.concat(o.data.member_list),"uid"))}while(null!=(n=null==o?void 0:o.data)&&n.has_more);return{...o,data:{member_list:s,member_cnt:(null==(i=null==o?void 0:o.data)?void 0:i.member_cnt)||0}}},async mGetWorkspaceUserInfo(e){return await Ot({url:"/mget_workspace_user_info",data:e})},async quitWorkspace(e){return await Ot({url:"/quit_user",data:e})},async mGetWorkspaceInfo(e){return await Ot({url:"/mget_workspace_info",data:e})},async getWorkspaceInfoEverPhotoToken(e){return await Ot({url:"/get_ever_photo_token",data:e})},async getInvitationLink(e){return await Ot({url:"/get_invitation_link",data:e})},async setWorkspaceUser(e){return await Ot({url:"/set_user",data:e})},async removeWorkspaceUser(e){return await Ot({url:"/remove_user",data:e})},async updateUserInfo(e){return await Ot({url:"/update_user_info",data:e})},async updateWorkspaceInfo(e){return await Ot({url:"/update_workspace_info",data:e})},async joinWorkspace(e){return await Ot({url:"/join_workspace",data:e})},async getWorkspaceInfoByInvitationLink(e){return await Ot({url:"/get_workspace_info_by_invitation_link",data:e})},async mGetWorkspaceEverphotoUserInfo(e){return await Ot({url:"/mget_workspace_ever_photo_user_info",data:e})},async recentWorkspaceFileOpen(e,t){return await Ot({url:"/recent_file_list",data:e,params:{needCache:(null==t?void 0:t.needCache)??!0}})},async syncWorkspaceInfoFileOpen(e){return await Ot({url:"/sync_file_open_time",data:e})},async refreshUserWorkspaceInvitationLink(e){return await Ot({url:"/refresh_invitation_link",data:e})},async updateUserWorkspaceInvitationLinkStatus(e){return await Ot({url:"/update_invitation_link_status",data:e})},async workspaceDirectionalInvited(e){return await Ot({url:"/email_directional_invited_v2",data:e})},async getWorkspaceFileEditOwner(e){return await Ot({url:"/get_file_edit_owner",data:e})},async updateWorkspaceFileEditOwner(e){return await Ot({url:"/update_file_edit_owner",data:e})},async mgetWorkspaceFileOpenTime(e){return await Ot({url:"/mget_file_open_time",data:{...e,workspace_id:e.workspace_id||"0"}})},async getWorkspaceUploadLinkInfo(e){return await Ot({url:"/get_upload_link_info",data:e})},async syncWorkspaceFile(e){return await Ot({url:"/sync_file_everphoto",data:e})},async syncFileEverphotoState(e){return await Ot({url:"/sync_file_everphoto_state",data:e})},async workspaceSensitiveWord(e){return await Ot({url:"/sensitive_word",data:e})},async updateUserWorkspaceUploadLink(e){return await Ot({url:"/update_workspace_upload_link",data:e})},async getUserWorkspaceUploadLink(e){return await Ot({url:"/get_workspace_upload_link",data:e})},async getAllEverPhotoUser(){return await Ot({url:"get_all_everphoto_user"})},async notifyUploadLink(e){return await Ot({url:"upload_link_notify",data:e})},async getOnboardSample(e){return await Ot({url:"/list_onboard_sample",data:e})},async createOnboardDraft(e){return await Ot({url:"/create_onboard_draft",data:e})},async checkWorkspaceMember(e){const{data:t}=await Ot({url:"/member/check",data:{workspace_id:e}});return{isInWorkspace:t.is_in_workspace}},async joinSpace(e){var t,r,a,n,i,o;const s={join_workspace_type:e.joinWorkspaceType,invite_link_param:{invitation_link:null==(t=e.inviteLinkParam)?void 0:t.invitationLink,invite_from:null==(r=e.inviteLinkParam)?void 0:r.inviteFrom},application_param:{workspace_id:null==(a=e.applicationParam)?void 0:a.workspaceId,source_type:null==(n=e.applicationParam)?void 0:n.sourceType,reason:null==(i=e.applicationParam)?void 0:i.reason,file_id:null==(o=e.applicationParam)?void 0:o.fileId}},{data:c}=await Ot({url:"/join_workspace_with_apply",data:s});return{status:c.status,applicationId:c.application_id,workspaceInfo:c.workspace_info}},async dealApplication(e){return await Ot({url:"/applications/update",data:{id:e.id,status:e.status,workspace_id:e.workspaceId}})},async getApplicationList(e){var t;const{data:r}=await Ot({url:"/applications/list",data:{application_ids:e.applicationIds,need_detail:e.needDetail}});return{applications:null==(t=r.applications)?void 0:t.map((({has_approve_permission:e,application:t})=>({hasApprovePermission:e,application:{id:null==t?void 0:t.id,userId:null==t?void 0:t.user_id,workspaceId:null==t?void 0:t.workspace_id,status:null==t?void 0:t.status,reason:null==t?void 0:t.reason,userName:null==t?void 0:t.user_name,approverId:null==t?void 0:t.approver_id,approverName:null==t?void 0:t.approver_name,roleType:null==t?void 0:t.role_type,workspaceName:null==t?void 0:t.workspace_name,createdAt:null==t?void 0:t.created_at,timeoutAt:null==t?void 0:t.timeout_at}})))}},async getInvitationActivityStatus(e){return await Ot({url:"/get_invitation_activity_status",data:{id:e}})},async joinInvitationActivity(e){return await Ot({url:"/join_invitation_activity",data:{id:e}})}},Ht={baseURL:"/lv/v1",method:"POST",headers:{loc:Y.CHANNEL,lan:l.Ay.language||Y.LAN,pf:Y.APP_PF,appvr:Y.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Y.APP_SDK_VERSION},params:{}},Dt=Qe.createAxios(Ht);Dt.interceptors.request.use((e=>{const{pf:t,appvr:r,tdid:a}=Ht.headers;return Object.assign(e.headers,ut({url:`${e.baseURL}${e.url}`,pf:t,appvr:r,tdid:a})),e})),Dt.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)})),lt(Dt,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:()=>!0});const Ut={async getCareerQuestionnaire(){return Dt({url:"/persona/get_questionnaire",method:"POST"})},async submitCareerQuestionnaire(e){return Dt({url:"/persona/submit_questionnaire",method:"POST",data:e})}};function Ft(e){return e||Oe.error("getIDC-notRegion",new Error(`getIDC-notRegion-${e}`)),[de.US,de.BR].find((t=>t===e))?pe.VA:pe.GCP}const Mt=()=>{var e,t;const r=Ye(Le.UTM_SOURCE)||(null==(e=window.location.originParams)?void 0:e.utm_source),a=Ye("shop")||(null==(t=window.location.originParams)?void 0:t.shop)||"";return!("shopify"!==r||!a)},jt=["click"],Wt="report";Ae.GROUP,Ae.PAGE,Ae.INSTAGRAM,be.YouTube,be.YouTubeShorts;function Gt(){let e=!1,t=!1;const r=window.GATEWAY_INJECT_IS_FIRST_VISIT_PAGE;return typeof r<"u"&&(e="1"===r),t=e||!document.referrer.includes(location.hostname),{isFirstVisitPage:e,isSessionStartPage:t}}const Bt=(()=>{const e=typeof window<"u",t=t=>!!e&&window.matchMedia(t).matches;let r=t("(display-mode: standalone)");return()=>{const e=t("(display-mode: standalone)"),a=t("(display-mode: fullscreen)");return r=!!e||a&&r,r}})(),Vt=()=>{let e;if(Bt())e=!1;else if(typeof window<"u"){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("open_from_pwa"))||void 0}return!!e},Yt=()=>{let e="not_pwa";if(typeof window<"u"&&Bt()){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("pwa_from"))||"capcut"}return e};var zt=(e=>(e.SEO="SEO",e.Soical="Social",e.SEM="SEM",e.Paidads="Paidads",e.Referal="Referral",e.Direct="Direct",e.Product="product",e.CapCut="CapCut",e))(zt||{});const Xt={google:[/([^\/]+\.)?google(\.[^\/]+)(\/|$)/i],bing:[/([^\/]+\.)?bing\.com(\/|$)/i],yahoo:[/([^\/]+\.)?yahoo\.com(\/|$)/i],duckduckgo:[/([^\/]+\.)?duckduckgo\.com(\/|$)/i],yandex:[/([^\/]+\.)?yandex\.com(\/|$)/i],naver:[/([^\/]+\.)?naver\.com(\/|$)/i],facebook:[/([^\/]+\.)?facebook\.com(\/|$)/i,/([^\/]+\.)?fb\.com(\/|$)/i,/([^\/]+\.)?fb\.me(\/|$)/i],youtube:[/([^\/]+\.)?youtube\.com(\/|$)/i,/([^\/]+\.)?youtu\.be(\/|$)/i],twitter:[/([^\/]+\.)?twitter\.com(\/|$)/i,/([^\/]+\.)?t\.co(\/|$)/i],tiktok:[/([^\/]+\.)?tiktok\.com(\/|$)/i],instagram:[/([^\/]+\.)?instagram\.com(\/|$)/i,/([^\/]+\.)?instagr\.am(\/|$)/i],linkedin:[/([^\/]+\.)?linkedin\.com(\/|$)/i],survey:[/survey\.isnssdk\.com(\/|$)/i]},Kt={SEO:[...Xt.google,...Xt.bing,...Xt.yahoo,...Xt.duckduckgo,...Xt.yandex,...Xt.naver],Social:[...Xt.facebook,...Xt.youtube,...Xt.twitter,...Xt.tiktok,...Xt.instagram,...Xt.linkedin],product:[...Xt.survey]},qt=new Map(Object.keys(Kt).reduce(((e,t)=>(Kt[t].forEach((r=>{e.push([r,t])})),e)),[])),$t=new Map(Object.keys(Xt).reduce(((e,t)=>(Xt[t].forEach((r=>{e.push([r,t])})),e)),[]));function Jt(e){const t=[...$t.keys()].find((t=>t.test(e)));return $t.get(t)??e}function Qt(e){const t=[...qt.keys()].find((t=>t.test(e)));return qt.get(t)??function(e){try{const t=["capcut.com","capcut.net"],r=new URL(e.startsWith("http")?e:`https://${e}`);return t.find((e=>r.host.includes(e)))?"CapCut":"Referral"}catch{return"Referral"}}(e)}const Zt="capcut_locale";const er=e=>e.toLocaleLowerCase()==="es-LA".toLocaleLowerCase()?"es-ES":e;function tr(){const e=[{s:"windows",r:/Windows/},{s:"android",r:/Android/},{s:"CrOS",r:/CrOS/},{s:"linux",r:/(Linux|X11)/},{s:"ios",r:/(iPhone|iPad|iPod)/},{s:"macOrIpad",r:/Mac OS X/},{s:"mac",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}];let t="unknown";for(let r=0;r<e.length;r++){const a=e[r];if(a.r.test(window.navigator.userAgent)){t=a.s,"macOrIpad"===a.s&&(t="MacIntel"===window.navigator.platform&&"number"==typeof window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>1?"ios":"mac");break}}return t}function rr(){var e;try{const t=window.navigator.userAgent;return(null==(e=[{match:"Chrome",value:"Chrome"},{match:"Firefox",value:"Firefox"},{match:"Safari",value:"Safari"},{match:["MSIE","Trident"],value:"Microsoft Internet Explorer"},{match:"Lark",value:"Lark"},{match:"TTWebView",value:"TTWebView"},{match:"Edge",value:"Microsoft Edge"}].find((e=>("string"==typeof e.match&&(e.match=[e.match]),e.match.some((e=>t.includes(e)))))))?void 0:e.value)||""}catch{return""}}function ar(){try{let e="";return window.LV_WEB_VERSION?e=window.LV_WEB_VERSION:window.gfdatav1&&(e=window.gfdatav1.ver),e=e.split(".").filter(((e,t)=>1!==t)).join("."),e}catch{return""}}function nr(){try{return window._currentBranch||""}catch{return""}}function ir(e,t){const r="userTracking",{ccWebSlardar:a}=window;a&&("info"===t?a("sendLog",{content:e,extra:{type:r}}):a("captureException",e instanceof Error?e:{content:e},{script:r}))}function or(e,t){try{sessionStorage.setItem(e,t)}catch(r){ir(r,"error")}}function sr(e){try{return decodeURIComponent(e)}catch{return e}}function cr(e){const t=new URLSearchParams(e),r={};for(const[a,n]of t)r[a]=n;return r}const lr="_ut";var ur;class dr{constructor(){B(this,"hasInit",!1),B(this,"parsed",cr(location.search)),B(this,"referer",(null==(ur=document.referrer)?void 0:ur.replace(/http(s)*:\/\//i,""))??""),B(this,"isFirstVisitPage",!1),B(this,"isSessionStartPage",!1),B(this,"channel_from","unknown"),B(this,"channel_info",{}),B(this,"branch",nr()),B(this,"seoChannelMap",["google","coccoc","bing","yahoo","duckduckgo","yandex","naver"]),B(this,"capcutChannelMap",["capcut.com","capcut.net"]),B(this,"otherParams",{})}init(e={autoReport:!0}){return this.hasInit||(this.checkPageStatus(),this.initChannelLevel(),this.normalizeMedium(),e.autoReport&&this.reportPvImmediately(),this.hasInit=!0),Promise.resolve()}start(e={autoReport:!0}){this.init(e)}allowCookie(){this._setCookie(this.channel_info)}getServerInjectUT(){return typeof window<"u"&&window[lr]||null}checkPageStatus(){const{isFirstVisitPage:e,isSessionStartPage:t}=Gt();this.isSessionStartPage=t,this.isFirstVisitPage=e}initChannelLevel(){const e=this._parseUTMParams()??this._parseSEMParams(),t=function(t){try{return sessionStorage.getItem(t)}catch(e){return ir(e,"error"),null}}(lr),r=t?function(t){try{return JSON.parse(t)}catch(e){return ir(e,"error"),null}}(t):null,a=b.A.get(lr)??"";if(!e&&r)return void(this.channel_info=r);if(!e&&a&&this.referer.includes(location.hostname)){const e=cr(decodeURIComponent(a))||{},{source:t,medium:r,sub_source:n,content:i}=e;if((t||r||n||i)&&(this.channel_info=e,!this.hasException(this.channel_info)))return}if(this.getServerInjectUT()&&(this.channel_info={...this.getServerInjectUT()},this.channel_info.channel_from="ut",this.channel_info.session_start_url=location.href,!this.hasException(this.channel_info)))return void or(lr,JSON.stringify(this.channel_info));const n=this._getParamsNotByCookie();this.channel_info=n,this.channel_info.channel_from="local",this.channel_info.session_start_url=location.href,or(lr,JSON.stringify(this.channel_info))}reportPvImmediately(){!function(e){try{const t=[98,121,116,101,100,97,110,99,101].map((function(e){return String.fromCharCode(e)})).join("");let r="https://edit-api-va.capcut.com";window.__locationInfo?r=window.__locationInfo.domain.web_domain:/^\S+?\.bytedance\.net$/.test(window.location.host)&&(r=`https://capcut-web-va.${t}.net`);const a=new URL(`${r}/lv/v1/event/report`),i=e.getHeader();if(!i.web_id)throw new Error("no web_id");a.searchParams.append("is_pwa",i.is_pwa),a.searchParams.append("pwa_from",i.pwa_from),a.searchParams.append("open_from_pwa",i.open_from_pwa),a.searchParams.append("web_id",i.web_id),a.searchParams.append("event_name","user_page_view"),a.searchParams.append("os_name",i.os_name),a.searchParams.append("app_version",i.app_version),a.searchParams.append("is_first_visit_page",i.is_first_visit_page),a.searchParams.append("is_session_start_page",i.is_session_start_page),a.searchParams.append("browser",i.browser),a.searchParams.append("referrer",i.referrer),i.branch&&a.searchParams.append("branch",i.branch),b.A.get(Zt)&&a.searchParams.append(Zt,er(b.A.get(Zt)));const{channel:o}=e.getParams(),s=(0,I.A)(o,["session_start_url","channel_from"]);(0,E.A)(s)||a.searchParams.append("custom",JSON.stringify(s)),a.searchParams.append("seo_info",JSON.stringify((0,n.A)(o,["session_start_url","channel_from"]))),fetch(a.toString(),{referrerPolicy:"unsafe-url",credentials:"include"})}catch(t){window.ccWebSlardar&&window.ccWebSlardar("captureException",t,{script:"pv-report"})}}(this)}getParams(){const{medium:e,sub_source:t,source:r,campaign:a,content:n,term:i,channel_from:o,session_start_url:s,campaign_id:c}=this.channel_info,l={channel_level1:e||"",channel_level2:r||"",channel_level3:a||t||"",channel_level4:n||"",channel_from:o||"unknown",session_start_url:s||""};return c&&(l.campaign_id=c),i&&(l.keywords=i),this.branch&&(l.branch=this.branch),{...this.channel_info,channel:l,extraCommonParams:this.otherParams}}getHeader(){var e;const t=document.cookie.match(new RegExp("(^| )_tea_web_id=([^;]+)"));let r=window.GATEWAY_INJECTED_WEB_ID||"";return!r&&null!==t&&(r=t[2]),{is_pwa:Bt()?"1":"0",open_from_pwa:Vt()?"1":"0",pwa_from:Yt(),web_id:r,os_name:tr(),is_first_visit_page:this.isFirstVisitPage?"1":"0",is_session_start_page:this.isSessionStartPage?"1":"0",app_version:ar(),browser:rr(),referrer:document.referrer,branch:nr(),user_agent:(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)||""}}normalizeMedium(){var e;const t={tiktok_anchor:"Tiktok_anchor",product:"Product",referal:"Referral",soical:"Social",capcut:"CapCut"},r=null==(e=this.channel_info.medium)?void 0:e.toLowerCase();r&&Object.keys(t).includes(r)&&(this.channel_info.medium=t[r]),this.channel_info.medium=sr(this.channel_info.medium||""),this.channel_info.source=sr(this.channel_info.source||""),this.channel_info.sub_source=sr(this.channel_info.sub_source||""),this.channel_info.content=sr(this.channel_info.content||""),this.channel_info.term=sr(this.channel_info.term||""),this.channel_info.campaign=sr(this.channel_info.campaign||"")}_parseUTMParams(){const{utm_medium:e,utm_source:t,utm_campaign:r,utm_content:a,utm_term:n,keyword_name:i}=this.parsed;return e===zt.Paidads.toLocaleLowerCase()?this._parsePaidadsParams():e?{context:"UTM",medium:e||"Referral",source:t,campaign:r||"",content:a||"",term:n||i||"",campaign_id:""}:null}_parsePaidadsParams(){const{utm_medium:e,utm_source:t,pid:r,af_adset_id:a,af_c_id:n,keyword_name:i}=this.parsed;return e!==zt.Paidads.toLocaleLowerCase()?null:{context:"Paidads",medium:zt.Paidads,source:t,campaign:r||"",content:a||"",campaign_id:n||"",term:i||""}}_parseSEMParams(){const{gclid:e,msclkid:t,ad_platform_id:r,pid:a,af_adset_id:n,af_c_id:i,keyword_name:o}=this.parsed;if(!e&&!t)return null;return{context:"SEM",medium:zt.SEM,source:"string"==typeof r&&{googleadwords_int:"google",bingads_int:"bing"}[r]||r,campaign:a||"",content:n||"",campaign_id:i||"",term:o||""}}_parseReferer(){return this.referer?{context:"Referer",medium:Qt(this.referer),source:Jt(this.referer),campaign:"",campaign_id:"",term:""}:{context:"Referer",medium:zt.Direct,source:"enter_url",campaign:"",campaign_id:"",term:""}}_setCookie(e){b.A.set(lr,encodeURIComponent(Object.keys(e).reduce(((t,r)=>{const a=e[r];return a&&(t+=`${0===t.length?"":"&"}${r}=${a}`),t}),"")),{path:"/",sameSite:"Strict"})}_getParamsNotByCookie(){return this._parseUTMParams()??this._parseSEMParams()??this._parseReferer()}hasException(e){const t=[e.source&&e.medium===zt.CapCut&&this.seoChannelMap.includes(e.source),e.medium!==zt.CapCut&&["capcut.com","capcut.net"].some((t=>{var r;return null==(r=e.source)?void 0:r.includes(t)})),["tiktok_anchor","product"].includes(e.medium||"")].includes(!0);return t&&(ir(JSON.stringify({errorName:"hasException",channel:{...e}}),"info"),or(lr,""),b.A.set(lr,"")),t}}const pr=(()=>{let e=null;return()=>(e||(e=new dr),e)})(),_r={user_id:"",user_is_login:!1,user_is_subscribed:!1,user_is_new:!1},gr={isProd:!0,log:!1,userInfo:_r,isABDependenciesReady:!0},hr="TEA_STORE_TOKEN_RET",mr="TEA_STORE_WEB_INFO";class fr{constructor(){B(this,"isInited",!1),B(this,"isStarted",!1),B(this,"isABDependenciesReady",!0),B(this,"_web_id"),B(this,"_tea",y.A),B(this,"_reportWraperHandler"),B(this,"_startCallbacks",new Set),B(this,"options"),B(this,"cachedEvents",new Set),B(this,"cachedBeaconEvents",new Set),B(this,"cachedPredefinePageView"),B(this,"isSetWebId",!1),B(this,"currentPageHidden",!1),B(this,"awaitInitQueue",[]),B(this,"ABDependenciesReadyQueue",[]),He()&&document.addEventListener("visibilitychange",(()=>{this.currentPageHidden=document.hidden}))}get tea(){return this._tea}awaitForInit(){return this.isInited?void 0:new Promise((e=>{this.awaitInitQueue.push(e)}))}awaitForStart(){return this.isStarted?void 0:new Promise((e=>{this.addStartCallBack(e)}))}awaitABDependenciesReady(){return this.isABDependenciesReady?void 0:new Promise((e=>{this.ABDependenciesReadyQueue.push(e)}))}setABDependenciesReady(){this.isABDependenciesReady=!0,this.ABDependenciesReadyQueue.forEach((e=>{e()})),this.ABDependenciesReadyQueue=[]}init(e){var t;this.options=Object.assign({},gr,e),this._web_id=this.options.web_id,this.isABDependenciesReady=this.options.isABDependenciesReady,this._tea.init({disable_auto_pv:!0,disable_sdk_monitor:!0,app_id:Number(Y.APP_ID),channel:Y.CHANNEL,log:this.options.log,enable_ab_test:!0,ab_channel_domain:"https://vmweb-sg.byteoversea.com",disable_webid:!!this._web_id,enable_stay_duration:!(null==e||!e.enable_stay_duration),maxDuration:Number(null==e?void 0:e.maxDuration)||864e5,enable_debug:!(null==e||!e.enable_debug),autotrack:null!=e&&e.useAutoTrack?{custom:"tea",svg:!0}:void 0}),this.config({app_version:null!=e&&e.appVersion?`1.0.${null==e?void 0:e.appVersion.split(".").pop()}`:"",_staging_flag:this.options.isProd?0:1,web_id:this._web_id,user_agent:(null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent)||"",...this.options.userInfo}),this.clearInitQueue(),this.register()}async start(){if(!this.isInited&&!this.isStarted){const[e,t]=(()=>{const e=window.GATEWAY_INJECTED_WEB_ID,t="string"==typeof e&&!!e;return[t,t?e:void 0]})();e&&(this._web_id=t)}this.isStarted=!0,this.setABDependenciesReady(),this._tea.start(),await this.setWebIdToCustom(),this.execStartCallBacks(),this.sendCacheEvent()}async getABTestConfig(e,t){return await this.awaitForInit(),await this.awaitABDependenciesReady(),this.isStarted?new Promise((r=>{this._tea.getVar(e,t,(e=>{r(e)}))})):(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),Promise.resolve(t))}getABTestConfigSync(e,t,r){var a;return Promise.resolve().then((()=>this.awaitForInit())).then((()=>this.awaitABDependenciesReady())).then((()=>{this.isStarted||(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),null==r||r(t)),this._tea.getVar(e,t,(e=>{null==r||r(e)}))})),(null==(a=window._libra_abtest)?void 0:a[e])??t}async getABTestConfigSilent(e,t){return await this.awaitForInit(),await this.awaitABDependenciesReady(),this.isStarted?new Promise((r=>{this._tea.getAllVars((a=>{var n;r((null==(n=null==a?void 0:a[e])?void 0:n.val)??t)}))})):(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),Promise.resolve(t))}report(e,t,r){var a,n;!1===(null==r?void 0:r.hiddenPageReport)&&this.currentPageHidden?null!=(a=this.options)&&a.log&&console.info("Tea Repoter Reject:",`hiddenPageReport => ${null==r?void 0:r.hiddenPageReport}; currentPageHidden => ${this.currentPageHidden}`):this.isStarted&&this.isSetWebId?(null!=(n=this.options)&&n.log&&console.info("Tea Repoter:",e,t),this.tea.event(e,t)):this.cachedEvents.add({event:e,params:t})}reportBecon(e,t){var r;this.isStarted&&this.isSetWebId?(null!=(r=this.options)&&r.log&&console.info("Tea Repoter(becon):",e,t),this.tea.beconEvent(e,t)):this.cachedBeaconEvents.add({event:e,params:t})}reportPredefinePageView(e){var t;if(!this.isStarted||!this.isSetWebId)return void(this.cachedPredefinePageView=e);null!=(t=this.options)&&t.log&&console.info("Tea Repoter:",event,e);const{isFirstVisitPage:r,isSessionStartPage:a}=Gt();e.is_first_visit_page=r?"1":"0",e.is_session_start_page=a?"1":"0",this._tea.predefinePageView(e)}sendCacheEvent(){var e;if(this.cachedPredefinePageView&&this.reportPredefinePageView(this.cachedPredefinePageView),this.cachedEvents.size){for(const{event:e,params:t}of this.cachedEvents)this.report(e,t);this.cachedEvents.clear()}if(this.cachedBeaconEvents.size){for(const{event:t,params:r}of this.cachedBeaconEvents)null!=(e=this.options)&&e.log&&console.info("Tea Repoter(becon):",t,r),this.reportBecon(t,r);this.cachedBeaconEvents.clear()}}updateUserInfo(e){this.config({...e})}resetUserInfo(){this.config({..._r})}destroy(){this.unregister()}getToken(){if(void 0!==this._web_id)return Promise.resolve({web_id:this._web_id});const e=window.GATEWAY_INJECTED_WEB_ID;if(e)return Promise.resolve({web_id:e});const t=window[mr];if(void 0!==t)return Promise.resolve(t);return window[hr]||(window[hr]=new Promise((e=>{this._tea.getToken((t=>{null!=t&&t.web_id?window[mr]=t:window[hr]=void 0,e(t??{})}),2e3)})).catch((()=>(window[hr]=void 0,{}))),window[hr])}async setWebIdToCustom(){var e,t;const{web_id:r}=await this.getToken();r||Oe.error("reporter getToken not get web id",new Error,{content:"reporter getToken not get web id",level:"error"});const{custom:a}=(null==(e=this.getConfig())?void 0:e.header)??{};this.config({custom:{...a,user_agent:(null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent)||"",web_id:r}}),this.isSetWebId=!0}config(e){var t;this.fixEsLanguage(e);const{custom:r}=(null==(t=this.getConfig())?void 0:t.header)??{};this._tea.inited&&this._tea.config({...e,custom:{...r,...(null==e?void 0:e.custom)??{}}})}configUTParams(e){var t;const{custom:r}=(null==(t=this.getConfig())?void 0:t.header)??{},{campaign_id:a,term:n,channel:i,extraCommonParams:o}=e;this.config({custom:{...r,...i,...o,campaign_id:a,keywords:n||i.keywords}})}getConfig(e){try{return this._tea.getConfig(e)}catch{return{}}}async asyncGetConfig(e){const t=this.getConfig(e);return(0,E.A)(t)?(await Promise.race([this.awaitForInit(),this.awaitForStart()]),this.getConfig(e)):t}enableTTWid(){this.config({enable_ttwebid:!0})}addStartCallBack(e){this.isStarted?e(null):this._startCallbacks.add(e)}checkEnableReport(){return this.isStarted&&this.isSetWebId}execStartCallBacks(){this._startCallbacks.forEach((e=>{e(null)}))}clearInitQueue(){this.isInited=!0,this.awaitInitQueue.forEach((e=>{e()})),this.awaitInitQueue=[]}register(){jt.forEach((e=>{window.document.addEventListener(e,this._reportWraperHandler)}))}unregister(){jt.forEach((e=>{window.document.removeEventListener(e,this._reportWraperHandler)}))}reportWraperHandler(e){let t=0;const r=e.composedPath(),a=e.type;let n,i="",o="";for(n=r[t];n;){const{dataset:e}=n;if(e&&e[`${Wt}Events`])break;n=r[++t]}if(n){const{dataset:e}=n;i=JSON.parse((null==e?void 0:e[`${Wt}Events`])||""),o=JSON.parse((null==e?void 0:e[`${Wt}Params`])||"")}if(i){const e=i[a];let t="",r={};if("object"!=typeof e)throw new Error("report event error, please confirm events is obj");t=e.event??"",r=e.params??{},t&&this.report(t,{...o,...r})}}fixEsLanguage(e){var t,r;(null==(r=null==(t=null==e?void 0:e.custom)?void 0:t.lang)?void 0:r.toLocaleLowerCase())===Ie.Spanish.key.toLocaleLowerCase()&&(e.custom.lang=Te)}}const wr=(()=>{let e;return()=>(e||(e=new fr),e)})();class vr{constructor(){B(this,"cachedEvents",new Set)}start(){(function(){const e=void 0!==typeof window?window.gtag:void 0;"function"==typeof e&&e("consent","update",{analytics_storage:"granted"})})(),this.setGtag("accept_cookie"),this.sendCache()}report(e,t,r){e.checkEnableReport()||"function"!=typeof window.gtag?(this.cachedEvents.size>0&&this.sendCache(),this.setGtag(t,r)):this.cachedEvents.add({eventName:t,options:r})}sendCache(){this.cachedEvents.forEach((e=>{this.setGtag(e.eventName,null==e?void 0:e.options)})),this.cachedEvents.clear()}setGtag(e,t){!function(e,t,r){const a=void 0!==typeof window?window.gtag:void 0;"function"==typeof a&&a(e,t,r)}("event",e,t)}}const Er=(()=>{let e;return()=>(e||(e=new vr),e)})();var yr=(e=>(e[e.LoginIn=0]="LoginIn",e[e.SignUp=1]="SignUp",e[e.ForgetPwd=2]="ForgetPwd",e))(yr||{});class Cr{constructor(){B(this,"reporter",wr())}report(e){this.reporter.report("google_signin_popup_not_show",e)}}class Ar{constructor(){B(this,"reporter",wr())}report(e){this.reporter.report("account_restore_popup",e)}}class br{constructor(){B(this,"reporter",wr())}report(e){this.reporter.report("account_restore_status",e)}}const Ir={isUserLogin:!1,checkLoginStartTime:0,hasInjectUserInfo:!1};class kr{constructor(e){B(this,"startMarkName"),B(this,"endMarkName"),this.name=e,this.startMarkName=`${this.name}_START`,this.endMarkName=`${this.name}_END`}start(){performance.getEntriesByName(this.startMarkName).length<=0&&performance.mark(this.startMarkName)}end(){performance.getEntriesByName(this.endMarkName).length<=0&&(performance.mark(this.endMarkName),this.summarize())}summarize(){performance.measure(this.name,this.startMarkName,this.endMarkName)}getStartMark(){return performance.getEntriesByName(this.startMarkName)[0]}getEndMark(){return performance.getEntriesByName(this.endMarkName)[0]}toJSON(){const e=this.getStartMark(),t=this.getEndMark();if(e&&t){const r="timing"+(0,F.A)((0,U.A)(this.name));return{[`${r}Start`]:e.startTime,[`${r}End`]:t.startTime,[`${r}`]:t.startTime-e.startTime}}return null}}const Sr={starlingInit:new kr("STARLING_INIT"),entryInit:new kr("ENTRY_INIT"),appInit:new kr("APP_INIT"),userInit:new kr("USER_INIT"),everCloudWasmPrefetch:new kr("EVER_CLOUD_WASM_PREFETCH"),everCloudInit:new kr("EVER_CLOUD_INIT"),pageInit:new kr("PAGE_INIT"),teaInit:new kr("TEA_INIT"),headScriptExecution:new kr("HEAD_SCRIPT_EXECUTION"),bodyScriptExecution:new kr("BODY_SCRIPT_EXECUTION")};class Tr{constructor(e){B(this,"_sdk"),this._sdk=e}cancelUserCheck(){return this._sdk.request({url:"/passport/web/cancel/user_check/",method:"GET"})}cancelCheck(e){return this._sdk.cancel.checkIfPass(e)}cancelConfirm(e){return this._sdk.cancel.confirm(e)}}class Rr{constructor(e){B(this,"_sdk"),this._sdk=e}mobileSendCodeWithLogin(){return this._sdk.verify.sendCode({})}mobileValidateCodeWithLogin(e){return this._sdk.verify.validateMobile(e)}emailSendCodeWithLogin(){return this._sdk.verify.sendEmailCode({})}emailValidateCodeWithLogin(e){return this._sdk.verify.validateEmail(e)}thirdValidateCodeWithLogin(e){return this._sdk.request({url:"/passport/web/auth/authorize/",method:"POST",data:e})}pwdValidateCodeWithLogin(e){return this._sdk.request({url:"/passport/web/account/authorize/",method:"POST",data:e})}}var Pr=(e=>(e[e.REGISTER=1]="REGISTER",e[e.REGISTER_RETRY=2]="REGISTER_RETRY",e))(Pr||{});const Lr=Object.freeze(Object.defineProperty({__proto__:null,SEND_CODE_TYPE:Pr,default:class{constructor(e){B(this,"sdk"),B(this,"cancelPassportSdk"),B(this,"verifyPassportSdk");const t=new w.WebInterfaceSdk({...e,aid:Number(Y.APP_ID),scene:"normal",region:Y.CHANNEL,isOversea:!0,captchaHost:e.isBoe?"//boei18n-verify._____________/":"",language:l.Ay.language||Y.LAN});this.sdk=t,this.cancelPassportSdk=new Tr(t),this.verifyPassportSdk=new Rr(t)}async checkLogin(){return await this.sdk.login.checkLogin({})}async checkEmailHasRegister(e){return await this.sdk.extra.checkEmailRegistered({email:e})}async sendEmailCode(e,t,r=1){return await this.sdk.login.sendEmailCode({email:e,password:t,extra_params:{type:r}})}async emailRegister(e,t,r,a,n,i){return await this.sdk.login.emailRegister({email:e,password:t,code:r,extra_params:{birthday:a,force_user_region:n,biz_param:{invite_code:null==i?void 0:i.invitedCode}},ifLogin:!0})}async emailLogin(e,t){return await this.sdk.login.emailLogin({email:e,password:t})}async cancelLogin(e,t){return await this.sdk.request({url:"/passport/web/cancel/login",method:"POST",data:{token:e,restoreType:t}})}async sendForgetPwdEmailCode(e,t){return await this.sdk.verify.notLoginSendEmailCode({email:e,extra_params:{type:4,next:t}})}async validateForgetPwdCode(e,t){return await this.sdk.verify.notLoginValidateEmail({email:e,code:t,extra_params:{type:4}})}async resetForgetPwd(e,t){return await this.sdk.forgetPwd.resetPwdByEmailTicket({ticket:e,password:t})}getQRCode(e=""){return this.sdk.qrcodeLogin.getQrcode({next:e})}checkQrconnect(e){return this.sdk.qrcodeLogin.checkQrconnect(e)}signin(e=window.location.href){window.location.href=`${window.location.origin}${V.LOGIN.PATH}`}signinWithWindow(e,t){const r=(window.screen.height-30-600)/2,a=(window.screen.width-800)/2,n=`${location.origin}${V.PASSPORT_LOGIN.PATH}`,i=`${location.origin}${V.LOGIN_STATUS_SERVER.PATH}${null!=t&&t.isInvitePage?`?invite_code=${null==t?void 0:t.invitedCode}`:""}`;return window.open(`${n}?account_sdk_source=web&aid=${Y.APP_ID}&next=${encodeURIComponent(i)}&platform_app_id=${e}&use_local_host=1&action=undefined&scopes=email`,"name=login",`fullscreen=1,width=800,height=600,top=${r},left=${a}`)}signinWithCode(e){return this.sdk.login.authLogin(e)}scanLoginWithWindow(e="login",t={}){const r=(window.screen.height-30-513)/2,a=(window.screen.width-680)/2,n=`${location.origin}${V.SCAN_QR_CODE.PATH}${function(e){const t=new URLSearchParams;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];if(null!=a&&""!==a)if(Array.isArray(a))for(const e of a)null!=e&&""!==e&&t.append(r,e);else t.set(r,a)}return`?${t.toString()}`}({...t,scan_type:e})}`;return window.open(n,"name=login",`fullscreen=1,width=680,height=513,top=${r},left=${a}`)}signout(e=window.location.href){this.sdk.login.logout({next:e})}}},Symbol.toStringTag,{value:"Module"}));var Nr=(e=>(e[e.FILL_IN_BASE_INFO=0]="FILL_IN_BASE_INFO",e[e.ENTER_BIRTHDAY=1]="ENTER_BIRTHDAY",e[e.ENTER_VERIFICATION_CODE=2]="ENTER_VERIFICATION_CODE",e[e.FORGET_PWD_INFO=3]="FORGET_PWD_INFO",e))(Nr||{}),Or=(e=>(e[e.FillInEmail=0]="FillInEmail",e[e.ResendEmail=1]="ResendEmail",e[e.ResetPwd=2]="ResetPwd",e))(Or||{});const xr=60,Hr=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Dr=/^[\w ~!@#$%^&*()+,.:;=<>?/|\-[\]\\]{6,20}$/,Ur=(0,i.O)({id:"emailSignIn",initial:"signUp",context:{isBOE:!1,passport:()=>Promise.resolve(null),isNewSignupUser:!1,source:yr.SignUp,currentWindow:0,email:"",password:"",birthday:"",region:"",code:"",ticket:"",sendCodetype:Pr.REGISTER,resendEmailCodeCountDown:xr,emailHasRegisterCb:void 0,sendEmailCodeErrorCb:void 0,sendEmailCodeSuccessCb:void 0,verificationCodeErrorCb:void 0,registerErrorCb:void 0,loginErrorCb:void 0,pageEnterFrom:"",currentPage:""},entry:"start",states:{signUp:{entry:"saveSignUpType",initial:"fillInRegisterInfo",states:{fillInRegisterInfo:{entry:(0,o.kp)({currentWindow:0}),on:{NEXT:{target:"checkingEmailHasRegister",actions:["reportSignUpAction"]},SAVE_EMAIL:{actions:"saveEmail"},SAVE_PASSWORD:{actions:"savePassword"}}},checkingEmailHasRegister:{entry:"saveSignInInfo",invoke:{id:"fetchEmailNotRegister",src:"fetchEmailNotRegister",onDone:{target:"enterBirthday"},onError:{target:"fillInRegisterInfo"}}},enterBirthday:{entry:(0,o.kp)({currentWindow:1}),on:{CONFIRM_BIRTHDAY:{target:"sendingEmailCode",actions:["updateBirthday"]},RETURN_SIGN_IN:{target:"fillInRegisterInfo",actions:["clearBirthday"]}}},sendingEmailCode:{id:"sendingEmailCode",invoke:{id:"fetchSendEmailCode",src:"fetchSendEmailCode",onDone:{actions:["initCountDown"],target:"enterVerificationCode"},onError:{actions:"notifySendEmailCodeError"}},on:{BACK_TO_ENTER_CODE:"enterVerificationCode",BACK_TO_FILL_REGISTER_INFO:"fillInRegisterInfo"}},enterVerificationCode:{entry:(0,o.kp)({currentWindow:2}),initial:"countingDown",states:{countingDown:{invoke:{id:"execCountingDown",src:"execCountingDown"},on:{UPDATE_COUNT_DOWN:{actions:"updateCountDown"},COUNT_DOWN_ZERO:{target:"allowResendVerificationCode"}}},allowResendVerificationCode:{on:{RESEND:{target:"#sendingEmailCode"}}}},on:{CONFIRM_REGISTER:{target:"registering",actions:["reportComfirmAction"]},BACK_TO_LOGIN:{target:"fillInRegisterInfo"},BACK_TO_BIRTHDAY:{target:"enterBirthday"}}},registering:{invoke:{id:"fetchEmailCodeRegister",src:"fetchEmailCodeRegister",onDone:{actions:["notifySignSuccess","storeIsNewSignupUser"],target:"#signInSuccess"},onError:{actions:["notifyRegisterError",(0,o.T4)(((e,t)=>{var r,a;return{type:"SIGN_IN_FAIL",params:{source:yr.SignUp,type:"email",errorCode:null==(r=null==t?void 0:t.data)?void 0:r.errro_code,errorMsg:null==(a=null==t?void 0:t.data)?void 0:a.description}}}))],target:"enterVerificationCode"}}}}},signIn:{entry:"saveSignInType",initial:"fillInSignInInfo",states:{fillInSignInInfo:{entry:(0,o.kp)({currentWindow:0}),on:{CONFIRM_SIGN:{target:"signing",actions:["reportLoginAction"]},SAVE_EMAIL:{actions:"saveEmail"},RESTORE_ACCOUNT:{target:"restore"}}},signing:{entry:"saveSignInInfo",invoke:{id:"fetchEmailCodeLogin",src:"fetchEmailCodeLogin",onDone:{actions:["notifySignSuccess"],target:"#signInSuccess"},onError:{actions:["notifyLogInError",(0,o.T4)(((e,t)=>{var r,a,n;return{type:"SIGN_IN_FAIL",params:{source:yr.LoginIn,type:"email",errorCode:null==(r=null==t?void 0:t.data)?void 0:r.error_code,errorMsg:null==(a=null==t?void 0:t.data)?void 0:a.description,verifyTicket:null==(n=null==t?void 0:t.data)?void 0:n.verify_ticket}}}))],target:"fillInSignInInfo"}}},restore:{entry:"saveSignInInfo",invoke:{id:"fetchRestoreAccount",src:"fetchRestoreAccount",onDone:{actions:["notifySignSuccess"],target:"#signInSuccess"},onError:{actions:["notifyLogInError"],target:"fillInSignInInfo"}}}}},signInSuccess:{id:"signInSuccess",type:"final",entry:(0,o.T4)((e=>({type:"SIGN_IN_SUCCESS",params:{source:e.source,type:"email",isLoginNewUser:e.isNewSignupUser?1:0},extra:{isNewSignupUser:e.isNewSignupUser}})))},forgetPwd:{entry:"saveForgetType",initial:"idle",states:{idle:{on:{TO_SEND_RESET_EMAIL_INFO:{target:"fillInResetEmailInfo",actions:["reportFillInResetEmailInfo","initSendEmailInfo"]},TO_RESET_PASSWORD:{actions:"initResetEmailCodeErrorCb",target:"checkResetCode"},SAVE_PWD_CODE:{actions:["initSaveCodeAndEmail"]}}},fillInResetEmailInfo:{id:"fillInResetEmailInfo",on:{SEND_EMAIL:{actions:["reportSendEmail"],target:"checkingResetEmailHasRegister"},SAVE_EMAIL:{actions:["saveEmail"]},BACK_SIGN_IN:{actions:["reportBack"]},INIT_RESET_EMAIL_ERROR_CB:{actions:["initResetEmailErrorCb"]}}},checkingResetEmailHasRegister:{entry:"syncGetParentContext",id:"checkingResetEmailHasRegister",invoke:{id:"checkingResetEmailHasRegister",src:"fetchEmailRegister",onDone:{target:"sendResetEmailCode"},onError:{target:"fillInResetEmailInfo"}}},sendResetEmailCode:{id:"sendResetEmailCode",invoke:{id:"fetchSendResetEmailCode",src:"fetchSendResetEmailCode",onDone:{actions:["intoResendEmailProcess"],target:"resetTimeCounting"},onError:{target:"fillInResetEmailInfo"}}},resetTimeCounting:{initial:"countingDown",entry:"initCountDown",states:{countingDown:{invoke:{id:"execCountingDown",src:"execCountingDown"},on:{UPDATE_COUNT_DOWN:{actions:"updateCountDown"},COUNT_DOWN_ZERO:{target:"allowResendResetEmail"},BACK_SIGN_IN:{actions:["reportBack"]},TO_SEND_RESET_EMAIL_INFO:{target:"#fillInResetEmailInfo",actions:["reportFillInResetEmailInfo","initSendEmailInfo"]}}},allowResendResetEmail:{on:{RESEND:{actions:["reportResendEmail"],target:"#sendResetEmailCode"},BACK_SIGN_IN:{actions:["reportBack"]}}}},on:{BACK_SIGN_IN:{actions:["reportBack"]}}},checkResetCode:{invoke:{id:"checkResetCode",src:"checkResetCode",onDone:{target:"resetPassword",actions:["intoResetPwdProcess","saveTicket"]},onError:{actions:["cleanEmail","notifyCheckResetCodeError"]}}},resetPassword:{on:{CONFIRM_PASSWORD:{target:"sendConfirmReset"},BACK_SIGN_IN:{actions:["cleanEmail","reportBack"]},INIT_RESET_SUCCESS_CB:{actions:["initResestSuccessCb"]}}},sendConfirmReset:{invoke:{id:"execSendConfirmReset",src:"execSendConfirmReset",onDone:{target:"#signInSuccess",actions:["reportSendConfirmResetPwd","notifyResetSuccessCb"]},onError:{actions:"notifySendConfirmResetError"}}}}}},on:{CHECK_EMAIL_HAS_REGISTER:{actions:"checkEmailHasRegister"},MOBILE_TO_SIGN_IN:{target:"signIn",actions:["reportChangeToLoginPage","reportLoginPageShow"]},MOBILE_TO_SIGN_UP:{target:"signUp",actions:["reportChangeToSignUpPage","reportSignUpPageShow"]},MOBILE_TO_SIGN_IN_EMAIL:{target:"signIn"},MOBILE_TO_SIGN_UP_EMAIL:{target:"signUp"},TO_SIGN_IN:{target:"signIn",actions:["reportLoginPageShow"]},TO_SIGN_UP:{target:"signUp",actions:["reportSignUpPageShow"]},TO_FORGET_PWD:{target:"forgetPwd"},INIT_REGISTER_ERROR_CB:{actions:"initRegisterErrorCb"},INIT_LOGIN_ERROR_CB:{actions:"initLoginErrorCb"},INIT_SEND_CODE_ERROR_CB:{actions:"initSendEmailCodeErrorCb"},INIT_LOGIN_SUCCESS_CB:{actions:"initLoginSuccessCb"},INIT_EMAIL_SEND_PARAMS:{actions:"initEmailSendParams"},REPORT_SIGN_IN_ACTION:{actions:(0,o.T4)(((e,t)=>({type:"SIGN_IN_ACTION",params:{source:e.source,action:t.action}})))},CHANGE_CONTEXT:{actions:["changeContext"]}}},{actions:{start:()=>{},saveSignInType:(0,o.kp)({source:e=>yr.LoginIn}),saveSignUpType:(0,o.kp)({source:e=>yr.SignUp}),saveForgetType:(0,o.kp)({source:e=>yr.LoginIn,currentWindow:e=>3}),saveSignInInfo:(0,o.kp)({email:(e,t)=>{var r;return null==(r=t.email)?void 0:r.trim()},password:(e,t)=>t.password}),saveEmail:(0,o.kp)({email:(e,t)=>{var r;return null==(r=t.email)?void 0:r.trim()}}),savePassword:(0,o.kp)({password:(e,t)=>t.password}),saveStep:(0,o.kp)({step:(e,t)=>t.step}),saveTicket:(0,o.kp)({ticket:(e,t)=>t.data.ticket}),storeIsNewSignupUser:(0,o.kp)({isNewSignupUser:(e,t)=>!0}),initSaveCodeAndEmail:(0,o.kp)({code:(e,t)=>t.code,email:(e,t)=>{var r;return null==(r=t.email)?void 0:r.trim()}}),initRegisterErrorCb:(0,o.kp)({registerErrorCb:(e,t)=>t.func}),initLoginErrorCb:(0,o.kp)({loginErrorCb:(e,t)=>t.func}),initSendEmailCodeErrorCb:(0,o.kp)({sendEmailCodeErrorCb:(e,t)=>t.func}),initLoginSuccessCb:(0,o.kp)({loginSuccessCb:(e,t)=>t.func}),initResetEmailErrorCb:(0,o.kp)({sendResetEmailErrorCb:(e,t)=>t.func}),initResestSuccessCb:(0,o.kp)({sendResetSuccessCb:(e,t)=>t.func}),initResetEmailCodeErrorCb:(0,o.kp)({validateResetEmailCodeCb:(e,t)=>t.func}),initEmailSendParams:(0,o.kp)({pageEnterFrom:(e,t)=>t.pageEnterFrom,currentPage:(e,t)=>t.currentPage}),initSendEmailInfo:(0,o.kp)({step:e=>0}),notifyResetSuccessCb:e=>{var t;null==(t=e.sendResetSuccessCb)||t.call(e)},notifySendResetEmailCodeError:()=>{},notifySendEmailCodeError:(e,t)=>{var r;null==(r=e.sendEmailCodeErrorCb)||r.call(e,{data:new Error(t.data.error_code)})},notifySendEmailCodeSuccess:e=>{var t;null==(t=e.sendEmailCodeSuccessCb)||t.call(e)},initCountDown:(0,o.kp)({resendEmailCodeCountDown:()=>xr}),notifyVerificationCodeError:e=>{var t;null==(t=e.verificationCodeErrorCb)||t.call(e)},notifyLogInError:(e,t)=>{var r,a;null==(a=null==e?void 0:e.loginErrorCb)||a.call(e,{data:new Error(t.data.error_code)},null==(r=t.data)?void 0:r.token)},notifyRegisterError:(e,t)=>{var r;null==(r=null==e?void 0:e.registerErrorCb)||r.call(e,{data:new Error(t.data.error_code)})},notifySignSuccess:e=>{var t;null==(t=null==e?void 0:e.loginSuccessCb)||t.call(e)},notifyCheckResetCodeError:e=>{var t;null==(t=null==e?void 0:e.validateResetEmailCodeCb)||t.call(e)},updateCountDown:(0,o.kp)({resendEmailCodeCountDown:(e,t)=>t.data}),reportLoginPageShow:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.LoginIn,action:"show"}}),reportSignUpPageShow:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.SignUp,action:"show"}}),reportChangeToLoginPage:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.SignUp,action:"log_in"}}),reportChangeToSignUpPage:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.LoginIn,action:"sign_up"}}),changeContext:(0,o.kp)(((e,t)=>({...e,...t.context}))),reportLoginAction:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.LoginIn,action:"log_in"}}),reportSignUpAction:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.SignUp,action:"sign_up"}}),reportComfirmAction:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.SignUp,action:"confirm"}}),reportFillInResetEmailInfo:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.LoginIn,action:"forgot_password"}}),reportSendEmail:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.LoginIn,action:"confirm_email"}}),reportBack:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.LoginIn,action:"back"}}),reportResendEmail:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.LoginIn,action:"resend_email"}}),reportSendConfirmResetPwd:(0,o.T4)({type:"SIGN_IN_ACTION",params:{source:yr.LoginIn,action:"confirm_password"}}),syncGetParentContext:(0,o.T4)({type:"SYNC_CONTEXT"}),updateBirthday:(0,o.kp)({birthday:(e,t)=>t.value,region:(e,t)=>t.region}),clearBirthday:(0,o.kp)({birthday:()=>""}),cleanEmail:(0,o.kp)({email:()=>""}),intoResendEmailProcess:(0,o.kp)({step:e=>1}),intoResetPwdProcess:(0,o.kp)({step:e=>2}),checkEmailHasRegister:async({passport:e},t)=>{var r;const{email:a,checkEmailHasRegisterCb:n,onError:i}=t;null==(r=await e())||r.checkEmailHasRegister(a).then((e=>{if(void 0===(null==e?void 0:e.is_registered))throw new Error("checkEmailHasRegister error");null==n||n(!(null==e||!e.is_registered))})).catch((()=>{null==i||i()}))}},services:{fetchEmailNotRegister:async({passport:e,emailHasRegisterCb:t},r)=>{var a;return null==(a=await e())?void 0:a.checkEmailHasRegister(r.email).then((e=>{var a,n;if(0===(null==e?void 0:e.is_registered))return null==(a=null==r?void 0:r.emailNotRegisterCb)||a.call(r),!0;throw null==(n=null==r?void 0:r.emailHasRegisterCb)||n.call(r),null==t||t(),new Error}),(e=>{var t;throw null==(t=null==r?void 0:r.onError)||t.call(r,e),new Error}))},fetchEmailRegister:async({passport:e,emailHasRegisterCb:t},r)=>{var a;return null==(a=await e())?void 0:a.checkEmailHasRegister(r.email).then((e=>{var a,n;if(0===(null==e?void 0:e.is_registered))throw null==(a=null==r?void 0:r.emailNotRegisterCb)||a.call(r),new Error;return null==(n=null==r?void 0:r.emailHasRegisterCb)||n.call(r),null==t||t(),!0}),(e=>{var t;throw null==(t=null==r?void 0:r.onError)||t.call(r,e),new Error}))},fetchSendEmailCode:async({email:e,password:t,passport:r},a)=>{var n;return null==(n=await r())?void 0:n.sendEmailCode(e,t,null==a?void 0:a.code)},fetchEmailCodeRegister:async({email:e,password:t,birthday:r,region:a,passport:n,invitedCode:i},o)=>{var s;return null==(s=await n())?void 0:s.emailRegister(e,t,null==o?void 0:o.code,r,a,{invitedCode:i})},fetchEmailCodeLogin:async({email:e,password:t,passport:r})=>{var a;return null==(a=await r())?void 0:a.emailLogin(e,t)},fetchRestoreAccount:async({passport:e,currentPage:t},r)=>{var a;try{await(null==(a=await e())?void 0:a.cancelLogin(null==r?void 0:r.token,null==r?void 0:r.restoreType)),(new br).report({status:"success",current_page:t||"login"})}catch(n){throw(new br).report({status:"failed",current_page:t||"login",fail_reason:(null==n?void 0:n.description)??void 0}),new Error(n)}},execCountingDown:({resendEmailCodeCountDown:e})=>t=>{let r=e;if(0===r)return void t("COUNT_DOWN_ZERO");const a=setInterval((()=>{r--,t({type:"UPDATE_COUNT_DOWN",data:r}),0===r&&(clearInterval(a),t("COUNT_DOWN_ZERO"))}),1e3);return()=>{clearInterval(a)}},fetchSendResetEmailCode:async({email:e,passport:t,sendResetEmailErrorCb:r,pageEnterFrom:a,currentPage:n})=>{var i;const o=`${window.location.origin}${V.FORGET_PWD.PATH}?enter_from=${a??""}&current_page=${n??""}`;return null==(i=await t())?void 0:i.sendForgetPwdEmailCode(e,o).then((e=>e),(e=>{throw null==r||r(e),new Error}))},checkResetCode:async({email:e,code:t,passport:r})=>{var a;return null==(a=await r())?void 0:a.validateForgetPwdCode(e,t||"")},execSendConfirmReset:async({ticket:e,passport:t},r)=>{var a;return null==(a=await t())?void 0:a.resetForgetPwd(e,r.pwd)}}}),Fr=(0,i.O)({id:"LvTeamInviteMachine",context:{inviteLink:"",workspaceInfo:{inviter_nickname:"***",name:"***",inviter_avatar:""},errCode:void 0,joinWorkspaceSuccessCb:null,onError:null,reviewStatus:void 0},initial:"unknown",states:{unknown:{always:[{target:"loading",cond:"checkInviteLink"},{target:"error"}]},loading:{invoke:{id:"fetchWorkspaceInfo",src:"fetchWorkspaceInfo",onDone:{target:"hasInfo",actions:["saveWorkspaceInfo"]},onError:{actions:["saveErrCode","handleError"]}}},hasInfo:{},review:{},error:{},join:{invoke:{id:"joinWorkspace",src:"joinWorkspace",onDone:[{actions:["handleJoinWorkspaceSuccess"],cond:(e,t)=>t.data.status===tt.Passed||t.data.status===tt.JoinOtherWay},{target:"review",actions:["saveReviewStatus"],cond:(e,t)=>t.data.status===tt.Waiting||t.data.status===tt.Rejected}],onError:{actions:["saveErrCode","handleError"]}}}},on:{REFRESH:{actions:"resetInviteLink",target:"unknown"},JOIN_WORKSPACE:{target:"join"},TO_ERROR:{target:"error"}}},{services:{fetchWorkspaceInfo:async({inviteLink:e})=>{if(!e)return Promise.reject();const t=await xt.getWorkspaceInfoByInvitationLink({invitation_link:e}).then((e=>null==e?void 0:e.data));return null!=t&&t.workspace_info?t:Promise.reject()},joinWorkspace:async({inviteLink:e},{resolve:t})=>{if(!e)return Promise.reject();try{return await xt.joinSpace({inviteLinkParam:{invitationLink:e},joinWorkspaceType:et.InviteLink})}catch(r){return Promise.reject(r)}finally{null==t||t()}}},actions:{saveReviewStatus:(0,o.kp)({reviewStatus:(e,t)=>t.data.status}),saveWorkspaceInfo:(0,o.kp)(((e,t)=>{const{workspace_info:r}=t.data;return{workspaceInfo:{...r}}})),saveSpaceInfo:(0,o.kp)(((e,t)=>{const{workspaceInfo:r}=t.data;return{workspaceInfo:r}})),resetInviteLink:(0,o.kp)((({inviteLink:e},t)=>({inviteLink:t.newLink?t.newLink:e,joinWorkspaceSuccessCb:t.joinWorkspaceSuccessCb?t.joinWorkspaceSuccessCb:null,onError:t.onError}))),saveErrCode:(0,o.kp)(((e,t)=>{var r,a,n,i;return null!=(a=null==(r=null==t?void 0:t.data)?void 0:r.data)&&a.ret?{errCode:parseInt(null==(i=null==(n=null==t?void 0:t.data)?void 0:n.data)?void 0:i.ret,10)}:{errCode:Re}})),handleError:e=>{var t;return null==(t=e.onError)?void 0:t.call(e,e)},handleJoinWorkspaceSuccess:e=>{var t;return null==(t=e.joinWorkspaceSuccessCb)?void 0:t.call(e,e)}},guards:{checkInviteLink:e=>!(null==e||!e.inviteLink)}}),Mr=new class{constructor(){B(this,"reporter",wr())}reportSignIn(e){this.reporter.report("google_signin_popup",e)}},jr=new(P()),Wr=new Ar,Gr="sign";function Br(e){var t;const r=null==(t=window.googleOneTapLogMomentResults)?void 0:t.shift();if(null==r||!r.type)return;const a=r.duration?Math.round(r.duration):Math.round(window.performance.now());Mr.reportSignIn({action:r.type,current_page:e,duration:"show"===r.type?a:void 0})}function Vr(e){const t=null==window?void 0:window.googleNotificationNotDisplayReason;if(!t)return;const r=Math.round(window.performance.now());(new Cr).report({reason:t,current_page:e||"",duration:r}),Oe.log(t),window.googleNotificationNotDisplayReason=""}async function Yr(e,t,r=!1,a){var n;const i=null==(n=window.googleOneTapResults)?void 0:n.pop();if(i){Mr.reportSignIn({action:"signin",current_page:t,signin_type:"auto"===i.select_by?"auto":"user"});try{const t=await(await e()).signinWithCode({platform_app_id:r?se.Google:oe.Google,access_token_secret:i.credential});jr.emit(Gr,{status:Z.Success,extraData:{isNewSignupUser:!!t.new_user,isFromGoogleOneTap:!0,isGoogleOneTapAutoSelect:"auto"===i.select_by}})}catch(o){o.error_code===$.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_ACCOUNT_CANCEL&&(Wr.report({action:"show",current_page:t||"login"}),null==a||a({onOk:async()=>{var t;const r=await(null==(t=await e())?void 0:t.cancelLogin(null==o?void 0:o.token,1));jr.emit(Gr,{status:Z.Success,extraData:{isNewSignupUser:!(null==r||!r.new_user),isFromGoogleOneTap:!0,isGoogleOneTapAutoSelect:"auto"===i.select_by}})},currentPage:t||"login"}))}}}async function zr(e,t=!1,r,a){var n;const i=null==(n=window.SignInWithGoogleBtnResults)?void 0:n.pop();if(i)try{const r=await(await e()).signinWithCode({platform_app_id:t?se.Google:oe.Google,access_token_secret:i.credential});jr.emit(Gr,{status:Z.Success,extraData:{isNewSignupUser:!!r.new_user,isFromGoogleSignInBtn:!0}})}catch(o){o.error_code===$.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_ACCOUNT_CANCEL&&(Wr.report({action:"show",current_page:a||"login"}),null==r||r({onOk:async()=>{var t;const r=await(null==(t=await e())?void 0:t.cancelLogin(null==o?void 0:o.token,1));jr.emit(Gr,{status:Z.Success,extraData:{isNewSignupUser:!(null==r||!r.new_user),isFromGoogleSignInBtn:!0}})},currentPage:a||"login"}))}}const Xr=(0,i.O)({id:"ThirdPartSignInMachine",initial:"idle",context:{isBOE:!1,passport:()=>Promise.resolve(null),name:"",source:yr.LoginIn,showRestoreModal:void 0},invoke:{id:"listeningStateChange",src:"listeningStateChange"},entry:["invokeGoogleOneTapFunc","injectGoogleOneTapFunc","invokeSignInWithGoogleBtnFunc","injectSignInWithGoogleBtnFunc"],states:{idle:{},authorizing:{invoke:{id:"thirdPartAuth",src:"thirdPartAuth"}},success:{entry:["notifySignSuccess",(0,o.T4)((({name:e,source:t,authType:r,currentPage:a},n)=>{const{data:i}=n,o={isThirdparty:!0,source:t,type:e,isLoginNewUser:null!=i&&i.isNewSignupUser?1:0};return r===le.googleOneTab&&(o.pageEnterFrom="google",o.statusEnterFrom="google"),r===le.googleOneTabAutoSelect&&(o.pageEnterFrom="google_auto",o.statusEnterFrom="google_auto"),a&&(o.currentPage=a),{type:"SIGN_IN_SUCCESS",params:o,extra:i}}))]},fail:{entry:(0,o.T4)((({name:e,source:t,errorCode:r,errorMsg:a,authType:n,currentPage:i})=>{const o={source:t,type:e,errorCode:r,errorMsg:a};return n===le.googleOneTab&&(o.pageEnterFrom="google",o.statusEnterFrom="google"),n===le.googleOneTabAutoSelect&&(o.pageEnterFrom="google_auto",o.statusEnterFrom="google_auto"),i&&(o.currentPage=i),{type:"SIGN_IN_FAIL",params:o}}))}},on:{AUTH:{target:"authorizing",internal:!1,actions:["clearStatus","updateName","updateSource","updateAuthType","updateCurrentPage","updateScanCodeParams","setCallback"]},AUTH_SUCCESS:{target:"success",actions:["clearStatus"]},AUTH_FAIL:{target:"fail",actions:["clearStatus"]},UPDATE_ERROR:{actions:["updateError"]},REPORT_SIGN_IN_ACTION:{actions:(0,o.T4)(((e,t)=>({type:"SIGN_IN_ACTION",params:{source:t.source??e.source,action:t.action}})))},INVOKE_CALLBACK:{actions:["invokeCallback"]},CHANGE_CONTEXT:{actions:["changeContext"]},INIT_LOGIN_SUCCESS_CB:{actions:"initLoginSuccessCb"},UPDATE_GOOGLE_ONE_TAP:{actions:["updateGoogleOneTap"]},UPDATE_GOOGLE_SIGNIN_BTN:{actions:["updateGoogleSignInBtn"]}}},{services:{listeningStateChange:({showRestoreModal:e,passport:t,currentPage:r})=>a=>function(e){function t(t){if(t.key!==ee)return;const r=t.newValue;"string"==typeof r&&e(r)}function r(t){e(t.status,t.extraData)}return window.addEventListener("storage",t),jr.on(Gr,r),()=>{window.removeEventListener("storage",t),jr.off(Gr,r)}}(((n,i)=>{const o=ze.getString(re)??void 0,s=ze.getString(ae)??void 0,c=ze.getString(ne)??void 0;if(a({type:"INVOKE_CALLBACK",errorCode:o,errorMsg:s}),n===Z.Fail&&a({type:"UPDATE_ERROR",errorCode:o,errorMsg:s}),n===Z.Success){const e=ze.getJson(te);null!=i&&i.isFromGoogleOneTap&&a({type:"UPDATE_GOOGLE_ONE_TAP",data:{isGoogleOneTapAutoSelect:null==i?void 0:i.isGoogleOneTapAutoSelect}}),null!=i&&i.isFromGoogleSignInBtn&&a({type:"UPDATE_GOOGLE_SIGNIN_BTN"}),a({type:"AUTH_SUCCESS",data:i||e})}else c&&o&&parseInt(o)===$.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_ACCOUNT_CANCEL?(Wr.report({action:"show",current_page:r||"login"}),null==e||e({onOk:async()=>{var e;await(null==(e=await t())?void 0:e.cancelLogin(c,1).then((()=>{const e=ze.getJson(te);a({type:"AUTH_SUCCESS",data:i||e})})))},onCancel:()=>{a({type:"AUTH_FAIL"})},currentPage:r||"login"})):a({type:"AUTH_FAIL"})})),thirdPartAuth:async({isBOE:e,passport:t,isInvitePage:r,invitedCode:a,source:n,scanCodeParams:i},o)=>{const{platform:s}=o,c=await t(),l=new URL(window.location.href),u=s===oe.TikTok||e&&s===se.TikTok||s===oe.TikTokLive||e&&s===se.TikTokLive,d=s===oe.ScanCode||e&&s===se.ScanCode;u?function(e,t){const r=Math.random().toString(36).substring(2),a=(window.screen.height-30-600)/2,n=(window.screen.width-800)/2;ze.setString(ie,r);const i=new URLSearchParams;if(null!=t&&t.isInvitePage&&i.set("invite_code",(null==t?void 0:t.invitedCode)||""),null!=t&&t.isTTLive){const e=new URL(window.location.href);[Le.UTM_MEDIUM,Le.UTM_SOURCE,Le.OPEN_ID,Le.VID,"jump_action"].forEach((t=>{const r=e.searchParams.getAll(t);null!=r&&r.length&&r.forEach((e=>i.append(t,e)))}))}const o=JSON.stringify({csrfState:r,query:i.toString()}),s=`${location.origin}${V.TIKTOK_AUTH.PATH}/`,c=`https://www.tiktok.com/v2/auth/authorize?client_key=${e?"awexgwrczzlw45x2":"awgqf85tcl10dy2w"}&scope=${ce.TikTok}${null!=t&&t.isTTLive?`,${ce.TikTokLive}`:""}&response_type=code&redirect_uri=${encodeURIComponent(s)}&state=${encodeURIComponent(o)}`;null!=t&&t.isTTLive?window.open(c,"_self"):window.open(c,"name=login",`fullscreen=1,width=800,height=600,top=${a},left=${n}`)}(e,{isInvitePage:r,invitedCode:a,isTTLive:l.searchParams.get(Le.UTM_MEDIUM)===Ne.TIKTOK_LIVE}):d?null==c||c.scanLoginWithWindow(n===yr.LoginIn?"login":"sign_up",i):s&&(null==c||c.signinWithWindow(s,{isInvitePage:r,invitedCode:a}))}},actions:{clearStatus:()=>{ze.removeItem(ee),ze.removeItem(re),ze.removeItem(ae),ze.removeItem(ne),ze.removeItem(te),ze.removeItem(ie)},updateName:(0,o.kp)({name:(e,t)=>t.name}),updateSource:(0,o.kp)({source:(e,t)=>t.source}),updateAuthType:(0,o.kp)({authType:(e,t)=>t.authType}),updateCurrentPage:(0,o.kp)({currentPage:({currentPage:e},t)=>(null==t?void 0:t.currentPage)??e}),updateError:(0,o.kp)({errorCode:(e,t)=>t.errorCode,errorMsg:(e,t)=>t.errorMsg}),setCallback:(0,o.kp)({callback:(e,t)=>t.callback}),invokeCallback:(0,o.kp)((({callback:e},t)=>{const{errorCode:r,errorMsg:a}=t;return null==e||e({errorCode:r,errorMsg:a}),{callback:void 0}})),changeContext:(0,o.kp)(((e,t)=>({...e,...t.context}))),invokeGoogleOneTapFunc:({passport:e,isBOE:t,currentPage:r,showRestoreModal:a})=>{const n=window.googleOneTapLogMomentResults,i=(null==n?void 0:n.length)??0;for(let o=0;o<i;o++)Br(r);Vr(r||""),Yr(e,r,t,a)},injectGoogleOneTapFunc:({passport:e,isBOE:t,currentPage:r,showRestoreModal:a})=>{window.handleGoogleOneTapMoment=()=>{Br(r),Vr(r||"")},window.handleGoogleOneTapResult=()=>{Yr(e,r,t,a)}},invokeSignInWithGoogleBtnFunc:({passport:e,isBOE:t,showRestoreModal:r,currentPage:a})=>{zr(e,t,r,a)},injectSignInWithGoogleBtnFunc:({passport:e,isBOE:t,showRestoreModal:r,currentPage:a})=>{window.handleSignInWithGoogleBtnResult=()=>{zr(e,t,r,a)}},initLoginSuccessCb:(0,o.kp)({loginSuccessCb:(e,t)=>t.func}),notifySignSuccess:e=>{var t;const r=Ye("state"),a=Ye(Le.UTM_CAMPAIGN),n=(null==r?void 0:r.length)&&"googledrive"===a;null==(t=null==e?void 0:e.loginSuccessCb)||t.call(e,n?"google_drive":void 0)},updateGoogleOneTap:(0,o.kp)({source:e=>yr.LoginIn,authType:(e,t)=>{var r;return null!=(r=null==t?void 0:t.data)&&r.isGoogleOneTapAutoSelect?le.googleOneTabAutoSelect:le.googleOneTab},name:e=>"google"}),updateGoogleSignInBtn:(0,o.kp)({source:e=>yr.LoginIn,authType:e=>le.googleSignInBtn,name:e=>"google"}),updateScanCodeParams:(0,o.kp)({scanCodeParams:(e,t)=>t.scanCodeParams})}}),Kr=(0,i.O)({id:"LvAsyncFuncExec",initial:"execing",states:{execing:{invoke:{id:"invokeAsyncFunc",src:"invokeAsyncFunc",onDone:{target:"success",actions:"notifySuccess"},onError:{target:"fail",actions:"notifyError"}}},success:{type:"final"},fail:{type:"final"}}},{services:{invokeAsyncFunc:e=>e.task.func()},actions:{notifySuccess:(0,o.T4)(((e,t)=>({type:"EXEC_SUCCESS",id:e.id,data:t.data}))),notifyError:(0,o.T4)(((e,t)=>({type:"EXEC_FAIL",id:e.id,data:t.data})))}});let qr=0;const $r=(0,i.O)({id:"LvAsyncFuncExecs",context:{clearTaskInterval:3e3,deleteMorethan:2e3,taskActor:[]},initial:"idle",invoke:{id:"clearTaskInterval",src:"clearTaskInterval"},states:{idle:{},busy:{}},on:{ADD_TASK:{actions:"addExecTask"},EXEC_SUCCESS:{actions:["notifyExecSuccess","markClearActor"]},EXEC_FAIL:{actions:["notifyExecFail","markClearActor"]},CLEAR_DELTE_TASK:{actions:"clearActor"}}},{services:{clearTaskInterval:e=>t=>{const r=setInterval((()=>{t({type:"CLEAR_DELTE_TASK"})}),e.clearTaskInterval);return()=>{clearInterval(r)}}},actions:{addExecTask:(0,o.kp)({taskActor:(e,t)=>{const r=[...e.taskActor],a=qr++;return r.push({id:a,successType:t.successType,failType:t.failType,extInfo:t.extInfo,deleteAt:void 0,actor:(0,s.cH)(Kr.withContext({id:a,task:{func:t.exec}}))}),r}}),notifyExecSuccess:(0,o.T4)(((e,t)=>{const r=e.taskActor.find((e=>e.id===t.id));if(!r)throw new Error("\u67e5\u65e0\u5bf9\u5e94\u4efb\u52a1");return{type:r.successType,data:t.data,extInfo:r.extInfo}})),notifyExecFail:(0,o.T4)(((e,t)=>{const r=e.taskActor.find((e=>e.id===t.id));if(!r)throw new Error("\u67e5\u65e0\u5bf9\u5e94\u4efb\u52a1");return{type:r.failType,data:t.data,extInfo:r.extInfo}})),markClearActor:(0,o.kp)(((e,t)=>{var r,a;const n=e.taskActor.find((e=>e.id===t.id));return n&&(null==(a=null==(r=n.actor)?void 0:r.stop)||a.call(r),n.deleteAt=Date.now()),{taskActor:e.taskActor.slice()}})),clearActor:(0,o.kp)({taskActor:e=>{const t=Date.now();return e.taskActor.filter((r=>!r.deleteAt||t-r.deleteAt<e.deleteMorethan))}})}}),Jr=(0,i.O)({id:"LvUserInviteMachine",context:{isInvitePage:!1,invitedCode:"",inviteDetail:{}},initial:"unknow",states:{unknow:{invoke:{id:"fetchInviteInfo",src:"fetchInviteInfo",onDone:[{target:"ready",actions:["saveInviteDetail"]}],onError:[{target:"error"}]}},ready:{type:"final"},error:{type:"final"}}},{services:{async fetchInviteInfo({isInvitePage:e,invitedCode:t}){if(!t||!e)throw new Error("no invite code");const r=await Pt.getInviteInfo({invite_code:t});return{inviterName:r.data.inviter_name,invitedSpaceCap:r.data.invited_space_cap,invitedSpaceTime:r.data.invited_space_time,rewardType:r.data.reward_type,inviterImg:r.data.inviter_img}}},actions:{saveInviteDetail:(0,o.kp)({inviteDetail:({inviteDetail:e},t)=>({...e,...t.data})})}}),Qr=(0,i.O)({id:"userCareer",initial:"checkingCareer",context:{userInfo:void 0,noCareerCb:()=>null,userFinishCareerCb:()=>{},shouldShowCareerModal:!1,questionList:[],answers:[],questionCount:0,question:{},answer:[],modal:null,alreadyShowModal:!1,chooseProfessionShowReporter:new class{constructor(){B(this,"reporter",wr())}report(e){this.reporter.report("choose_profession_show",e)}},chooseProfessionConfirmReporter:new class{constructor(){B(this,"reporter",wr())}report(e){this.reporter.report("choose_profession_confirm",e)}},reporterParams:{}},states:{checkingCareer:{id:"checkingCareer",invoke:{id:"checkCareer",src:"checkCareer",onDone:"hasCareer",onError:"noCareer"}},noCareer:{initial:"fetching",states:{fetching:{invoke:{id:"fetchQuestionnaire",src:"fetchQuestionnaire",onDone:{target:"answering",actions:["updateQuestionList","updateQuestion"]},onError:{target:"unknownError"}}},answering:{invoke:{id:"showCareerModal",src:"showCareerModal",onDone:{actions:["updateModal","reportQuestionShow","setAlreadyShowModal"],cond:"isNotShowModal"}},on:{CHECK:{actions:["checkAnswer","reportCheck"]},BACK:{actions:["popAnswer","reportBack","updateQuestion","reportQuestionShow"]},NEXT:{actions:["pushAnswer","reportNext","updateQuestion","reportQuestionShow"]},SUBMIT:{target:"submitting",actions:["setOnSubmitError","reportSubmit","reportChooseCareer"]},INPUT:{actions:["inputAnswer"]},SKIP:{target:"skipped",actions:["setOnSkipError","reportSkip"]}}},submitting:{invoke:{id:"submit",src:"submit",onDone:{target:"#userCareer.hasCareer",actions:["updateCareer","notifyUserCareer","triggerUserFinishCareerCb"]},onError:{target:"answering",actions:["handleSubmitError"]}}},unknownError:{},skipped:{entry:["notifyUserCareerSkipped"],invoke:{id:"skip",src:"skip",onDone:{target:"#userCareer.hasCareer",actions:["updateSkippedCareer","notifyUserCareer"]},onError:{actions:["handleSkipError"]}}}}},hasCareer:{type:"final",entry:["stopEmailSignInActor"]}},on:{SET_NO_CAREER_CB:{actions:["setNoCareerCb"]}}},{services:{async checkCareer({shouldShowCareerModal:e,userInfo:t}){if((null==t||!t.career)&&e)throw new Error("no career")},async showCareerModal(e){var t;if(!e.alreadyShowModal)return null==(t=e.noCareerCb)?void 0:t.call(e)},async fetchQuestionnaire(){return Ut.getCareerQuestionnaire()},async submit({answers:e,question:t,answer:r,modal:a}){const n=e.map((e=>({key:e.key,title:e.title,answer_list:e.answer_list.map((t=>({key:t.key,text:"q2a8"===t.key?t.text+e.other_input:t.text,text_starling:t.text_starling})))})));return n.push({key:t.key,title:t.title,answer_list:t.answer_list.filter((e=>r.find((t=>t===e.key)))).map((e=>({key:e.key,text:e.text,text_starling:e.text_starling})))}),null==a||a.close(),Ut.submitCareerQuestionnaire({question_list:n})},async skip({answers:e,modal:t}){null==t||t.close();const r=e.map((e=>({key:e.key,title:e.title,answer_list:e.answer_list.map((e=>({key:e.key,text:e.text,text_starling:e.text_starling})))})));return Ut.submitCareerQuestionnaire({question_list:0===r.length?null:r})}},actions:{setNoCareerCb:(0,o.kp)({noCareerCb:(e,t)=>t.callback}),updateCareer:(0,o.kp)({userInfo:({answers:e,userInfo:t})=>{var r,a,n;return{...t,career:null==(n=null==(a=null==(r=null==e?void 0:e[0])?void 0:r.answer_list)?void 0:a[0])?void 0:n.text_starling}}}),updateSkippedCareer:(0,o.kp)({userInfo:({answers:e,userInfo:t})=>{var r,a,n;return{...t,career:(null==(n=null==(a=null==(r=null==e?void 0:e[0])?void 0:r.answer_list)?void 0:a[0])?void 0:n.text_starling)??"skip"}}}),notifyUserCareer:(0,o.T4)((e=>{var t;return{type:"UPDATE_USER_CAREER",userInfo:{career:null==(t=e.userInfo)?void 0:t.career}}})),triggerUserFinishCareerCb:({userFinishCareerCb:e})=>null==e?void 0:e(),notifyUserCareerSkipped:(0,o.T4)((()=>({type:"UPDATE_USER_CAREER_SKIPPED",skipped:!0}))),updateQuestionList:(0,o.kp)({questionList:(e,t)=>t.data.question_list,questionCount:(e,t)=>t.data.question_count}),updateQuestion:(0,o.kp)({question:({questionList:e,answers:t})=>{const r=t.reduce(((e,t)=>(t.answer_list.forEach((t=>{e.add(t.key)})),e)),new Set);return e.find((e=>{var a,n,i,o,s,c,l;const u="or"===(null==(n=null==(a=e.depend_on)?void 0:a[0])?void 0:n.type)?null==(o=null==(i=e.depend_on)?void 0:i[0])?void 0:o.answer_list.some((e=>r.has(e))):null==(c=null==(s=e.depend_on)?void 0:s[0])?void 0:c.answer_list.every((e=>r.has(e)));return e.position===t.length+1&&(null==(l=e.depend_on)||!l.length||u)}))}}),checkAnswer:(0,o.kp)({answer:({question:e,answer:t},r)=>{const{key:a}=r;return"single"===e.type?t.find((e=>e===a))?[]:[a]:t.find((e=>e===a))?t.filter((e=>e!==a)):[...t,a]}}),inputAnswer:(0,o.kp)({question:({question:e},t)=>{const{value:r}=t;return e.other_input=r,e}}),popAnswer:(0,o.kp)({answers:({answers:e})=>{const t=[...e];return t.pop(),t},answer:e=>[]}),pushAnswer:(0,o.kp)({answers:({question:e,answers:t,answer:r})=>[...t,{...e,answer_list:e.answer_list.filter((e=>r.find((t=>t===e.key))))}],answer:e=>[]}),updateModal:(0,o.kp)({modal:(e,t)=>t.data}),setAlreadyShowModal:(0,o.kp)({alreadyShowModal:e=>!0}),setOnSubmitError:(0,o.kp)({onSubmitError:(e,t)=>t.onError}),setOnSkipError:(0,o.kp)({onSkipError:(e,t)=>t.onError}),handleSubmitError:({onSubmitError:e})=>{null==e||e()},handleSkipError:({onSkipError:e})=>{null==e||e()},reportChooseCareer:({userInfo:e,question:t,answers:r,answer:a,chooseProfessionConfirmReporter:n,reporterParams:i})=>{var o,s,c,l,u,d;const p=null!=e&&e.uid?parseInt(e.uid.slice(-2)):null,_=!p||p>20;null==n||n.report({current_page:(null==i?void 0:i.currentPage)??"",role:(null==(c=null==(s=null==(o=r.find((e=>"role"===e.question_type)))?void 0:o.answer_list)?void 0:s[0])?void 0:c.text_starling)??"",target:(null==(d=null==(u=null==(l=r.find((e=>"target"===e.question_type)))?void 0:l.answer_list)?void 0:u.map((e=>e.text_starling)))?void 0:d.join(","))??"",preference:t.answer_list.filter((e=>a.find((t=>t===e.key)))).map((e=>e.text_starling)).join(",")??"",type:"confirm",is_mapping_test:_?"0":"1"})},reportQuestionShow:({question:e,chooseProfessionShowReporter:t,reporterParams:r})=>{null==t||t.report({current_page:(null==r?void 0:r.currentPage)??"",popup_type:e.question_type,action:"show"})},reportBack:e=>{const{question:t,chooseProfessionShowReporter:r,reporterParams:a}=e;null==r||r.report({current_page:(null==a?void 0:a.currentPage)??"",popup_type:t.question_type,action:"back"})},reportNext:e=>{const{question:t,chooseProfessionShowReporter:r,reporterParams:a}=e;null==r||r.report({current_page:(null==a?void 0:a.currentPage)??"",popup_type:t.question_type,action:"next"})},reportSubmit:({question:e,chooseProfessionShowReporter:t,reporterParams:r})=>{null==t||t.report({current_page:(null==r?void 0:r.currentPage)??"",popup_type:e.question_type,action:"submit"})},reportCheck:({question:e,chooseProfessionShowReporter:t,reporterParams:r},a)=>{null==t||t.report({current_page:(null==r?void 0:r.currentPage)??"",popup_type:e.question_type,action:a.text})},reportSkip:({question:e,answers:t,chooseProfessionShowReporter:r,chooseProfessionConfirmReporter:a,reporterParams:n})=>{var i,o,s,c,l,u;null==r||r.report({current_page:(null==n?void 0:n.currentPage)??"",popup_type:e.question_type,action:"skip"}),null==a||a.report({current_page:(null==n?void 0:n.currentPage)??"",role:(null==(s=null==(o=null==(i=t.find((e=>"role"===e.question_type)))?void 0:i.answer_list)?void 0:o[0])?void 0:s.text_starling)??"skip",target:(null==(u=null==(l=null==(c=t.find((e=>"target"===e.question_type)))?void 0:c.answer_list)?void 0:l.map((e=>e.text_starling)))?void 0:u.join(","))??"skip",preference:"skip",type:"skip"})}},guards:{isNotShowModal:({alreadyShowModal:e})=>!e}});let Zr={};const ea=(0,i.O)({id:"userWorkspace",initial:"unknown",context:{asyncFuncExecsRef:void 0,userInfo:void 0,getWorkspaceListSuccess:!1,workspaceList:[],currentWorkspaceInfo:void 0,workspaceExpandInfoMap:{},changeWorkspaceEventCache:"",updateWorkspaceEventCache:[],initWorkspaceCb:()=>{},changeWorkspaceCb:()=>{},initUserAndWorkspaceCb:()=>{},storageChangeWorkspaceCb:()=>{},refreshWorkspaceListCb:()=>{},beforeChangeWorkspaceCb:()=>Promise.resolve(),updateWorkspaceErrorCb:()=>{}},entry:["initAsyncFuncExecRef","notifyInitUserAndWorkspaceCb"],states:{unknown:{always:[{target:"gettingWorkspaceInfo"}]},gettingWorkspaceInfo:{id:"gettingWorkspaceInfo",invoke:{id:"fetchWorkspaceList",src:"fetchWorkspaceList",onDone:[{target:"hasWorkspaceInfo",actions:["updateWorkspaceList","initCurrentWorkspace","fetchWorkspaceListSuccess","notifyInitCurrentWorkspace","updateGetWorkspaceListSuccess","notifyInitUserAndWorkspaceCb","notifyRefreshWorkspace","consumeUpdateWorkspaceEventCache","notifyWorkspaceDataChange"],cond:"hasNotInitWorkspaceInfo"},{target:"hasWorkspaceInfo",actions:["updateWorkspaceList","updateCurrentWorkspace","fetchWorkspaceListSuccess","notifyRefreshWorkspace","consumeUpdateWorkspaceEventCache","notifyWorkspaceDataChange"],cond:"hasInitWorkspaceInfo"}],onError:{actions:["fetchWorkspaceListFail"],target:"noWorkspaceInfo"}}},hasWorkspaceInfo:{tags:["finished"]},noWorkspaceInfo:{tags:["finished"]}},on:{CHANGE_CONTEXT:{actions:["changeContext"]},REFRESH_WORKSPACE_LIST:{target:"#gettingWorkspaceInfo"},CHANGE_WORKSPACE:{actions:["checkChangeWorkspace"]},CHANGE_WORKSPACE_AFTER_CHECKING:{actions:["changeWorkspace","notifyChangeWorkspace","notifyWorkspaceDataChange"]},CHANGE_WORKSPACE_ERROR:{actions:["changeWorkspaceError"]},STORAGE_CHANGE_WORKSPACE:{actions:["storageChangeWorkspace"]},UPDATE_WORKSPACE:{actions:["fetchSpecificWorkspaceInfo"]},FETCH_SPECIFIC_WORKSPACE_DONE:{actions:["updateSpecificWorkspaceInfo","notifyWorkspaceDataChange","notifyRefreshWorkspace"]},FETCH_SPECIFIC_WORKSPACE_ERROR:{actions:["updateSpecificWorkspaceInfoError"]},NOTIFY_WORKSPACE_CHANGE:[{target:"#gettingWorkspaceInfo",cond:"notifyLeaveWorkspace"},{actions:["roleChange","notifyWorkspaceDataChange","notifyRefreshWorkspace"],cond:"notifyRoleChange"},{target:"#gettingWorkspaceInfo",cond:"notifyNewMember"}]}},{services:{async fetchWorkspaceList(e,t){let r=[];const a=function(){try{const e=typeof __userWorkspaces<"u"?JSON.parse(__userWorkspaces):void 0;return e&&"0"===e.ret?e.data:void 0}catch{return}}(),n=async e=>{const{data:t}=await xt.getUserWorkSpace({cursor:e,count:100,need_convert_workspace:!0});r=[...r,...t.workspace_infos],t.has_more&&await n(t.next_cursor)};return"REFRESH_WORKSPACE_LIST"!==t.type&&a&&(0,L.A)(null==a?void 0:a.workspace_infos)?(r=[...a.workspace_infos],null!=a&&a.has_more&&await n(null==a?void 0:a.next_cursor)):await n("0"),"REFRESH_WORKSPACE_LIST"===t.type&&t.callback?{workspaceList:null==r?void 0:r.map((e=>({...e,dcName:Ft(e.region)}))),callback:t.callback}:{workspaceList:null==r?void 0:r.map((e=>({...e,dcName:Ft(e.region)})))}}},actions:{changeContext:(0,o.kp)(((e,t)=>({...e,...t.context}))),initAsyncFuncExecRef:(0,o.kp)({asyncFuncExecsRef:()=>(0,s.cH)($r)}),updateWorkspaceList:(0,o.kp)({workspaceList:(e,t)=>t.data.workspaceList}),checkChangeWorkspace:(0,o.tN)(((e,{data:t})=>({type:"ADD_TASK",exec:async()=>(await e.beforeChangeWorkspaceCb(),t),successType:"CHANGE_WORKSPACE_AFTER_CHECKING",failType:"CHANGE_WORKSPACE_ERROR"})),{to:e=>e.asyncFuncExecsRef}),initCurrentWorkspace:(0,o.kp)((e=>{var t,r;let a;return a=e.changeWorkspaceEventCache?null==(t=null==e?void 0:e.workspaceList)?void 0:t.find((t=>t.workspace_id===e.changeWorkspaceEventCache)):null==(r=null==e?void 0:e.workspaceList)?void 0:r.find((t=>{var r,a,n,i;return t.workspace_id===((null==(a=null==(r=e.userInfo)?void 0:r.defaultSpaceInfo)?void 0:a.workspaceId)||(null==(i=null==(n=e.userInfo)?void 0:n.spaceInfo)?void 0:i.workspaceId))})),{currentWorkspaceInfo:a,changeWorkspaceEventCache:""}})),fetchWorkspaceListSuccess:(e,t)=>{var r,a;null==(a=null==(r=t.data)?void 0:r.callback)||a.call(r)},notifyInitCurrentWorkspace:e=>{e.currentWorkspaceInfo&&e.initWorkspaceCb(e.currentWorkspaceInfo)},updateGetWorkspaceListSuccess:(0,o.kp)({getWorkspaceListSuccess:()=>!0}),notifyInitUserAndWorkspaceCb:e=>{var t;e.getWorkspaceListSuccess&&(null==(t=null==e?void 0:e.initUserAndWorkspaceCb)||t.call(e,{userInfo:e.userInfo,workspaceList:e.workspaceList}))},notifyRefreshWorkspace:e=>{var t;null!=e&&e.workspaceList&&(null==(t=null==e?void 0:e.refreshWorkspaceListCb)||t.call(e,e.workspaceList,e))},notifyWorkspaceDataChange:(0,o.T4)((e=>({type:"UPDATE_WORKSPACE_DATA_FROM_CHILD",workspaceList:e.workspaceList,currentWorkspaceInfo:e.currentWorkspaceInfo,workspaceExpandInfoMap:e.workspaceExpandInfoMap}))),consumeUpdateWorkspaceEventCache:c.LM((e=>{let t=[];return Array.isArray(e.updateWorkspaceEventCache)&&(t=e.updateWorkspaceEventCache.map((e=>(0,o.tN)({type:"UPDATE_WORKSPACE",workspaceId:e}))),t.push((0,o.kp)({updateWorkspaceEventCache:[]}))),t})),updateCurrentWorkspace:(0,o.kp)((e=>{var t,r;const a=null==(t=e.currentWorkspaceInfo)?void 0:t.workspace_id;return{currentWorkspaceInfo:null==(r=null==e?void 0:e.workspaceList)?void 0:r.find((e=>e.workspace_id===a))}})),changeWorkspace:(0,o.kp)(((e,{data:t,extInfo:r})=>{var a,n,i;return(null==(a=e.currentWorkspaceInfo)?void 0:a.workspace_id)===t.workspace_id?{}:{currentWorkspaceInfo:null==(n=null==e?void 0:e.workspaceList)?void 0:n.find((e=>e.workspace_id===t.workspace_id)),workspace_enter_from:null==(i=null==r?void 0:r.data)?void 0:i.workspace_enter_from}})),notifyChangeWorkspace:e=>{var t;e.currentWorkspaceInfo&&(null==(t=e.changeWorkspaceCb)||t.call(e,e.currentWorkspaceInfo,{userInfo:e.userInfo}))},changeWorkspaceError(){console.error("stop changing workspace!")},storageChangeWorkspace(e,{data:t}){e.storageChangeWorkspaceCb(t.workspace_id)},fetchSpecificWorkspaceInfo:(0,o.tN)(((e,{workspaceId:t})=>({type:"ADD_TASK",exec:async()=>{const[e,{data:r}]=await Promise.all([wt.getSpaceList(t),xt.mGetWorkspaceInfo({workspace_ids:[t]})]);Zr={...Zr,[t]:e};const a=r.workspace_infos[0];return{workspace_id:t,workspace_info:{...a,dcName:Ft(a.region)},workspaceExpandInfoMap:{...Zr}}},successType:"FETCH_SPECIFIC_WORKSPACE_DONE",failType:"FETCH_SPECIFIC_WORKSPACE_ERROR"})),{to:e=>e.asyncFuncExecsRef}),updateSpecificWorkspaceInfo:(0,o.kp)({workspaceList:(e,t)=>{var r;const{data:a}=t,{workspace_info:n}=a;if(n){const t=n;return null==(r=null==e?void 0:e.workspaceList)?void 0:r.map((e=>e.workspace_id===t.workspace_id?t:e))}return e.workspaceList},currentWorkspaceInfo:(e,t)=>{var r;const{data:a}=t,{workspace_info:n}=a;if(n){const t=n;if(t.workspace_id===(null==(r=e.currentWorkspaceInfo)?void 0:r.workspace_id))return t}return e.currentWorkspaceInfo},workspaceExpandInfoMap:(e,t)=>{const{data:r}=t;return r.workspaceExpandInfoMap??e.workspaceExpandInfoMap}}),updateSpecificWorkspaceInfoError:(e,t)=>{const{data:r}=t;e.updateWorkspaceErrorCb&&e.updateWorkspaceErrorCb(r.workspace_id)},roleChange:(0,o.kp)({workspaceList:(e,t)=>{var r,a;const{notifyData:n}=t,{workspace_id:i,new_role:o,uid:s}=n;return String(s)!==(null==(r=e.userInfo)?void 0:r.uid)?e.workspaceList:null==(a=e.workspaceList)?void 0:a.map((e=>e.workspace_id===i?{...e,role:o}:e))},currentWorkspaceInfo:(e,t)=>{var r,a;const{notifyData:n}=t,{workspace_id:i,new_role:o,uid:s}=n;return String(s)!==(null==(r=e.userInfo)?void 0:r.uid)?e.currentWorkspaceInfo:(null==(a=e.currentWorkspaceInfo)?void 0:a.workspace_id)===i?{...e.currentWorkspaceInfo,role:o}:e.currentWorkspaceInfo}})},guards:{hasInitWorkspaceInfo:e=>!(!e.currentWorkspaceInfo||!e.currentWorkspaceInfo.workspace_id),hasNotInitWorkspaceInfo:e=>!(e.currentWorkspaceInfo&&e.currentWorkspaceInfo.workspace_id),notifyLeaveWorkspace:(e,t)=>{const{notifyData:r}=t;return r.method===Ze.leaveWorkspace},notifyRoleChange:(e,t)=>{const{notifyData:r}=t;return r.method===Ze.roleChange},notifyNewMember:(e,t)=>{const{notifyData:r}=t;return r.method===Ze.newMember}}}),ta="__lvweb_user_status",ra=(0,i.O)({id:"userStatusListener",initial:"listened",context:{uid:"",enableShowModal:!0,enableBlockRequestWhenDestroy:!0,enableClearBeforeUnload:!0},states:{listened:{entry:"setLocalStorageByDefault",invoke:[{id:"listenUserStatusByLocalStorage",src:"listenUserStatusByLocalStorage"},{id:"listenUserStatusWhenBlur",src:"listenUserStatusWhenBlur"}],on:{USER_HAS_LOGOUT:{target:"destroy",actions:["showModal","sendParentEvent"]},SIGN_OUT:{target:"destroy",actions:"notifySignOutByLocalStorage"}}},destroy:{entry:"tryToClearAllEffect"}}},{services:{listenUserStatusByLocalStorage:e=>t=>{const r=r=>{if(r.key===ta){const r=ze.getJson(ta);(null==r?void 0:r.uid)!==e.uid&&t({type:"USER_HAS_LOGOUT"})}};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},listenUserStatusWhenBlur:e=>t=>{const r=()=>{if("visible"!==document.visibilityState){const r=ze.getJson(ta);r&&r.uid!==e.uid&&t({type:"USER_HAS_LOGOUT"})}};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}}},actions:{setLocalStorageByDefault:e=>{ze.setJson(ta,{uid:e.uid,timestamp:Date.now()})},notifySignOutByLocalStorage:()=>{ze.setJson(ta,{uid:"",timestamp:Date.now()})},showModal:e=>{e.enableShowModal&&N.A.error({alignCenter:!1,escToExit:!1,backspaceToExit:!1,maskClosable:!1,closeIcon:null,title:l.Ay.t("web_account_logout_title_error",{},"Account was changed"),content:l.Ay.t("web_account_logout_error",{},"Current login account has encountered an error, please refresh the page and try again."),okText:l.Ay.t("web_graphic_server_failure_refresh_page_btn",{},"Refresh"),onOk:()=>{window.location.reload()}})},sendParentEvent:(0,o.T4)({type:"USER_HAS_LOGOUT"}),tryToClearAllEffect:e=>{typeof window<"u"&&e.enableBlockRequestWhenDestroy&&(window.XMLHttpRequest.prototype.open=(e,t)=>{console.warn(`current page failure, stop all request:${e}:${t}`)}),typeof window<"u"&&e.enableClearBeforeUnload&&(window.onbeforeunload=()=>null)}}}),aa=({title:e,content:t,okText:r,onConfirm:a})=>(0,A.jsxs)("div",{className:"age-gate-mobile-dialog",children:[(0,A.jsx)("div",{className:"mask"}),(0,A.jsx)("div",{className:"modal-wrapper",children:(0,A.jsxs)("div",{className:"modal-content-wrapper",children:[(0,A.jsx)("div",{className:"modal-title",children:e}),(0,A.jsx)("div",{className:"modal-content",children:t}),(0,A.jsx)(D.A,{type:"primary",className:"modal-confirm",onClick:a,children:r})]})})]});const na={open:function(e){let t=document.createElement("div");document.body.appendChild(t);const r=()=>{t&&(H.unmountComponentAtNode(t),t=null)};return H.render((0,A.jsx)(aa,{...e,onConfirm:()=>{var t;null==(t=e.onConfirm)||t.call(e),r()}}),t),{close:r}}};class ia{constructor(){B(this,"LOCAL_STORE_PREFIX_KEY","quebec_age_gate_notification"),B(this,"unbinds",[]),B(this,"disablePaths",[/^(?:\/((?:[^\/#\?]+?)(?:\/(?:[^\/#\?]+?))*))?\/birthday-information[\/#\?]?$/i]),B(this,"uid",""),B(this,"verfiy_ticket",""),B(this,"submitAppealTag",(e=>(0,A.jsx)("a",{type:"text",href:`/appeal-age-restriction?uid=${this.uid}&verify_ticket=${this.verfiy_ticket}`,target:"_self",children:e})))}isQuebec(){try{return!!window.ip_location_info.Subdivisions.find((e=>6115047===e.GeoNameID))}catch{return!1}}checkShowNoticePath(){try{const e=window.location.pathname;return!this.disablePaths.some((t=>t.test(e)))}catch{return!1}}start(e){if(this.checkShowNoticePath())if(null!=e&&e.verifyTicket){if(this.verfiy_ticket=null==e?void 0:e.verifyTicket,1091===(null==e?void 0:e.errorCode)&&this.shouldShowForbiddenPopup())return void this.renderForbiddenNotice()}else if(this.isUnder14()&&this.shouldShowNoticePopup())return void this.renderCountdownNotice()}isUS(){try{return"US"===window.__locationCountryCode}catch{return!1}}getUserInfo(){var e;try{const t=JSON.parse(window.__userInfoStringify??"");return this.uid=null==(e=t.data.user_info)?void 0:e.user_id,t.data.user_info}catch{return null}}destroy(){this.unbinds.forEach((e=>e()))}isUnder14(){try{const e=this.getUserInfo();if(!e)return!1;if(!e.has_birthday&&this.isQuebec()){const e=window.location.href,t=`${V.FILL_BIRTHDAY.PATH}?redirect_url=${encodeURIComponent(e)}`;return void(window.location.href=t)}return(2===e.ban_status||1===e.ban_status)&&e.ban_time}catch{return!1}}getFinalTimestamp(){var e;return 1e3*Number(null==(e=this.getUserInfo())?void 0:e.ban_time)}getRecord(){const e={thirty:0,seven:0,three:0,two:0,one:0,zero:0};try{const t=this.getUniqId();if(t&&typeof window<"u"){const r=ze.getString(`${this.LOCAL_STORE_PREFIX_KEY}_${t}`);return r?JSON.parse(r):e}return e}catch{return e}}saveRecord(e){const t=this.getUniqId();t&&typeof window<"u"&&ze&&ze.setString(`${this.LOCAL_STORE_PREFIX_KEY}_${t}`,JSON.stringify(e))}getUniqId(){let e=window.GATEWAY_INJECTED_WEB_ID||"";if(!e){const t=document.cookie.match(new RegExp("(^| )_tea_web_id=([^;]+)"));null!==t&&(e=t[2])}return e}getDaysLeft(){const e=this.getFinalTimestamp()-Date.now();if(e<=0)return"zero";const t=Math.ceil(e/864e5);return t>30?"none":t<=30&&t>7?"thirty":t>3?"seven":t>2?"three":t>1?"two":t>0?"one":"zero"}refreshRecord(){const e=this.getRecord();e[this.getDaysLeft()]=1,this.saveRecord(e)}shouldShowNoticePopup(){const e=this.getDaysLeft(),t=this.getRecord();return"zero"!==e&&0===(null==t?void 0:t[e])}shouldShowForbiddenPopup(){return"zero"===this.getDaysLeft()}async waitForI18nInit(e=0,t=9){e!==t&&(l.Ay.i18nInstance.instance.isInitialized||await new Promise((t=>{setTimeout((async()=>{await this.waitForI18nInit(++e),t()}),1e3)})))}async renderCountdownNotice(){await this.waitForI18nInit();const e=this.getFinalTimestamp();if(!e)return;const{env:t}=xe(),r=x()(e).format("MM/DD/YYYY"),a=x()(e+97632e5).format("MM/DD/YYYY");console.log("appealDate",a);const n=l.Ay.t("web_quebec_users_tiitle_your_account_will_be_removed",{date:r},"Your account will be removed on {date} because you'll no longer meet the age requirements to use CapCut in your region."),i=l.Ay.t("web_quebec_users_text_you_can_submit_appeal_beface",{"text-href":this.submitAppealTag,date:a},"You can <text-href>submit an appeal</text-href> before {date}."),o=l.Ay.t("web_quebec_users_text_your_account_will_be_removed",{date:r},"Your account will be removed on {date}"),s=(0,A.jsxs)("div",{className:"quebec-content",children:[n,i]}),c=l.Ay.t("web_quebec_users_button_get_it_one",{},"Got it"),u="pc"===t?N.A.warning({title:o,content:s,maskClosable:!1,escToExit:!1,backspaceToExit:!1,okText:c,onConfirm:()=>this.refreshRecord(),style:{width:500}}):na.open({title:o,content:s,okText:c,onConfirm:()=>this.refreshRecord()});this.unbinds.push((()=>{u.close()}))}goAppealPage(){this.refreshRecord(),window.open(We("/appeal-age-restriction",{uid:this.uid,verify_ticket:this.verfiy_ticket,scene_block_scene:this.isUS()?"us13_young_block":""}),"_self")}async renderForbiddenNotice(){await this.waitForI18nInit();const{env:e}=xe(),t=l.Ay.t("web_quebec_users_text_your_account_removed_becaue_you",{},"Your account has been removed because you no longer meet the age requirement to use CapCut in your region."),r=l.Ay.t("web_quebec_users_button_appel_age_restriction",{"text-href":this.submitAppealTag},"<text-href>Appel age restriction</text-href>"),a=l.Ay.t("web_quebec_users_button_appel_age_restriction",{},"Appel age restriction"),n=t+r,i=l.Ay.t("web_quebec_users_tiitle_cannot_access_account",{},"Can't access account"),o=(0,A.jsx)("div",{className:"quebec-content",children:t}),s=l.Ay.t("web_quebec_users_button_get_it_one",{},"Got it"),c="pc"===e?N.A.error({title:i,content:o,maskClosable:!1,closable:!1,escToExit:!1,backspaceToExit:!1,okText:a,onConfirm:()=>this.goAppealPage()}):na.open({title:i,content:n,okText:s,onConfirm:()=>this.refreshRecord()});this.unbinds.push((()=>{c.close()}))}}function oa(){const e=typeof __locationInfo<"u"?__locationInfo:void 0;if(!e)return;e&&Qe.updateRequestDomain(e);const t=e.code;return{region:t,idc:Ft(t),newIdc:e.web_idc,reqDomain:e.domain}}async function sa(e=!1){try{const t=oa();if(e&&t)return t;const{data:r}=await St.getLocation(),a=r.code,n=Ft(a);return r&&Qe.updateRequestDomain(r),{region:a,idc:n,newIdc:r.web_idc,reqDomain:r.domain}}catch{console.error("get location failure\uff0cfallback to va.");const e=(()=>{const e=window.location.host.startsWith("capcut-os-boe."),t=window.location.host.startsWith("capcut-os.");let r;if(e)r={web_domain:he.DEFAULT.VA,frontier_domain:he.FRONTIER.VA,commerce_domain:he.COMMERCE.VA,tts_domain:he.TTS.VA};else{const e=t?me.FRONTIER:fe.FRONTIER,a=t?me.COMMERCE:fe.COMMERCE,n=t?me.TTS:fe.TTS;r={web_domain:(t?me.DEFAULT:fe.DEFAULT).VA,frontier_domain:e.VA,commerce_domain:a.VA,tts_domain:n.VA}}return r})();return Qe.updateRequestDomain({domain:e}),{region:de.US,idc:pe.VA,newIdc:"maliva",reqDomain:e}}}async function ca(e,t,r){var a;try{const n=null==r?void 0:r.user_id,i=await wr().asyncGetConfig(),o=(null==i?void 0:i.header)||{},{web_id:s}=await wr().getToken();if(null==(a=null==o?void 0:o.custom)||!a.channel_level1){const e=pr();await e.init();const{channel:t,extraCommonParams:r}=e.getParams();o.custom={...o.custom,...t,...r}}const c={header:o,client_ip:"",params:{scenario:"custom",is_pwa:Bt()?1:0,pwa_from:Yt(),open_from_pwa:Vt()?1:0},user:{user_id:n,user_is_login:e,user_unique_id:s,web_id:s}};s||window.ccWebSlardar&&window.ccWebSlardar("sendLog",{content:JSON.stringify({logType:e?"user_login":"user_signup",...c,...t}),extra:{type:"web_id_empty"}}),await bt.eventReport({event_name:e?"user_login":"user_signup",custom_info:JSON.stringify(c),params:JSON.stringify(t)})}catch{}}const la=(0,i.O)({id:"userMachine",context:{isBOE:!1,passport:()=>Promise.resolve(null),isNewSignupUser:!1,asyncFuncExecsRef:void 0,thirdPartSignInRef:void 0,emailSignInRef:void 0,teamInviteRef:void 0,userInviteRef:void 0,isCloudSubscribed:!1,userInfo:void 0,vipInfo:{flag:void 0,vipRealEnd:void 0,subscribeType:"un-auto",canFreeTrial:!1,canFreeTrialDays:0,productId:"",subscribeCycle:0,isFirstSubscribe:!1,isCancelSubscribe:!1,cycleUnit:""},spaceList:[],loginReporter:new class{constructor(){B(this,"reporter",wr())}reportStatus(e){this.reporter.reportBecon("login_status",e),e.is_login_new_user?Er().report(this.reporter,"sign_up"):Er().report(this.reporter,"sign_in")}reportPageAction(e){this.reporter.report("login_page",e)}},signUpReporter:new class{constructor(){B(this,"reporter",wr())}reportStatus(e){this.reporter.reportBecon("signup_status",e),e.is_login_new_user?Er().report(this.reporter,"sign_up"):Er().report(this.reporter,"sign_in")}reportPageAction(e){this.reporter.report("signup_page",e)}},logoutReporter:new class{constructor(){B(this,"reporter",wr())}report(){this.reporter.report("click_logout",{})}},fetchLocationReporter:new class{constructor(){B(this,"reporter",wr())}report(e){this.reporter.report("lvrd_fetch_location",e)}},lvrdCheckLoginReporter:new class{constructor(){B(this,"reporter",wr()),B(this,"options",Ir)}updateOptions(e){this.options=(0,a.A)({},this.options,e)}resetOptions(){this.options=Ir}report(e){const t={get_user_time:this.options.checkLoginStartTime?e.endTime-this.options.checkLoginStartTime:0,has_inject_user_info:this.options.hasInjectUserInfo,is_user_login:this.options.isUserLogin||!1};this.reporter.reportBecon("lvrd_check_login_time",t)}},currentWorkspaceInfo:void 0,workspaceExpandInfoMap:{},isWorkSpaceInited:!1,workspaceList:[],updateWorkspaceEventCache:[],changeWorkspaceEventCache:"",userCareerSkipped:!1,userStatusMachineParams:ra.context,loginModalClosable:!0,everPhotoUsers:[],openServerReportUserStatus:!0,isInitialCheckLoginStatus:!0,ageGateChecker:new class{constructor(){B(this,"quebecAgeGateBand",new ia)}start(e){this.quebecAgeGateBand.start(e)}destroy(){this.quebecAgeGateBand.destroy()}},ipLocationInfo:typeof window<"u"&&window.ip_location_info||null,loginSuccessCb:()=>{},userLoginedCb:()=>{},loginFailCb:()=>{},noCareerCb:()=>null,redirectToCb:()=>{},noSignInCb:()=>{},onFetchLocationFail:()=>{},initWorkspaceCb:()=>{},initUserAndWorkspaceCb:()=>{},changeWorkspaceCb:()=>{},refreshWorkspaceListCb:()=>{},beforeChangeWorkspaceCb:()=>Promise.resolve(),storageChangeWorkspaceCb:()=>{},updateWorkspaceErrorCb:()=>{},userFinishCareerCb:()=>{}},entry:["initPassport","initAsyncFuncExecRef","initChilrenMachine","performanceMarkStart"],initial:"unknown",states:{unknown:{always:[{actions:"getLocationCodeFromHtml",target:"checking",cond:"hasLocationCodeFromHtml"},{target:"fetchingLocation",cond:"shouldFetchLocation"},{target:"checking",actions:["clearUserInfo"]}]},fetchingLocation:{invoke:{id:"fetchLocation",src:"fetchLocation",onDone:{target:"checking",actions:["updateRegion"]},onError:{target:"fetchLocationFail"}}},checking:{invoke:{id:"getAndUpdateUserInfo",src:"getAndUpdateUserInfo",onDone:[{target:"hasSign",actions:["saveUserInfo","updateRegion","reportFetchLocationSuccess","updateIsInitialCheckLoginStatus"],cond:"isValidLocationFromCheckingPharse"},{target:"fetchLocationFail"}],onError:[{target:"noSign",actions:["noSignIn","updateIsInitialCheckLoginStatus"]}]}},noSign:{initial:"checkingThirdOpenId",states:{checkingThirdOpenId:{always:[{target:"googleDriveConfirmSigning",cond:"needShowGoogleDriveSign"},{target:"idle"}]},idle:{on:{SIGN_IN:{target:"signing",actions:["showSignHideModal","overwritePreExecTask"]},SIGN_IN_WITH_AUTH_TOKEN:{actions:"signInWithAuthToken"},SIGN_IN_WITH_AUTH_TOKEN_SUCCESS:{target:"checking",actions:"hideSignHideModal"}}},signing:{on:{EXIT_SIGN_IN:[{target:"thirdPartyConfirmSigning",cond:"needShowThirdPartySign"},{target:"idle",actions:["clearUrl"]}],SIGN_IN_SUCCESS:{target:"checking",actions:["thirdPartyStorageLoginSuccess","reportLoginSuccess","updateloginReportParams","storeLoginInfo"]},SIGN_IN_FAIL:{actions:["reportLoginFail","updateloginReportParams","reportLoginFailStatus","checkAgeGate"]}}},thirdPartyConfirmSigning:{on:{SIGN_IN:{target:"signing"},CANCEL_THIRD_LOGIN:{target:"idle",actions:["clearUrl"]}}},googleDriveConfirmSigning:{on:{CONFIRM_THIRD_LOGIN:{target:"idle",actions:"handleUserStop"}}},checking:{invoke:{id:"getAndUpdateUserInfo",src:"getAndUpdateUserInfo",meta:{noSign:!0},onDone:[{target:"#hasSign",actions:["saveUserInfo","updateRegion","reportFetchLocationSuccess","updateIsInitialCheckLoginStatus"],cond:"isValidLocationFromCheckingPharse"},{target:"#fetchLocationFail"}],onError:{target:"idle",actions:["clearUserInfo","updateIsInitialCheckLoginStatus"]}}}},entry:["performanceMarkEnd"]},hasSign:{id:"hasSign",initial:"preExec",states:{preExec:{invoke:{id:"preExecTaskWhenLogin",src:"preExecTaskWhenLogin",onDone:{target:"idle"},onError:{target:"idle"}}},idle:{}},entry:[(0,o.kp)({isWorkSpaceInited:!0}),"refreshPersonalWorkspace","reportLoginSuccessStatus","reportLvrdCheckLoginTime","userLoginedCb","stopEmailSignInActor","saveUserFromSignUpStorage","getAllEverPhotoUser","checkAgeGate","performanceMarkEnd"],invoke:[{id:"LvUserCareerMachine",src:Qr,data:e=>{var t;return{...Qr.context,userInfo:e.userInfo,noCareerCb:e.noCareerCb,userFinishCareerCb:e.userFinishCareerCb,shouldShowCareerModal:e.shouldShowCareerModal,reporterParams:{currentPage:null==(t=e.loginReportParams)?void 0:t.currentPage}}}},{id:"LvUserWorkspaceMachine",src:ea,data:e=>({...ea.context,userInfo:e.userInfo,changeWorkspaceEventCache:e.changeWorkspaceEventCache,updateWorkspaceEventCache:e.updateWorkspaceEventCache,initWorkspaceCb:e.initWorkspaceCb,initUserAndWorkspaceCb:e.initUserAndWorkspaceCb,changeWorkspaceCb:e.changeWorkspaceCb,refreshWorkspaceListCb:e.refreshWorkspaceListCb,storageChangeWorkspaceCb:e.storageChangeWorkspaceCb,beforeChangeWorkspaceCb:e.beforeChangeWorkspaceCb,updateWorkspaceErrorCb:e.updateWorkspaceErrorCb})},{id:"LvUserStatusListenerMachine",src:ra,data:e=>({...ra.context,...e.userStatusMachineParams,uid:e.userInfo.uid})},{id:"getUserSubscription",src:"getUserSubscription",onDone:{actions:"assignVipInfo"},onError:{}}],on:{SET_CAREER:{actions:["forwardToUserCareer"]},SET_NO_CAREER_CB:{actions:["forwardToUserCareer"]},UPDATE_USER_CAREER:{actions:["mergeUserInfo"]},UPDATE_USER_CAREER_SKIPPED:{actions:["updateUserCareerSkipped"]},SIGN_OUT:{actions:["reportClickLogout","forwardToUserStatusListener","signout"]},REFRESH_USER_SPACE:{actions:["refreshPersonalWorkspace"]},CHANGE_WORKSPACE:{actions:["forwardToUserWorkspace"]},REFRESH_WORKSPACE_LIST:{actions:["forwardToUserWorkspace"]},STORAGE_CHANGE_WORKSPACE:{actions:["forwardToUserWorkspace"]},UPDATE_WORKSPACE:{actions:["forwardToUserWorkspace"]},UPDATE_VIP_INFO:{actions:["updateVipInfoReq"]},NOTIFY_WORKSPACE_CHANGE:{actions:["forwardToUserWorkspace"]},UPDATE_WORKSPACE_DATA_FROM_CHILD:{actions:"updateWorkspaceDataFromChild"},GET_VIP_INFO_SUCCESS:{actions:["assignVipInfo"]}}},fetchLocationFail:{id:"fetchLocationFail",type:"final",entry:["handleFetchLocationFail","reportFetchLocationFail"]}},on:{SIGN_IN_WITH_URL:{actions:["loginingWithUrl"]},SET_NO_SIGN_IN_CB:{actions:["setNoSignInCb"]},SET_REDIRECT_TO_CB:{actions:["setRedirectToCb"]},SET_NO_CAREER_CB:{actions:["setNoCareerCb"]},UPDATE_REPORT_PARAMS:{actions:["updateloginReportParams","changeThirdPartCurrentPage","changeEmailCurrentPage"]},SIGN_IN_ACTION:{actions:["updateloginReportParams","reportSignInAction"]},SIGN_IN_SUCCESS:{target:"noSign.checking",actions:["reportLoginSuccess","updateloginReportParams"]},CHANGE_CONTEXT:{actions:c.Sw([{cond:"isInitWorkSpaceGuard",actions:["changeContext","changeThirdPartSignInContext","changeEmailSignInContext","changeUserWorkSpaceInContext"]},{actions:["changeContext","changeThirdPartSignInContext","changeEmailSignInContext"]}])},SYNC_CONTEXT:{actions:["changeEmailSignInPartialContext"]},UPDATE_WORKSPACE:{actions:"restoreUpdateWorkspaceEventCache"},CHANGE_WORKSPACE:{actions:["consumeChangeWorkspaceCache"]},GET_ALL_EVER_PHOTO_USER_SUCCESS:{actions:["saveAllEverPhotoUser"]},UPDATE_DEFAULT_WORKSPACE_INFO:{actions:["updateDefaultWorkspaceInfo","updateUserInfoStringify"]},SET_USER_LOGINED_CB:{actions:["setUserLoginedCb"]}}},{services:{async getAndUpdateUserInfo(e,t,{meta:r}){var a,n,i,o,s;null==(n=null==(a=null==e?void 0:e.lvrdCheckLoginReporter)?void 0:a.updateOptions)||n.call(a,{checkLoginStartTime:Date.now(),isUserLogin:null==r?void 0:r.noSign});const{source:c,medium:l,campaign:u,term:d=""}=pr().getParams(),p=l===zt.SEM,_=p?ve:"Direct"===l?Ee:l,g=p&&d&&u,h=function(){try{const e=typeof __userInfoStringify<"u"?JSON.parse(__userInfoStringify):void 0;return e&&"0"===e.ret?e.data:void 0}catch{return}}();if(e.isInitialCheckLoginStatus&&!h&&typeof __isLogined<"u"&&!__isLogined&&!Pe)throw new Error("not logined");const m=h||await _t.getAndUpdateUserInfo({sem_info:{is_sem:p,medium:l,register_source:_,register_second_source:c,keywords:g?d:void 0,campaign_id:g?u:void 0}});!h&&typeof window<"u"&&(window.__userInfoStringify=JSON.stringify({ret:"0",data:m,__clientInject:!0})),null==(o=null==(i=null==e?void 0:e.lvrdCheckLoginReporter)?void 0:i.updateOptions)||o.call(i,{hasInjectUserInfo:!!h});const f=Ft(m.location.code);return Qe.updateRequestDomain({domain:m.location.domain}),{user_id_str:m.user_info.user_id,userInfo:m.user_info,region:m.location.code,spaceInfo:m.space_info,personalSpaceInfo:m.space_info,idc:f,newIdc:m.location.web_idc,reqDomain:m.location.domain,defaultSpaceInfo:null==(s=m.user_info)?void 0:s.default_space_info}},async fetchLocation(){const[e]=await async function(e){try{return[await e,null]}catch(t){return[null,t]}}(sa());return{region:e.region,idc:e.idc,newIdc:e.newIdc,reqDomain:e.reqDomain}},async preExecTaskWhenLogin(e){var t;try{await(null==(t=null==e?void 0:e.preExecTaskWhenLogin)?void 0:t.call(e))}catch{}},async getUserSubscription(){try{return await wt.getSubscriptionUserInfo()}catch(e){return Promise.reject(e)}}},actions:{performanceMarkStart:()=>{Sr.userInit.start()},performanceMarkEnd:()=>{Sr.userInit.end()},initAsyncFuncExecRef:(0,o.kp)({asyncFuncExecsRef:()=>(0,s.cH)($r)}),getLocationCodeFromHtml:(0,o.kp)({userInfo:()=>{const{region:e,idc:t,reqDomain:r,newIdc:a}=oa()||{};return e?{region:e,idc:t,newIdc:a,reqDomain:r}:void 0}}),thirdPartyStorageLoginSuccess:async()=>{var e;if(Mt()){const t=null==(e=window.location.originParams)?void 0:e.shop;await _t.authorizationCheck({platform:ye.Shopify,account_id:t})}},reportLoginSuccess:(e,t)=>{e.loginSuccessCb(t.data)},overwritePreExecTask:(0,o.kp)({preExecTaskWhenLogin:(e,t)=>t.preExecTaskWhenLogin}),userLoginedCb:e=>{e.userLoginedCb(e.userInfo)},reportLoginFail:e=>{e.loginFailCb()},saveUserInfo:(0,o.kp)({userInfo:({userInfo:e},t)=>{const r=t.data.userInfo,{spaceInfo:a}=t.data,n=null==r?void 0:r.default_space_info;return{...e,uid:r.user_id,name:r.nick_name,avatar:r.avatar_urls.avatar_url_small,career:r.career,register_source:r.register_source,isBindTT:r.is_bind_tt,ttUID:r.tt_user_id,email:r.email,create_time:r.create_time,is_new_user:r.is_new_user,spaceInfo:{spaceHost:null==a?void 0:a.space_host,spaceId:null==a?void 0:a.space_id,spaceIdc:null==a?void 0:a.space_idc,spaceResHost:null==a?void 0:a.space_res_host,workspaceId:null==a?void 0:a.workspace_id,spaceType:null==a?void 0:a.space_type,rawSpaceType:null==a?void 0:a.raw_space_type},personalSpaceInfo:{spaceHost:null==a?void 0:a.space_host,spaceId:null==a?void 0:a.space_id,spaceIdc:null==a?void 0:a.space_idc,spaceResHost:null==a?void 0:a.space_res_host,workspaceId:null==a?void 0:a.workspace_id,spaceType:null==a?void 0:a.space_type,rawSpaceType:null==a?void 0:a.raw_space_type},hasGoogleEmail:r.has_google_email,defaultSpaceInfo:n?{spaceHost:n.space_host,spaceId:n.space_id,spaceIdc:n.space_idc,spaceResHost:n.space_res_host,workspaceId:n.workspace_id,spaceType:n.space_type,rawSpaceType:n.raw_space_type}:void 0,has_birthday:r.has_birthday,is_young:r.is_young,forbidden_date:r.forbidden_date,useGPTText2Video:r.use_gpt_text2video,exportGPTText2Video:r.export_gpt_text2video}}}),mergeUserInfo:(0,o.kp)({userInfo:({userInfo:e},t)=>({...e,...t.userInfo})}),updateUserCareerSkipped:(0,o.kp)({userCareerSkipped:(e,t)=>t.skipped}),clearUserInfo:(0,o.kp)({userInfo:({userInfo:e})=>e?{region:e.region,idc:e.idc,newIdc:e.newIdc,reqDomain:e.reqDomain}:void 0}),loginingWithUrl:({passport:e},t)=>{e().then((e=>null==e?void 0:e.signin(null==t?void 0:t.backURL)))},signout:({passport:e},t)=>{e().then((e=>null==e?void 0:e.signout((null==t?void 0:t.redirectUrl)??void 0)))},noSignIn(e){e.noSignInCb()},reportLoginSuccessStatus:async(e,{data:t})=>{var r;const{loginReportParams:a,loginReporter:n,signUpReporter:i}=e;if(a&&["type","source"].every((e=>[void 0,""].every((t=>a[e]!==t))))){let o=a.source===yr.LoginIn;a.isThirdparty&&(o=!a.isLoginNewUser);const s=!o,c={enter_from:a.statusEnterFrom??"",current_page:a.currentPage||(o?"login":"signup"),status:"success",article_type:null!=a&&a.articleType?a.articleType:void 0,article_title:null!=a&&a.articleTitle?a.articleTitle:void 0,login_type:o?a.type:void 0,signup_type:s?a.type:void 0,videocut_id:t.userInfo.user_id,age_year:s?a.age_year:void 0,age_month:s?a.age_month:void 0,age_date:s?a.age_date:void 0,tool_type:a.toolType,is_login_new_user:a.isLoginNewUser,url:location.href,url_path:location.pathname,page_type:a.pageType,from_page:a.fromPage};null==(r=o?n:i)||r.reportStatus(c);const{openServerReportUserStatus:l=!0}=e;l&&await ca(o,c,null==t?void 0:t.userInfo)}e.redirectToCb(e)},reportLoginFailStatus:({loginReportParams:e,loginReporter:t,signUpReporter:r,openServerReportUserStatus:a=!0},n)=>{var i;if(e&&["type","source"].every((t=>[void 0,""].every((r=>e[t]!==r))))){const o=e.source===yr.LoginIn,s={enter_from:e.statusEnterFrom??"",current_page:e.currentPage||(o?"login":"signup"),status:"fail",article_type:null!=e&&e.articleType?e.articleType:void 0,article_title:null!=e&&e.articleTitle?e.articleTitle:void 0,login_type:e.source===yr.LoginIn?e.type:void 0,signup_type:e.source===yr.SignUp?e.type:void 0,error_code:n.params.errorCode,error_msg:n.params.errorMsg,tool_type:e.toolType,url:location.href,url_path:location.pathname,page_type:e.pageType};null==(i=o?t:r)||i.reportStatus(s),a&&ca(o,s)}},reportSignInAction:({loginReportParams:e,loginReporter:t,signUpReporter:r})=>{var a;if(e&&["action","source"].every((t=>[void 0,""].every((r=>e[t]!==r))))){const n=e.source===yr.LoginIn;null==(a=n?t:r)||a.reportPageAction({enter_from:e.pageEnterFrom,current_page:e.currentPage?e.currentPage:n?"login":"signup",action:e.action,article_type:null!=e&&e.articleType?e.articleType:void 0,article_title:null!=e&&e.articleTitle?e.articleTitle:void 0,tool_type:e.toolType,url:location.href,url_path:location.pathname,page_type:e.pageType,from_page:e.fromPage})}},reportClickLogout:({logoutReporter:e})=>{null==e||e.report()},updateloginReportParams:(0,o.kp)({loginReportParams:({loginReportParams:e},t)=>({...e,...t.params})}),refreshPersonalWorkspace:(0,o.tN)((e=>{var t,r;return{type:"UPDATE_WORKSPACE",workspaceId:(null==(r=null==(t=e.userInfo)?void 0:t.spaceInfo)?void 0:r.workspaceId)??""}})),initPassport:(0,o.kp)({passport:({isBOE:e})=>{let t=null;return async()=>{if(t)return t;const r=(await Promise.resolve().then((()=>Lr))).default;return t=new r({isBoe:e})}}}),updateRegion:(0,o.kp)({userInfo:({userInfo:e},t)=>Object.assign(e??{},{region:t.data.region,idc:t.data.idc,newIdc:t.data.newIdc,reqDomain:t.data.reqDomain})}),setNoSignInCb:(0,o.kp)({noSignInCb:(e,t)=>t.callback}),setRedirectToCb:(0,o.kp)({redirectToCb:(e,t)=>t.callback}),initChilrenMachine:(0,o.kp)({teamInviteRef:({isBOE:e})=>(0,s.cH)(Fr.withContext({inviteLink:"",workspaceInfo:{inviter_nickname:"***",name:"***",inviter_avatar:""},errCode:void 0,joinWorkspaceSuccessCb:null,onError:null,reviewStatus:void 0,isBOE:!!e})),userInviteRef:({inviteInfo:e})=>(0,s.cH)(Jr.withContext({isInvitePage:null==e?void 0:e.isInvitePage,invitedCode:null==e?void 0:e.invitedCode})),thirdPartSignInRef:({isBOE:e,passport:t,inviteInfo:r,loginReportParams:a,showRestoreModal:n})=>(0,s.cH)(Xr.withContext({showRestoreModal:n,isBOE:!!e,isInvitePage:null==r?void 0:r.isInvitePage,invitedCode:null==r?void 0:r.invitedCode,passport:t,name:"",source:yr.LoginIn,currentPage:null==a?void 0:a.currentPage})),emailSignInRef:({isBOE:e,passport:t,inviteInfo:r})=>(0,s.cH)(Ur.withContext({...Ur.context,isBOE:!!e,isInvitePage:null==r?void 0:r.isInvitePage,invitedCode:null==r?void 0:r.invitedCode,passport:t,email:"",password:"",birthday:"",ticket:""}))}),setNoCareerCb:(0,o.kp)({noCareerCb:(e,t)=>t.callback}),setUserLoginedCb:(0,o.kp)({userLoginedCb:(e,t)=>t.callback}),stopEmailSignInActor:c.ds((({emailSignInRef:e})=>e)),changeContext:(0,o.kp)(((e,t)=>(0,a.A)({},e,t.context))),changeThirdPartSignInContext:(0,o.tN)(((e,t)=>({type:"CHANGE_CONTEXT",context:t.context})),{to:({thirdPartSignInRef:e})=>e}),changeEmailSignInContext:(0,o.tN)(((e,t)=>({type:"CHANGE_CONTEXT",context:t.context})),{to:({emailSignInRef:e})=>e}),changeUserWorkSpaceInContext:(0,o.tN)(((e,t)=>({type:"CHANGE_CONTEXT",context:t.context})),{to:"LvUserWorkspaceMachine"}),changeEmailSignInPartialContext:(0,o.tN)((({loginReportParams:e})=>({type:"CHANGE_CONTEXT",context:{pageEnterFrom:null==e?void 0:e.pageEnterFrom,currentPage:null==e?void 0:e.currentPage}})),{to:({emailSignInRef:e})=>e}),changeThirdPartCurrentPage:(0,o.tN)((({loginReportParams:e},t)=>{var r;return{type:"CHANGE_CONTEXT",context:{currentPage:(null==(r=null==t?void 0:t.params)?void 0:r.currentPage)??(null==e?void 0:e.currentPage)}}}),{to:({thirdPartSignInRef:e})=>e}),changeEmailCurrentPage:(0,o.tN)((({loginReportParams:e},t)=>{var r;return{type:"CHANGE_CONTEXT",context:{currentPage:(null==(r=null==t?void 0:t.params)?void 0:r.currentPage)??(null==e?void 0:e.currentPage)}}}),{to:({emailSignInRef:e})=>e}),handleFetchLocationFail:({onFetchLocationFail:e})=>e(),reportFetchLocationSuccess:({fetchLocationReporter:e})=>{null==e||e.report({status:"success"})},reportFetchLocationFail:({fetchLocationReporter:e})=>{null==e||e.report({status:"fail"})},consumeChangeWorkspaceCache:(0,o.kp)(((e,t)=>{const{data:r}=t;return r.workspace_id?{changeWorkspaceEventCache:r.workspace_id}:{}})),restoreUpdateWorkspaceEventCache:(0,o.kp)({updateWorkspaceEventCache:(e,t)=>[...e.updateWorkspaceEventCache,t.workspaceId]}),storeLoginInfo:(0,o.kp)(((e,t)=>{var r;return"SIGN_IN_SUCCESS"!==t.type?e:{isNewSignupUser:(null==(r=t.extra)?void 0:r.isNewSignupUser)||!1}})),reportLvrdCheckLoginTime:e=>{var t,r,a;null==(t=null==e?void 0:e.lvrdCheckLoginReporter)||t.report({endTime:Date.now()}),null==(a=null==(r=null==e?void 0:e.lvrdCheckLoginReporter)?void 0:r.resetOptions)||a.call(r)},updateWorkspaceDataFromChild:(0,o.kp)((({thirdPartyFileOpenCb:e,thirdPartyFileOpenCbCalled:t},r)=>{const a=(0,n.A)(r,["type"]),{workspaceList:i=[]}=r;let o=!1;const s=Ye("state"),c=Ye("file_id"),l=Ye(Le.UTM_CAMPAIGN),u=Ye(Le.UTM_SOURCE),d="googledrive"===l&&!t&&(null==s?void 0:s.length);return(d||"dropbox"===u&&c)&&null!=i&&i.length&&(null==e||e(d?ye.GoogleDrive:ye.Dropbox,i),o=!0),{...a,thirdPartyFileOpenCbCalled:o}})),forwardToUserCareer:(0,o.D)("LvUserCareerMachine"),forwardToUserWorkspace:(0,o.D)("LvUserWorkspaceMachine"),forwardToUserStatusListener:(0,o.D)("LvUserStatusListenerMachine"),signInWithAuthToken:(0,o.tN)(((e,t)=>({type:"ADD_TASK",exec:async()=>{var e,r;try{if("success"!==(await(async e=>{const{APP_ID:t}=Y,{token:r,state:a}=e,n=new FormData;return n.append("aid",t),n.append("token",r),n.append("state",a),await Et({method:"post",url:"/passport/transfer/token_auth/",data:n,headers:{"Content-Type":"multipart/form-data"}})})({token:t.data.token,state:t.data.state})).result)throw new Error("sign in auth failure")}catch(a){throw null==(r=(e=t.data).onFailure)||r.call(e,a),a}},successType:"SIGN_IN_WITH_AUTH_TOKEN_SUCCESS",failType:"SIGN_IN_WITH_AUTH_TOKEN_FAILURE"})),{to:e=>e.asyncFuncExecsRef}),saveUserFromSignUpStorage:({isNewSignupUser:e,userInfo:t})=>{if(e&&null!=t&&t.uid){const e=`${ue.GUIDE_FROM_SIGN_UP}_${null==t?void 0:t.uid}`;ze.setString(e,"true")}},getAllEverPhotoUser:(0,o.tN)((()=>({type:"ADD_TASK",exec:async()=>{var e;const t=await xt.getAllEverPhotoUser();return(null==(e=null==t?void 0:t.data)?void 0:e.ever_photo_uids)??[]},successType:"GET_ALL_EVER_PHOTO_USER_SUCCESS"})),{to:e=>e.asyncFuncExecsRef}),saveAllEverPhotoUser:(0,o.kp)({everPhotoUsers:(e,t)=>t.data}),assignVipInfo:(0,o.kp)({vipInfo:(e,{data:t})=>({flag:t.flag,vipRealEnd:null==t?void 0:t.end_time,subscribeType:null==t?void 0:t.subscribe_type,canFreeTrial:null==t?void 0:t.can_free_trial,canFreeTrialDays:null==t?void 0:t.can_free_trial_days,productId:null==t?void 0:t.product_id,subscribeCycle:null==t?void 0:t.subscribe_cycle,isFirstSubscribe:null==t?void 0:t.is_first_subscribe,isCancelSubscribe:null==t?void 0:t.is_cancel_subscribe,cycleUnit:null==t?void 0:t.cycle_unit})}),updateVipInfoReq:(0,o.tN)((()=>({type:"ADD_TASK",exec:async()=>await wt.getSubscriptionUserInfo(!0),successType:"GET_VIP_INFO_SUCCESS"})),{to:e=>e.asyncFuncExecsRef}),updateIsInitialCheckLoginStatus:(0,o.kp)({isInitialCheckLoginStatus:()=>!1}),updateDefaultWorkspaceInfo:(0,o.kp)({userInfo:(e,t)=>{const{userInfo:r,defaultWorkspaceInfo:a}=t.data;return{...r,defaultSpaceInfo:a}}}),updateUserInfoStringify:e=>{var t;try{const r=typeof __userInfoStringify<"u"?JSON.parse(__userInfoStringify):void 0;if(r){const a=r.data.user_info;a&&null!=(t=e.userInfo)&&t.defaultSpaceInfo&&(a.default_space_info={space_host:e.userInfo.defaultSpaceInfo.spaceHost,space_id:e.userInfo.defaultSpaceInfo.spaceId,space_idc:e.userInfo.defaultSpaceInfo.spaceIdc,space_res_host:e.userInfo.defaultSpaceInfo.spaceResHost,workspace_id:e.userInfo.defaultSpaceInfo.workspaceId,space_type:e.userInfo.defaultSpaceInfo.spaceType,raw_space_type:e.userInfo.defaultSpaceInfo.rawSpaceType}),window.__userInfoStringify=JSON.stringify(r)}}catch{}},checkAgeGate:({ageGateChecker:e},t)=>{var r,a,n;e.start({errorCode:Number(null==(r=null==t?void 0:t.params)?void 0:r.errorCode),errorMsg:null==(a=null==t?void 0:t.params)?void 0:a.errorMsg,verifyTicket:null==(n=null==t?void 0:t.params)?void 0:n.verifyTicket})},clearUrl:()=>{Be(["state","file_id","imported_file_id","shop"])},handleUserStop:({thirdPartyFileOpenStopCb:e},t)=>{t.cancel&&(Be(["state","file_id","imported_file_id"]),null==e||e("user_cancel_login"))}},guards:{isInitWorkSpaceGuard:e=>!!e.isWorkSpaceInited,shouldFetchLocation:({userInfo:e,shouldFetchLocation:t})=>!!t&&typeof e>"u",hasLocationCodeFromHtml:()=>typeof __locationInfo<"u",isValidLocationFromCheckingPharse:(e,{data:t})=>!!t.region,needShowGoogleDriveSign:()=>{const e=Ye(Le.UTM_CAMPAIGN),t=Ye("state");return!("googledrive"!==e||null==t||!t.length)},needShowThirdPartySign:()=>Mt()}});class ua extends R.EventEmitter{constructor(){super(...arguments),B(this,"_userService")}init(e){this._userService=e.userService}getRegion(){var e,t;return null==(t=null==(e=this._userService.getSnapshot())?void 0:e.context.userInfo)?void 0:t.region}getNewIdc(){var e,t;return null==(t=null==(e=this._userService.getSnapshot())?void 0:e.context.userInfo)?void 0:t.newIdc}getReqDomain(){var e,t;return null==(t=null==(e=this._userService.getSnapshot())?void 0:e.context.userInfo)?void 0:t.reqDomain}getUserInfo(){var e;return null==(e=this._userService.getSnapshot())?void 0:e.context.userInfo}getUserCloudInfo(){var e;const{context:t}=this._userService.getSnapshot();return{workspaceInfo:t.currentWorkspaceInfo,workspaceExpandInfo:t.workspaceExpandInfoMap[(null==(e=t.currentWorkspaceInfo)?void 0:e.workspace_id)??""],workspaceExpandInfoMap:t.workspaceExpandInfoMap}}changeUserRegion(e){this._userService.send({type:"CHANGE_CONTEXT",context:{userInfo:{region:e,idc:Ft(e)}}})}listenCareerStatus(e){const t=t=>{const r=this._getUserCareer(t);e(r)};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenLoginStatus(e){const t=t=>{const r=this._userHasSign(t);e({hasSign:r})};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenLoginOut(e){const t=t=>{var r;const a=null==(r=null==t?void 0:t.children)?void 0:r.LvUserStatusListenerMachine;a&&a.getSnapshot().matches("destroy")&&(null==e||e())};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenUserWholeStatus(e){const t=t=>{var r,a;const n=this._userHasSign(t),i=this._getUserCareer(t);e({hasSign:n,vipInfo:null==(r=t.context)?void 0:r.vipInfo,workspaceExpandInfoMap:null==(a=t.context)?void 0:a.workspaceExpandInfoMap,noSign:t.matches("noSign"),careerStatus:i.status,career:i.career,initFailed:t.matches("fetchLocationFail")})};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenVipInfo(e){const t=t=>{var r;e(null==(r=t.context)?void 0:r.vipInfo)};return this._userService.onTransition(t),()=>{this._userService.off(t)}}_userHasSign(e){var t;return(null==(t=e.context)?void 0:t.userInfo)&&Object.prototype.hasOwnProperty.call(e.context.userInfo,"uid")&&Object.prototype.hasOwnProperty.call(e.context.userInfo,"region")}_getUserCareer(e){var t,r,a,n;if(e.matches("noSign"))return{status:void 0,career:""};const i=null==(t=null==e?void 0:e.children.LvUserCareerMachine)?void 0:t.getSnapshot();return null!=i&&i.matches("hasCareer")&&null!=(a=null==(r=e.context)?void 0:r.userInfo)&&a.career?{status:!0,career:e.context.userInfo.career}:null!=i&&i.matches("noCareer")?{status:!1,career:(null==(n=e.context.userInfo)?void 0:n.career)||""}:{status:void 0,career:""}}}const da=new ua}}]);
//# sourceMappingURL=byted_image_core-55ff2d76.bc365dc8.js.map