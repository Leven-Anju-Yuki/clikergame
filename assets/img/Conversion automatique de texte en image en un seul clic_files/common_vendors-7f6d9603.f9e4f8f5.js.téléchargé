/*! For license information please see common_vendors-7f6d9603.f9e4f8f5.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};function r(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var n=/[^a-zA-Z0-9\\_:.-]/gim,i=/</g,s=/>/g,o=/&#([a-zA-Z0-9]*);?/gim,a=/&quot;/g,c=/&colon;?/gim,l=/&newline;?/gim,u=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,h=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,p=/"/g,f=function(e){return e.replace(i,"&lt;").replace(s,"&gt;")},g={indexOf:function(e,t){var r,n;for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},some:function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(e){return e instanceof Array},includes:function(e,t){if("string"==typeof e)return-1!==e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},r=[],n=0;n<e.length;n++)t[e[n]]||(r.push(e[n]),t[e[n]]=!0);return r},from:function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t},keys:function(e){var t=[];for(var r in e)t.push(r);return t}};function m(e){return null==e}function v(e){var t,r=g.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=g.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function _(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}return-1}function y(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}return-1}function w(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}function A(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}return-1}function E(e){var t,r,n,i,s,o,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e);u<e.length;)i=(t=e.charCodeAt(u++))>>2,s=(3&t)<<4|(r=e.charCodeAt(u++))>>4,o=(15&r)<<2|(n=e.charCodeAt(u++))>>6,a=63&n,isNaN(r)?o=a=64:isNaN(n)&&(a=64),l=l+c.charAt(i)+c.charAt(s)+c.charAt(o)+c.charAt(a);return l}function L(e){var t,r,n,i,s,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(i=a.indexOf(e.charAt(l++)))>>4,r=(15&i)<<4|(s=a.indexOf(e.charAt(l++)))>>2,n=(3&s)<<6|(o=a.indexOf(e.charAt(l++))),c+=String.fromCharCode(t),64!==s&&(c+=String.fromCharCode(r)),64!==o&&(c+=String.fromCharCode(n));return c=function(e){for(var t="",r=0,n=0,i=0,s=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(s=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&s),r+=2):(s=e.charCodeAt(r+1),i=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&i),r+=3);return t}(c),c}function T(e){return"</"===e.slice(0,2)}function P(e,t,r){var n="",i=0,s=!1,o=!1,a=0,c=e.length,l="",u="";e:for(a=0;a<c;a++){var d=e.charAt(a);if(!1===s){if("<"===d){s=a;continue}}else if(!1===o){if("<"===d){n+=r(e.slice(i,a)),s=a,i=a;continue}if(">"===d||a===c-1){n+=r(e.slice(i,s)),l=v(u=e.slice(s,a+1)),n+=t(s,n.length,l,u,T(u)),i=a+1,s=!1;continue}if('"'===d||"'"===d)for(var h=1,p=e.charAt(a-h);""===p.trim()||"="===p;){if("="===p){o=d;continue e}p=e.charAt(a-++h)}}else if(d===o){o=!1;continue}}return i<c&&(n+=r(e.substr(i))),n}function C(e,t){var r=0,i=0,s=[],o=!1,a=e.length;function c(e,r){if(!((e=(e=g.trim(e)).replace(n,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&s.push(i)}}for(var l=0;l<a;l++){var u=e.charAt(l),d=void 0;if(!1!==o||"="!==u)if(!1===o||l!==i){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(d=_(e,l))){c(g.trim(e.slice(r,l))),o=!1,r=l+1;continue}l=d-1;continue}if(-1===(d=y(e,l-1))){c(o,w(g.trim(e.slice(r,l)))),o=!1,r=l+1;continue}}}else{if(-1===(d=e.indexOf(u,l+1)))break;c(o,g.trim(e.slice(i+1,d))),o=!1,r=(l=d)+1}else o=e.slice(r,l),r=l+1,i='"'===e.charAt(r)||"'"===e.charAt(r)?r:A(e,l+1)}return r<e.length&&(!1===o?c(e.slice(r)):c(o,w(g.trim(e.slice(r))))),g.trim(s.join(" "))}function b(e,t,r){if(r=function(e){return function(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return g.trim(t)}(e=function(e){return e.replace(c,":").replace(l," ")}(e=function(e){return e.replace(o,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}(e=function(e){return e.replace(a,'"')}(e))))}(r),"href"===t||"src"===t){if("#"===(r=g.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(u.lastIndex=0,u.test(r))return""}else if("style"===t){if(h.lastIndex=0,h.test(r))return"";if(d.lastIndex=0,d.test(r)&&(u.lastIndex=0,u.test(r)))return""}return function(e){return e=function(e){return e.replace(p,"&quot;")}(e),f(e)}(r)}var R=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},S=function(){function e(e){var t=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=b,t.escapeHtml=f,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,s=t.onTagAttr,o=t.onIgnoreTagAttr,a=t.safeAttrValue,c=t.escapeHtml;t.stripBlankChar&&(e=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")}(e)),t.allowCommentTag||(e=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("\x3c!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("--\x3e",n);if(-1===i)break;r=i+3}return t}(e));var l=!1;t.stripIgnoreTagBody&&(l=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],i=!1;return{onIgnoreTag:function(s,o,a){if(function(t){return!!r||-1!==g.indexOf(e,t)}(s)){if(a.isClosing){var c="[/removed]",l=a.position+10;return n.push([!1!==i?i:a.position,l]),i=!1,c}return i||(i=a.position),"[removed]"}return t(s,o,a)},remove:function(e){var t="",r=0;return g.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}}(t.stripIgnoreTagBody,i),i=l.onIgnoreTag);var u=P(e,(function(e,t,l,u,d){var h={sourcePosition:e,position:t,isClosing:d,isWhite:Object.prototype.hasOwnProperty.call(r,l)},p=n(l,u,h);if(!m(p))return p;if(h.isWhite){if(h.isClosing)return"</".concat(l,">");var f=function(e){var t=g.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=g.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=g.trim(e.slice(0,-1))),{html:e,closing:r}}(u),v=r[l],_=C(f.html,(function(e,t){var r=-1!==g.indexOf(v,e),n=s(l,e,t,r);return m(n)?r?(t=a(l,e,t,null))?"".concat(e,'="').concat(t,'"'):e:m(n=o(l,e,t,r))?void 0:n:n}));return u="<".concat(l),_&&(u+=" ".concat(_)),f.closing&&(u+=" /"),u+">"}return m(p=i(l,u,h))?c(u):p}),c);return l&&(u=l.remove(u)),u},e}(),I=!0,O=function(e){return e&&e.Math==Math&&e},k=O("object"==typeof globalThis&&globalThis)||O("object"==typeof window&&window)||O("object"==typeof self&&self)||O("object"==typeof global&&global)||Function("return this")();try{!0!==(I=!!(I=String(I)).startsWith("<%=")||JSON.parse(I))&&"true"!==I||(k=new Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var H=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,r,n="cc_web";if(!g.includes(n,"bid"))return n;if(e.config&&e.config.bid)return e.config.bid;var i=k;if(i&&i._xssBid)return i._xssBid;if(i&&i.slardar&&"function"==typeof i.slardar.config){var s=(i.slardar.config()||{}).bid;if(s)return s}if(i&&i.Slardar&&"function"==typeof i.Slardar.config){var o=(i.Slardar.config()||{}).bid;if(o)return o}return(null===(r=null===(t=null==i?void 0:i.Slardar)||void 0===t?void 0:t._baseParams)||void 0===r?void 0:r.bid)||"argus"},this.getConfigRegion=function(){var t;return g.includes("va","region")?e.config&&e.config.region?e.config.region:((null===(t=null==k?void 0:k.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"va"},this.gerReportUrl=function(){var t={cn:L("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:L("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:L("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:L("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:L("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:L("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:L("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseReport){var t=!1;t=String(t);try{if(!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)return}catch(e){console.log(e)}var r=this.gerReportUrl();!this.lock&&r&&0!==this.batchData.length&&(this.lock=!0,setTimeout((function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),k.fetch(r,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch((function(e){console.warn("xss defense report error",e)})),e.lock=!1,e.upload()}),this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t,r=this.generateKey(e);if(k.fetch&&e.collectKey){var n=(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.href)||"SSR";e.documentUrl=n;var i={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==n||(i.url=r),"SSR"===n&&(i.url="SSR___".concat(i.url),i.body.ssr=!0),this.push(i)}},e}());function N(e,t){return H.setConfig(t),new S(t).process(e)}var D=function(e){return-1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,(function(e,t,r,n){return String.fromCharCode(t?parseInt(r,16):parseInt(n))})).replace(/(\t|\n|\r)/g,"").toLowerCase()};function M(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=D(e),g.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!g.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var r=["expression(","behavior:","view-source:"];if(g.some(r,(function(t){return-1!==e.indexOf(t)})))return g.forEach(r,(function(r){-1!==e.indexOf(r)&&t&&t(r)})),!1;var n=["data:application","data:javascript","data:text/html","data:texthtml"];if(g.some(n,(function(t){return-1!==e.indexOf(t)})))return g.forEach(n,(function(r){-1!==e.indexOf(r)&&t&&t(r)})),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var i=e.slice(11).replace(/\s/g,"").trim();return!!g.some(["void","void(0)","void0","false","undefined",";"],(function(e){return e===i}))||(t&&t("javascript:"),!1)}return!0}var F=function(e,t){var r,n,i=!1;if(i=String(i),"string"!=typeof e)return e;if(r=e,n=Number(-1),"NaN"!==r.toString()&&-1!==n&&r.length>=n)return e;if(M(e,t))return e;try{if(!0===(i=!i.startsWith("<%=")&&JSON.parse(i))||"true"===i){var s=new URL(e);return s.origin+s.pathname}}catch(e){return console.log(e),"#"}return"#"};function x(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!M(e=D(e)))return!1;var i=function(e){var t=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[];return{url:t[0],scheme:t[1],slash:t[2],host:t[3],port:t[4],path:t[5],query:t[6],hash:t[7]}}(e),s=i.scheme,o=i.host;return n?Boolean(n(e)):!(!s||!o)&&(!g.includes(["http","https","file"],s)||("object"==typeof window&&window&&(t=r(r([],t,!0),[location.host],!1)),g.some(t,(function(e){return!!(e instanceof RegExp&&e.test(o))||e===o}))))}var B=x,j=x,U=function(e,t){for(var r={},n=0,i=g.keys(e);n<i.length;n++){var s=i[n];Array.isArray(e[s])?r[s]=g.from(e[s]):r[s]=U({},e[s])}for(var o=0,a=g.keys(t);o<a.length;o++)(s=a[o])in e?Array.isArray(e[s])?r[s]=e[s].concat(t[s]):r[s]=U(e[s],t[s]):Array.isArray(t[s])?r[s]=g.from(t[s]):r[s]=U({},t[s]);return r},G={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var X={};X.blackAttrRegExps&&(X.blackAttrRegExps=X.blackAttrRegExps.map((function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))})));var $="merge";g.includes($,"override")&&(G=X),g.includes($,"merge")&&(G=U(G,X))}catch(e){console.log(e)}var V,Y={mode:"black",whiteList:{},blackConfig:G,collect:null,initCollect:function(){Y.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,r=function(r){Array.isArray(e[r])?0===e[r].length?delete e[r]:(e[r]=g.from(g.uniq(e[r])),t+=e[r].length):0===g.keys(e[r]).length?delete e[r]:g.keys(e[r]).forEach((function(n){e[r][n]=g.from(g.uniq(e[r][n])),t+=e[r][n].length}))},n=0,i=g.keys(e);n<i.length;n++)r(i[n]);return{count:t,ret:e}}(Y.collect),t=e.count,r=e.ret;return Y.collect=null,{collectKey:0===t?null:JSON.stringify(r),collectMode:"black"}},onIgnoreTag:function(e,t){var r;if(!g.includes(G.blackTags,e)){var n=P(t,(function(e,t,r,n,i){if(-1!==r.indexOf("/"))return f(n);if(i)return"</".concat(r,">");var s=function(e){var t,r=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=e.slice(r+1,-1).trim())[e.length-1];return n&&(e=e.slice(0,-1).trim()),{html:e,closing:n}}(n),o=C(s.html,(function(e,t){var n,i=0;if(G.blackList[r]&&g.includes(G.blackList[r],e)&&(Y.collect.blackList[r]=Y.collect.blackList[r]||[],Y.collect.blackList[r].push(e),i++),G.blackAttrRegExps.length&&G.blackAttrRegExps.some((function(t){return t.test(e)}))&&g.forEach(G.blackAttrRegExps,(function(t){t.test(e)&&(Y.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),i++)})),G.blackAttrs.length&&g.includes(G.blackAttrs,e)&&(G.blackAttrs.push(e),i++),!i){if(G.filterList&&G.filterList[r]&&g.includes(G.filterList[r],e)){var s=F(t,(function(e){var t;null===(t=Y.collect)||void 0===t||t.filterProtocol.push(e)}));return s!==t&&(Y.collect.filterList[r]=Y.collect.filterList[r]||[],Y.collect.filterList[r].push(e)),t?"".concat(e,"='").concat(s,"'"):e}return G.filterAttrs&&g.includes(G.filterAttrs,e)?(s=F(t,(function(e){var t;null===(t=Y.collect)||void 0===t||t.filterProtocol.push(e)})),s!==t&&(null===(n=Y.collect)||void 0===n||n.filterAttrs.push(e)),t?"".concat(e,"='").concat(s,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}}));return n="<".concat(r),o&&(n+=" ".concat(o)),s.closing&&(n+=" /"),n+">"}),f);return n}null===(r=Y.collect)||void 0===r||r.blackTags.push(e)}},z=function(e){var t=e.reportOnly,r=void 0===t||t,n=e.block;return r&&"all"===r?"report":("string"==typeof r&&("true"===r&&(r=!0),"false"===r&&(r=!1)),n?"enforce":r?"report":"enforce")},q=function(e){return function(r,n,i){if(!r||"string"!=typeof r)return r;var s=n;e===N&&(s=Y).initCollect();var o=e(r,s);if(R(o)===R(r))return r;if(!i)return o;var a=i.logType,c=z(i),l=s.removeCollect();return H.report(t(t({type:a,disposition:c},l),{sourceText:E(r.replace(/'/g,'"')),filterText:E(o.replace(/'/g,'"'))})),"enforce"===c?o:r}},K=q((function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new S(t).process(e)})),J=q(N),W=(V=F,function(e,t,r){var n=[],i=V(e,(function(e){n.push(e)}));if(i===e)return e;n=g.from(g.uniq(n));var s=t||r||{};if(!s)return i;var o=s.logType,a=z(r);return H.report({type:o,disposition:a,collectKey:n.join("___"),collectData:JSON.stringify(n),collectMode:"black",sourceText:E(e),filterText:E(i)}),"enforce"===a?i:e}),Q=k._xssProject||{},Z=k.xssNamespace||{},ee="3.0.30",te={FilterXSS:S,version:ee,webpackPluginVersion:"3.0.39",reportOnly:"all",filterXSS:K,_filterXSS:J,filterUrl:W,BlackConfig:Y,project:Q,setProjectName:function(e){Q[e]=this,k._xssProjectName=e}};Z.cc_web_editor_smart_toolbox=te,k.xssNamespace=Z,k.Math&&!k.Math.xssNamespace&&(k.Math.xssNamespace=Z),Q[ee]=te,k.globalThis=k,k.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:te},k.xss=te,k.isSafeUrl=B,k.isSafeDomain=j,k.isSafeProtocol=M,k._xssProject=Q,k._xssProjectName&&(Q[k._xssProjectName]=te);var re=te.setProjectName.bind(te);e.BlackConfig=Y,e.FilterXSS=S,e._filterXSS=J,e.filterUrl=W,e.filterXSS=K,e.isSafeDomain=j,e.isSafeProtocol=M,e.isSafeUrl=B,e.project=Q,e.setProjectName=re,e.setXssNamespace=function(e){var t=e.appId,r=e.bid,n=e.region,i=e.isCloseReport;Z[t]=te;var s=Y;s.bid=r,s.region=n,s.enabled=!0,s.isCloseReport=i},e.xssNamespace=Z,Object.defineProperty(e,"__esModule",{value:!0})})),(window.webpackChunksmart_toolbox=window.webpackChunksmart_toolbox||[]).push([[9978],{95118:function(e,t,r){"use strict";r.d(t,{h:function(){return U},F:function(){return j}});var n=r(66696),i=r(58519),s=r(67343),o=r(37814),a=r(41967),c=r(60162),l=r(84698),u=(r(85333),r(87176)),d=r(38e3),h=r(67308),p=r(88617),f=r(69052),g=r(14148),m=r(35754),v=r(38360),_=Object.defineProperty,y=(e,t,r)=>(((e,t,r)=>{t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const w={HOME:{PATH:"/",LOCALE_PATH:"/:locale/",MATCHER:"/:locale*/",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CREATIVE_SUITE:{PATH:"/creative-suite",LOCALE_PATH:"/:locale/creative-suite",MATCHER:"/:locale*/creative-suite",HAS_LOCALE_PREFIX:!0,INDEXING:!0},APPEAL_PAGE:{PATH:"/appeal-age-restriction",LOCALE_PATH:"/:locale/appeal-age-restriction",MATCHER:"/:locale*/appeal-age-restriction",HAS_LOCALE_PREFIX:!0},WORKSPACE:{CHILD:{MY_DRAFT:{NAME:"my_draft",PATH:"/my-edit",LOCALE_PATH:"/my-edit",MATCHER:"/my-edit",HAS_LOCALE_PREFIX:!1},TEMPLATE:{NAME:"templates",PATH:"/templates",LOCALE_PATH:"/templates",MATCHER:"/templates",HAS_LOCALE_PREFIX:!1},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/templates/:id",MATCHER:"/templates/:id",HAS_LOCALE_PREFIX:!1},MAGIC_TOOLS:{NAME:"magic_tools",PATH:"/magic-tools",LOCALE_PATH:"/magic-tools",MATCHER:"/magic-tools",HAS_LOCALE_PREFIX:!1},RECENT_LISTS:{NAME:"recent",PATH:"/recent-list",LOCALE_PATH:"/recent-list",MATCHER:"/recent-list",HAS_LOCALE_PREFIX:!1},MY_FILM:{NAME:"my_file",PATH:"/my-film",LOCALE_PATH:"/my-film",MATCHER:"/my-film",HAS_LOCALE_PREFIX:!1},MY_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud",LOCALE_PATH:"/my-cloud",MATCHER:"/my-cloud",HAS_LOCALE_PREFIX:!1},WORKSPACE_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud/:id",LOCALE_PATH:"/my-cloud/:id",MATCHER:"/my-cloud/:id",HAS_LOCALE_PREFIX:!1},MY_SHARE:{NAME:"share_records",PATH:"/my-share",LOCALE_PATH:"/my-share",MATCHER:"/my-share",HAS_LOCALE_PREFIX:!1},PUBLISH_CALENDAR:{NAME:"publish_calendar",PATH:"/publish-calendar",LOCALE_PATH:"/publish-calendar",MATCHER:"/publish-calendar",HAS_LOCALE_PREFIX:!1},PROFILE:{NAME:"profile",PATH:"/profile",LOCALE_PATH:"/profile",MATCHER:"/profile",HAS_LOCALE_PREFIX:!1},SEARCH:{NAME:"search",PATH:"/search",LOCALE_PATH:"/search",MATCHER:"/search",HAS_LOCALE_PREFIX:!1},SEARCH_RESULTS:{NAME:"search-results",PATH:"/search-results",LOCALE_PATH:"/search-results",MATCHER:"/search-results",HAS_LOCALE_PREFIX:!1},THIRDPARTY_START:{NAME:"thirdparty_start",PATH:"/thirdparty-start",LOCALE_PATH:"/thirdparty-start",MATCHER:"/thirdparty-start",HAS_LOCALE_PREFIX:!1},APPROVAL_RESULT:{PATH:"/approval-result",LOCALE_PATH:"/approval-result",MATCHER:"/approval-result",HAS_LOCALE_PREFIX:!0}}},LOGIN:{PATH:"/login",LOCALE_PATH:"/:locale/login",MATCHER:"/:locale*/login",HAS_LOCALE_PREFIX:!0,INDEXING:!0},SIGN_UP:{PATH:"/signup",LOCALE_PATH:"/:locale/signup",MATCHER:"/:locale*/signup",HAS_LOCALE_PREFIX:!0,INDEXING:!0},DOWNLOAD_GUIDANCE:{PATH:"/download-guidance",LOCALE_PATH:"/download-guidance",MATCHER:"/download-guidance",HAS_LOCALE_PREFIX:!1},INVITE:{PATH:"/invite",LOCALE_PATH:"/:locale/invite",MATCHER:"/:locale*/invite",HAS_LOCALE_PREFIX:!0},FORGET_PWD:{PATH:"/forget-password",LOCALE_PATH:"/:locale/forget-password",MATCHER:"/:locale*/forget-password",HAS_LOCALE_PREFIX:!0},TEAM_INVITE:{PATH:"/team-invite/:id",LOCALE_PATH:"/:locale/team-invite/:id",MATCHER:"/:locale*/team-invite/:id",HAS_LOCALE_PREFIX:!0},TEAM_APPLY:{PATH:"/team-apply",LOCALE_PATH:"/:locale/team-apply",MATCHER:"/:locale*/team-apply",HAS_LOCALE_PREFIX:!0},LOGIN_STATUS:{PATH:"/loginStatus",LOCALE_PATH:"/loginStatus",MATCHER:"/loginStatus",HAS_LOCALE_PREFIX:!1},LOGIN_STATUS_SERVER:{PATH:"/lv/v1/user/web/login/third_callback"},COOPERATION:{DETAIL:{PID:"/view/:id",PATH:"/view/:id",LOCALE_PATH:"/view/:id",MATCHER:"/:locale*/view/:id",HAS_LOCALE_PREFIX:!1},EXPERIENCE:{PATH:"/view",LOCALE_PATH:"/view",MATCHER:"/view",HAS_LOCALE_PREFIX:!1},SHARE:{PID:"/share/:id",PATH:"/share/:id",LOCALE_PATH:"/share/:id",MATCHER:"/share/:id",HAS_LOCALE_PREFIX:!1},EMBED:{PID:"/embed/:id",PATH:"/embed/:id",LOCALE_PATH:"/embed/:id",MATCHER:"/embed/:id",HAS_LOCALE_PREFIX:!1},RENDER:{PID:"/render/:id",PATH:"/render/:id",LOCALE_PATH:"/render/:id",MATCHER:"/render/:id",HAS_LOCALE_PREFIX:!1},REPORT:{PID:"/report",PATH:"/report",LOCALE_PATH:"/report",MATCHER:"/report",HAS_LOCALE_PREFIX:!1}},TOKEN_AUTH:{PATH:"/tokenAuth",LOCALE_PATH:"/tokenAuth",MATCHER:"/tokenAuth",HAS_LOCALE_PREFIX:!1},EDITOR:{PATH:"/editor",LOCALE_PATH:"/editor",MATCHER:"/editor",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TIKTOK_AUTH:{PATH:"/tiktokAuth",LOCALE_PATH:"/tiktokAuth",MATCHER:"/tiktokAuth",HAS_LOCALE_PREFIX:!1},THIRD_PARTY_ENTRANCE:{PATH:"/third-party-entrance",LOCALE_PATH:"/third-party-entrance",MATCHER:"/third-party-entrance",HAS_LOCALE_PREFIX:!1},PASSPORT_LOGIN:{PATH:"/passport/web/web_login"},COOKIE_SETTINGS:{PATH:"/cookie-settings",LOCALE_PATH:"/:locale/cookie-settings",MATCHER:"/:locale*/cookie-settings",HAS_LOCALE_PREFIX:!0,INDEXING:!0},THIRDPARTY_CLOUD_STORAGE_AUTH:{PATH:"/thirdpartyCloudStorageAuth",LOCALE_PATH:"/thirdpartyCloudStorageAuth",MATCHER:"/thirdpartyCloudStorageAuth",HAS_LOCALE_PREFIX:!1},CAPCUT_APP:{PATH:"/tools/video-editing-app",LOCALE_PATH:"/:locale/tools/video-editing-app",MATCHER:"/:locale*/tools/video-editing-app",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CMS_TOOLS:{PATH:"/tools/:title",LOCALE_PATH:"/:locale/tools/:title",MATCHER:"/:locale*/tools/:title",HAS_LOCALE_PREFIX:!0},CMS_CREATE:{PATH:"/create/:title",LOCALE_PATH:"/:locale/create/:title",MATCHER:"/:locale*/create/:title",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE:{PATH:"/resource/:title",LOCALE_PATH:"/:locale/resource/:title",MATCHER:"/:locale*/resource/:title",HAS_LOCALE_PREFIX:!0},CMS_TOOLS_AGGREGATION:{PATH:"/tools",LOCALE_PATH:"/:locale/tools",MATCHER:"/:locale*/tools",HAS_LOCALE_PREFIX:!0},CMS_CREATE_AGGREGATION:{PATH:"/create",LOCALE_PATH:"/:locale/create",MATCHER:"/:locale*/create",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE_AGGREGATION:{PATH:"/resource",LOCALE_PATH:"/:locale/resource",MATCHER:"/:locale*/resource",HAS_LOCALE_PREFIX:!0},COLLECT_RESOURCE:{NAME:"collect-resource",PATH:"/collect-resource/:token",LOCALE_PATH:"/collect-resource/:token",MATCHER:"/collect-resource/:token",HAS_LOCALE_PREFIX:!1},EDITOR_TOOLS:{NAME:"editor-tools",PATH:"/editor-tools",LOCALE_PATH:"/editor-tools/:name",MATCHER:"/editor-tools/:name",HAS_LOCALE_PREFIX:!1,TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_AVATAR:{PATH:"/magic-tools/generate-portrait",LOCALE_PATH:"/magic-tools/generate-portrait",MATCHER:"/magic-tools/generate-portrait",HAS_LOCALE_PREFIX:!1},IMAGE_NIGHT_ENHANCE:{PATH:"/magic-tools/enhance-low-light-image",LOCALE_PATH:"/magic-tools/enhance-low-light-image",MATCHER:"/magic-tools/enhance-low-light-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-photo",LOCALE_PATH:"/magic-tools/stylize-photo",MATCHER:"/magic-tools/stylize-photo",HAS_LOCALE_PREFIX:!1},IMAGE_UPSCALER:{PATH:"/magic-tools/upscale-image",LOCALE_PATH:"/magic-tools/upscale-image",MATCHER:"/magic-tools/upscale-image",HAS_LOCALE_PREFIX:!1},IMAGE_AI_TONING:{PATH:"/magic-tools/correct-color",LOCALE_PATH:"/magic-tools/correct-color",MATCHER:"/magic-tools/correct-color",HAS_LOCALE_PREFIX:!1},IMAGE_COLORING:{PATH:"/magic-tools/ai-colorize",LOCALE_PATH:"/magic-tools/ai-colorize",MATCHER:"/magic-tools/ai-colorize",HAS_LOCALE_PREFIX:!1},IMAGE_RESTORATION:{PATH:"/magic-tools/ai-restore",LOCALE_PATH:"/magic-tools/ai-restore",MATCHER:"/magic-tools/ai-restore",HAS_LOCALE_PREFIX:!1},VIDEO_VIDEO_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-video",LOCALE_PATH:"/magic-tools/stylize-video",MATCHER:"/magic-tools/stylize-video",HAS_LOCALE_PREFIX:!1},VIDEO_UPSCALER:{PATH:"/magic-tools/upscale-video",LOCALE_PATH:"/magic-tools/upscale-video",MATCHER:"/magic-tools/upscale-video",HAS_LOCALE_PREFIX:!1},VIDEO_SLOW_MOTION:{PATH:"/magic-tools/make-slomo",LOCALE_PATH:"/magic-tools/make-slomo",MATCHER:"/magic-tools/make-slomo",HAS_LOCALE_PREFIX:!1},VIDEO_STABILIZATION:{PATH:"/magic-tools/stablize-video",LOCALE_PATH:"/magic-tools/stablize-video",MATCHER:"/magic-tools/stablize-video",HAS_LOCALE_PREFIX:!1},TRANSFORM:{PATH:"/editor-tools/transform",LOCALE_PATH:"/editor-tools/transform",MATCHER:"/editor-tools/transform",HAS_LOCALE_PREFIX:!1},CUTOUT:{PATH:"/editor-tools/cutout",LOCALE_PATH:"/editor-tools/cutout",MATCHER:"/editor-tools/cutout",HAS_LOCALE_PREFIX:!1},SCRIPT:{PATH:"/editor-tools/script",LOCALE_PATH:"/editor-tools/script",MATCHER:"/editor-tools/script",HAS_LOCALE_PREFIX:!1},AUTO_CUT:{PATH:"/editor-tools/autocut",LOCALE_PATH:"/editor-tools/autocut",MATCHER:"/editor-tools/autocut",HAS_LOCALE_PREFIX:!1},TEXT_TO_VIDEO:{PATH:"/editor-tools/convert-script-to-video",LOCALE_PATH:"/editor-tools/convert-script-to-video",MATCHER:"/editor-tools/convert-script-to-video",HAS_LOCALE_PREFIX:!1},U2V:{PATH:"/editor-tools/url-to-ads",LOCALE_PATH:"/editor-tools/url-to-ads",MATCHER:"/editor-tools/url-to-ads",HAS_LOCALE_PREFIX:!1},LONG_TO_SHORT:{PATH:"/editor-tools/long-video-to-shorts",LOCALE_PATH:"/editor-tools/long-video-to-shorts",MATCHER:"/editor-tools/long-video-to-shorts",HAS_LOCALE_PREFIX:!1},AIGC_VIDEO:{PATH:"/editor-tools/ai-video-generator",LOCALE_PATH:"/editor-tools/ai-video-generator",MATCHER:"/editor-tools/ai-video-generator",HAS_LOCALE_PREFIX:!1}},TOOlS:{ONLINE:{PATH:"/tools/online-video-editor"},DESKTOP:{PATH:"/tools/desktop-video-editor"}},DISCOVER:{PATH:"/discover/keyword/:id",LOCALE_PATH:"/:locale/discover/keyword/:id",MATCHER:"/:locale*/discover/keyword/:id",HAS_LOCALE_PREFIX:!0},DISCOVER_TITLE:{PATH:"/discover/keyword/:title/:id",LOCALE_PATH:"/:locale/discover/keyword/:title/:id",MATCHER:"/:locale*/discover/keyword/:title/:id",HAS_LOCALE_PREFIX:!0},EDITOR_GRAPHIC:{PATH:"/editor-graphic",LOCALE_PATH:"/editor-graphic",MATCHER:"/editor-graphic",HAS_LOCALE_PREFIX:!1,INDEXING:!0},EDITOR_BATCH:{PATH:"/editor-batch",LOCALE_PATH:"/editor-batch",MATCHER:"/editor-batch",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/:locale/templates/:id",MATCHER:"/:locale*/templates/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_KEYWORDS:{PATH:"/template-detail/:key/:id",LOCALE_PATH:"/:locale/template-detail/:key/:id",MATCHER:"/:locale*/template-detail/:key/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_NO_KEYWORDS:{PATH:"/template-detail/:id",LOCALE_PATH:"/:locale/template-detail/:id",MATCHER:"/:locale*/template-detail/:id",HAS_LOCALE_PREFIX:!0},PROFILE:{PATH:"/profile/:id",LOCALE_PATH:"/:locale/profile/:id",MATCHER:"/:locale*/profile/:id",HAS_LOCALE_PREFIX:!0},SETTINGS:{PATH:"/settings",LOCALE_PATH:"/:locale/settings",MATCHER:"/:locale*/settings",HAS_LOCALE_PREFIX:!0},HASHTAG:{PATH:"/discover/hashtag/:title/:id",LOCALE_PATH:"/:locale/discover/hashtag/:title/:id",MATCHER:"/:locale*/discover/hashtag/:title/:id",HAS_LOCALE_PREFIX:!0},CATEGORY:{PATH:"/discover/category/:title/:id",LOCALE_PATH:"/:locale/discover/category/:title/:id",MATCHER:"/:locale*/discover/category/:title/:id",HAS_LOCALE_PREFIX:!0},CREATOR:{PATH:"/discover/creator/:id",LOCALE_PATH:"/:locale/discover/creator/:id",MATCHER:"/:locale*/discover/creator/:id",HAS_LOCALE_PREFIX:!0},UG_ARTICLE:{PATH:"/discover/article/:title/:id",LOCALE_PATH:"/:locale/discover/article/:title/:id",MATCHER:"/:locale*/discover/article/:title/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE:{PATH:"/templates",LOCALE_PATH:"/:locale/templates",MATCHER:"/:locale*/templates",HAS_LOCALE_PREFIX:!0},EDITOR_TEMPLATE:{PATH:"/editor-template",LOCALE_PATH:"/editor-template",MATCHER:"/editor-template",HAS_LOCALE_PREFIX:!1,INDEXING:!0},MAGIC_TOOLS:{TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1}},SCAN_QR_CODE:{PATH:"/scan-qr-code",LOCALE_PATH:"/scan-qr-code",MATCHER:"/scan-qr-code",HAS_LOCALE_PREFIX:!1,INDEXING:!1},FILL_BIRTHDAY:{PATH:"/birthday-information",LOCALE_PATH:"/:locale/birthday-information",MATCHER:"/:locale*/birthday-information",HAS_LOCALE_PREFIX:!0,INDEXING:!1},TUTORIAL:{PATH:"/tutorial",LOCALE_PATH:"/:locale/tutorial",MATCHER:"/:locale*/tutorial",HAS_LOCALE_PREFIX:!0}},A=(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/cookies-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/cookies-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/cookies-policy";case"es-LA":return"https://www.capcut.com/es-es/cookies-policy";case"pt-BR":return"https://www.capcut.com/pt-br/cookies-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/cookies-policy";case"de-DE":return"https://www.capcut.com/de-de/cookies-policy";case"it-IT":return"https://www.capcut.com/it-it/cookies-policy";case"th-TH":return"https://www.capcut.com/th-th/cookies-policy";case"id-ID":return"https://www.capcut.com/id-id/cookies-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/cookies-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/cookies-policy";case"ms-MY":return"https://www.capcut.com/ms-my/cookies-policy";default:return"https://www.capcut.com/cookies-policy"}},E={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1ebfng Vi\u1ec7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65e5\u672c\u8a9e"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7e41\u9ad4\u4e2d\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\ud55c\uad6d\uc5b4"}},L=Object.values(E).reduce(((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e)),{}),T={BR:{label:"\u5df4\u897f",locale:E.Portuguese,useBrowserLang:!1},MZ:{label:"\u83ab\u6851\u6bd4\u514b",locale:E.Portuguese,useBrowserLang:!1},AO:{label:"\u5b89\u54e5\u62c9",locale:E.Portuguese,useBrowserLang:!1},PT:{label:"\u8461\u8404\u7259",locale:E.Portuguese,useBrowserLang:!1},GW:{label:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",locale:E.Portuguese,useBrowserLang:!1},TL:{label:"\u4e1c\u5e1d\u6c76",locale:E.Portuguese,useBrowserLang:!1},GQ:{label:"\u8d64\u9053\u51e0\u5185\u4e9a",locale:E.Spanish,useBrowserLang:!0},CV:{label:"\u4f5b\u5f97\u89d2",locale:E.Portuguese,useBrowserLang:!1},ST:{label:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",locale:E.Portuguese,useBrowserLang:!1},MX:{label:"\u58a8\u897f\u54e5",locale:E.Spanish,useBrowserLang:!1},CO:{label:"\u54e5\u4f26\u6bd4\u4e9a",locale:E.Spanish,useBrowserLang:!1},ES:{label:"\u897f\u73ed\u7259",locale:E.Spanish,useBrowserLang:!1},AR:{label:"\u963f\u6839\u5ef7",locale:E.Spanish,useBrowserLang:!1},PE:{label:"\u79d8\u9c81",locale:E.Spanish,useBrowserLang:!1},VE:{label:"\u59d4\u5185\u745e\u62c9",locale:E.Spanish,useBrowserLang:!1},CL:{label:"\u667a\u5229",locale:E.Spanish,useBrowserLang:!1},EC:{label:"\u5384\u74dc\u591a\u5c14",locale:E.Spanish,useBrowserLang:!1},GT:{label:"\u5371\u5730\u9a6c\u62c9",locale:E.Spanish,useBrowserLang:!1},CU:{label:"\u53e4\u5df4",locale:E.Spanish,useBrowserLang:!1},BO:{label:"\u73bb\u5229\u7ef4\u4e9a",locale:E.Spanish,useBrowserLang:!1},DO:{label:"\u591a\u7c73\u5c3c\u52a0",locale:E.Spanish,useBrowserLang:!1},HN:{label:"\u6d2a\u90fd\u62c9\u65af",locale:E.Spanish,useBrowserLang:!1},PY:{label:"\u5df4\u62c9\u572d",locale:E.Spanish,useBrowserLang:!1},SV:{label:"\u8428\u5c14\u74e6\u591a",locale:E.Spanish,useBrowserLang:!1},NI:{label:"\u5c3c\u52a0\u62c9\u74dc",locale:E.Spanish,useBrowserLang:!1},CR:{label:"\u54e5\u65af\u8fbe\u9ece\u52a0",locale:E.Spanish,useBrowserLang:!1},PA:{label:"\u5df4\u62ff\u9a6c",locale:E.Spanish,useBrowserLang:!1},UY:{label:"\u4e4c\u62c9\u572d",locale:E.Spanish,useBrowserLang:!1},DE:{label:"\u5fb7\u56fd",locale:E.German,useBrowserLang:!1},AT:{label:"\u5965\u5730\u5229",locale:E.German,useBrowserLang:!1},LI:{label:"\u5217\u652f\u6566\u58eb\u767b",locale:E.German,useBrowserLang:!1},CH:{label:"\u745e\u58eb\uff08\u5fb7\u8bed\u548c\u6cd5\u8bed\u5747\u6709\u7528\u6237\uff09",locale:E.German,useBrowserLang:!0},LT:{label:"\u5362\u68ee\u5821\uff08\u6ca1\u6709\u660e\u663e\u8bed\u8a00\u5206\u5e03\uff0c\u6cd5\u8bed\u3001\u5fb7\u8bed\u90fd\u6709\uff09",locale:E.German,useBrowserLang:!0},CD:{label:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd",locale:E.French,useBrowserLang:!1},FR:{label:"\u6cd5\u56fd",locale:E.French,useBrowserLang:!1},CA:{label:"\u52a0\u62ff\u5927",locale:E.French,useBrowserLang:!1},MG:{label:"\u9a6c\u8fbe\u52a0\u65af\u52a0",locale:E.French,useBrowserLang:!1},CM:{label:"\u5580\u9ea6\u9686",locale:E.French,useBrowserLang:!1},CI:{label:"\u79d1\u7279\u8fea\u74e6",locale:E.French,useBrowserLang:!1},BF:{label:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",locale:E.French,useBrowserLang:!1},NE:{label:"\u5c3c\u65e5\u5c14",locale:E.French,useBrowserLang:!1},SN:{label:"\u585e\u5185\u52a0\u5c14",locale:E.French,useBrowserLang:!1},ML:{label:"\u9a6c\u91cc",locale:E.French,useBrowserLang:!1},RW:{label:"\u5362\u65fa\u8fbe",locale:E.French,useBrowserLang:!1},BE:{label:"\u6bd4\u5229\u65f6",locale:E.French,useBrowserLang:!1},HT:{label:"\u6d77\u5730",locale:E.French,useBrowserLang:!1},TD:{label:"\u4e4d\u5f97",locale:E.French,useBrowserLang:!1},CN:{label:"\u51e0\u5185\u4e9a",locale:E.French,useBrowserLang:!1},BI:{label:"\u5e03\u9686\u8fea",locale:E.French,useBrowserLang:!1},BJ:{label:"\u8d1d\u5b81",locale:E.French,useBrowserLang:!1},TG:{label:"\u591a\u54e5",locale:E.French,useBrowserLang:!1},CF:{label:"\u4e2d\u975e",locale:E.French,useBrowserLang:!1},CG:{label:"\u521a\u679c\u5171\u548c\u56fd",locale:E.French,useBrowserLang:!1},GA:{label:"\u52a0\u84ec",locale:E.French,useBrowserLang:!1},KM:{label:"\u79d1\u6469\u7f57",locale:E.French,useBrowserLang:!1},DJ:{label:"\u5409\u5e03\u63d0",locale:E.French,useBrowserLang:!1},VU:{label:"\u74e6\u52aa\u963f\u56fe",locale:E.French,useBrowserLang:!1},SC:{label:"\u585e\u820c\u5c14",locale:E.French,useBrowserLang:!1},MC:{label:"\u6469\u7eb3\u54e5",locale:E.French,useBrowserLang:!1},JP:{label:"\u65e5\u672c",locale:E.Japan,useBrowserLang:!1},KR:{label:"\u97e9\u56fd",locale:E.Korea,useBrowserLang:!1},KP:{label:"\u671d\u9c9c",locale:E.Korea,useBrowserLang:!1},TR:{label:"\u571f\u8033\u5176",locale:E.Turkey,useBrowserLang:!1},TRNC:{label:"\u5317\u585e\u6d66\u8def\u65af",locale:E.Turkey,useBrowserLang:!1},CY:{label:"\u585e\u6d66\u8def\u65af",locale:E.Turkey,useBrowserLang:!1},IT:{label:"\u610f\u5927\u5229",locale:E.italian,useBrowserLang:!1},SM:{label:"\u5723\u9a6c\u529b\u8bfa",locale:E.italian,useBrowserLang:!1},VA:{label:"\u68b5\u8482\u5188",locale:E.italian,useBrowserLang:!0},TH:{label:"\u6cf0\u56fd",locale:E.Thai,useBrowserLang:!1},ID:{label:"\u5370\u5ea6\u5c3c\u897f\u4e9a",locale:E.Indonesian,useBrowserLang:!1},VN:{label:"\u8d8a\u5357",locale:E.vietnamese,useBrowserLang:!1},PH:{label:"\u83f2\u5f8b\u5bbe",locale:E.Filipino,useBrowserLang:!0},MY:{label:"\u9a6c\u6765\u897f\u4e9a",locale:E.Malay,useBrowserLang:!1},BN:{label:"\u6587\u83b1",locale:E.Malay,useBrowserLang:!1}},P={AT:{needCookieBanner:!0},BE:{needCookieBanner:!0},BG:{needCookieBanner:!0},HR:{needCookieBanner:!0},CY:{needCookieBanner:!0},CZ:{needCookieBanner:!0},DK:{needCookieBanner:!0},EE:{needCookieBanner:!0},FI:{needCookieBanner:!0},FR:{needCookieBanner:!0},DE:{needCookieBanner:!0},EL:{needCookieBanner:!0},HU:{needCookieBanner:!0},IE:{needCookieBanner:!0},IT:{needCookieBanner:!0},LV:{needCookieBanner:!0},LT:{needCookieBanner:!0},LU:{needCookieBanner:!0},MT:{needCookieBanner:!0},NL:{needCookieBanner:!0},PL:{needCookieBanner:!0},PT:{needCookieBanner:!0},RO:{needCookieBanner:!0},SK:{needCookieBanner:!0},SI:{needCookieBanner:!0},ES:{needCookieBanner:!0},SE:{needCookieBanner:!0},NO:{needCookieBanner:!0},IS:{needCookieBanner:!0},LI:{needCookieBanner:!0},UK:{needCookieBanner:!0},CH:{needCookieBanner:!0},TR:{needCookieBanner:!0}},C="es-ES";const b=new class{get sdk(){if(!(typeof window>"u"))return null==window?void 0:window.ccWebSlardar}init(e){var t;null==(t=this.sdk)||t.call(this,"init",e)}start(){var e;null==(e=this.sdk)||e.call(this,"start")}config(e){var t;null==(t=this.sdk)||t.call(this,"config",e)}error(e,t,r={}){var n;const i=null!=r&&r.level?null==r?void 0:r.level:"warn",s=(0,c.A)(t)?(e=>{const t=new Error(e.message);return t.name=e.name,t.stack=e.stack,t.message=e.message,t})(t):new Error(JSON.stringify(t)),{message:o}=s;s.message=`\u3010Custom-Error\u3011:${e}-${r.toGroup?"MoreDataInExternal":null==s?void 0:s.message}`,r.toGroup&&(Object.assign(r,{message:o}),delete r.toGroup),null==(n=this.sdk)||n.call(this,"captureException",s,{...r,level:i})}dataEvent(e,t={}){var r;const n=null!=t&&t.level?null==t?void 0:t.level:"info",i=(0,o.A)(t,a.A);null==(r=this.sdk)||r.call(this,"sendEvent",{name:`\u3010Custom-Data\u3011: ${e}`,metrics:i,categories:{...t,level:n}})}log(e,t={}){var r;const n=null!=t&&t.level?null==t?void 0:t.level:"info";null==(r=this.sdk)||r.call(this,"sendLog",{content:`\u3010Custom-Log\u3011: ${e}`,level:n,extra:{...t}})}setCurrentBranch(e=""){var t;e&&(null==(t=this.sdk)||t.call(this,"context.set","branch",e))}};(0,h.createContext)({locale:void 0});const R="capcut_locale";function S(){const e={};return function t(r){if(r instanceof Array)r.forEach((e=>t(e)));else if(r instanceof Object){if(r.PATH&&void 0!==r.HAS_LOCALE_PREFIX)return void(e[r.PATH]={matcher:r.MATCHER,hasLocalePrefix:r.HAS_LOCALE_PREFIX});t(Object.values(r))}}(w),e}const I=class e{constructor(t){y(this,"options"),y(this,"locale");const r={countryCode:typeof window<"u"?window.__locationCountryCode:void 0,defaultLocale:"en",isServer:!1};this.options=Object.assign({},r,t,{cookieName:R}),this.options.locale&&e.validateLocale(this.options.locale)?this.locale=this.options.locale:this._initLocale(),this._listenCookieChange()}static setQueryLocale(t,r){if(null!=r&&r.fuzzyMatch){const r=e.getMachLocale(t);r&&(e.queryLocale=r)}else e.validateLocale(t)&&(e.queryLocale=t)}static getLocalPrefix(e){let t;const r=this.getSupportLocales();for(const{locale:n,pathPrefix:i}of r){const r=`/${i}/`;if(e.startsWith(r))return t=n,t}return t}static getPathPrefix(e){const t=this.getSupportLocales();for(const{pathPrefix:r}of t){const t=`/${r}/`;if(e.startsWith(t))return r}}static isValidLocalPath(e,t={forceLocal:!1}){const r=this.getPathPrefix(e),n=S(),i=Object.entries(n).map((([e,{matcher:t,hasLocalePrefix:r}])=>({hasLocalePrefix:r,route:e,matcher:(0,v.YW)(e,{decode:decodeURIComponent}),localMatcher:(0,v.YW)(t,{decode:decodeURIComponent})})));for(let s=0;s<i.length;s++){const n=i[s];if(n.matcher(e)&&!r)return!t.forceLocal||n.hasLocalePrefix;if(n.hasLocalePrefix&&n.localMatcher(e))return!!r}return!1}static formatRoutePath({locale:e,path:t,forceAddLocalePrefix:r=!1}){var n;let i=!1;"en"===e||null!=e&&e.includes("-")?e===C&&(e=E.Spanish.key):e=Object.values(E).map((e=>e.key)).find((t=>t.startsWith(e)))||e;const s=this.getSupportLocales();if(!L[e]&&"en"!==e)return t;for(const{pathPrefix:l}of s)if(l){const e=`/${l}/`;if(t.startsWith(e)){t=t.replace(e,"/"),i=!0;break}}if(r||i)return L[e]?`/${L[e]}${t}`:t;const o=S(),a=Object.keys(o),c=a.map((e=>(0,v.YW)(e,{decode:decodeURIComponent})));for(let l=0;l<c.length;l++)if(c[l](null==(n=null==t?void 0:t.split("?"))?void 0:n[0]))return o[a[l]].hasLocalePrefix&&L[e]?`/${L[e]}${t}`:t;return t}static getOriginalPath(e){const t=this.getPathPrefix(e);return t?e.replace(new RegExp(`^/${t}`),""):e}static getOriginalUrl(e){const t=this.getSupportLocales();for(const{pathPrefix:r}of t)if(r&&e.includes(r))return e.replace(new RegExp(`/${r}`),"");return e}static getSupportLocales(){return Object.values(E).filter((e=>!e.disable)).map((({key:e,text:t,pathPrefix:r,matcher:n})=>({locale:e,pathPrefix:r,text:t,matcher:n})))}static getHreflangLocales(){const t=e.getSupportLocales(),r={[E.Spanish.key]:C,[E.Filipino.key]:"tl-PH",[E.TraditionalChinese.key]:"zh-TW"};return(0,m.A)(t.map((e=>{const t={locale:e.locale,hreflang:e.locale},n=[];return r[t.locale]&&(t.hreflang=r[e.locale]),t.hreflang.includes("-")&&n.push({locale:t.locale,hreflang:t.hreflang.substring(0,t.hreflang.indexOf("-"))}),n.push(t),n})))}static validateLocale(t,r){return!!t&&!!e.getSupportLocales().find((e=>!(null==r||!r.fuzzyMatch||!e.matcher.test(t.toLowerCase()))||e.locale===t))}static getMachLocale(t){var r;return null==(r=e.getSupportLocales().find((e=>e.matcher.test(t.toLowerCase()))))?void 0:r.locale}getCurrentLocale({localeFix:t}={localeFix:!1}){return e.queryLocale?e.queryLocale:t||this.locale!==C?t&&this.locale===E.Spanish.key?C:this.locale:E.Spanish.key}setCurrentLocale(e,t){null!=t&&t.disableCookie||this._setCookie(e),this.locale=e}getSupportLocales(){return e.getSupportLocales()}formatLocalePath(t){const r={forceAddLocalePrefix:!1,locale:this.getCurrentLocale(),...t},{path:n}=r;if(!n.startsWith("/"))throw new Error("path invalid, please confirm its startsWith /");const{locale:i,forceAddLocalePrefix:s}=r;return e.formatRoutePath({locale:i,path:n,forceAddLocalePrefix:s})}_initLocale(){var t,r;const{cookieName:n,countryCode:i,defaultLocale:s,getBrowserLang:o,cookieGetter:a}=this.options;if(this.isBrowser()){const t=e.getLocalPrefix(window.location.pathname);if(t)return this.locale=t===C?E.Spanish.key:t,void(a(n)||this._setCookie(t))}const c=a(n);if(c&&e.validateLocale(c))return void(this.locale=c);let l=this._formatLocale(o());if(l||(l=s),!i||!T[i]||null!=(r=null==(t=T[i])?void 0:t.locale)&&r.disable)return this.locale=l,void this._setCookie(l);const{locale:u,useBrowserLang:d}=T[i];return d?(this.locale=l,void this._setCookie(l)):(this.locale=u.key,void this._setCookie(u.key))}_setCookie(e){const{cookieName:t,cookieSetter:r,isServer:n}=this.options;r(t,e,n?{maxAge:31536e7,httpOnly:!1,secure:!1,overwrite:!0}:{expires:3650})}_formatLocale(t){if(!t||e.validateLocale(t))return t;const r=Object.values(E);for(const e of r){const{key:r,matcher:n}=e;if(r===t||t.match(n))return r}}_listenCookieChange(){}isBrowser(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}};y(I,"CookieName",R),y(I,"queryLocale");let O=I;class k{static getString(e){return typeof window>"u"||!navigator.cookieEnabled?null:localStorage.getItem(e)}static setString(e,t){if(!(typeof window>"u")&&navigator.cookieEnabled)return localStorage.setItem(e,t)}static getJsonWithEmptyJson(e){let t;try{const r=typeof localStorage<"u"&&localStorage.getItem(e)||"{}";t=JSON.parse(r)}catch(r){b.error("LocalStorage-getJsonWithEmptyJson()",r)}return t}static getJson(e){if(typeof window>"u"||!navigator.cookieEnabled)return;const t=typeof localStorage<"u"&&localStorage.getItem(e);let r;if(t){try{r=JSON.parse(t)}catch(n){b.error("localStorage-parse(origin)",n)}return r}}static setJson(e,t){if(!(typeof window>"u")&&navigator.cookieEnabled)try{localStorage.setItem(e,JSON.stringify(t))}catch(r){b.error("localStorage-set",r)}}static getNestedJsonItem(e,t){return this.getJsonWithEmptyJson(e)[t]??{}}static setNestedJsonItem(e,t,r){const n=this.getJsonWithEmptyJson(e),i=n[t]??{},s={...n,[t]:{...i,...r}};try{this.setJson(e,s)}catch(o){b.error("localStorage-set",o)}}static removeItem(e){typeof window>"u"||!navigator.cookieEnabled||localStorage.removeItem(e)}}class H{static getString(e){return l.A.get(e)}static setString(e,t,r){l.A.set(e,t,{expires:r?new Date(r):void 0})}static getJson(e){const t=l.A.get(e);let r=null;if(!t)return null;try{r=JSON.parse(t)}catch(n){console.error("CookiesTool JSON parse Error:",n)}return r}static removeItem(e){l.A.remove(e)}}const{COOKIE_CONSENT_PROMPT_CONFIG:N}={RECENT_LIST_FILE_TYPE:"RECENT_LIST_FILE_TYPE",RECENT_LIST_VIEW_TYPE:"RECENT_LIST_VIEW_TYPE",LIST_VIEW_TYPE:"LIST_VIEW_TYPE",LIST_DISPLAY_TYPE:"LIST_DISPLAY_TYPE",LIST_SORT_BY:"LIST_SORT_BY",RECYCLE_LIST_SORT_BY:"RECYCLE_LIST_SORT_BY",LIST_SORT_DIRECTION:"LIST_SORT_DIRECTION",RECYCLE_LIST_SORT_DIRECTION:"RECYCLE_LIST_SORT_DIRECTION",COOKIE_CONSENT_PROMPT_CONFIG:"COOKIE_CONSENT_PROMPT_CONFIG",THIRTPARTY_FEEDBACK:"THIRTPARTY_FEEDBACK",LV_TASK_CENTER:"LV_TASK_CENTER",THIRDPARTY_CLOUD_AUTH:"THIRDPARTY_CLOUD_AUTH",SURVEY_OPEN:"SURVEY_OPEN",CLOUD_STORAGE_PAYMENT_AND_BINDING:"CLOUD_STORAGE_PAYMENT_AND_BINDING",THIRDPARTY_SHARE_AUTH:"THIRDPARTY_SHARE_AUTH",CAPCUT_THEME:"CAPCUT_THEME",CAPCUT_TEMPLATE_VIDEO_VOLUME:"CAPCUT_TEMPLATE_VIDEO_VOLUME",GUIDE_FROM_TEAM_INVITE:"GUIDE_FROM_TEAM_INVITE",GUIDE_FROM_SIGN_UP:"GUIDE_FROM_SIGN_UP",COMPREHENSIVE_SEARCH_HISTORY:"COMPREHENSIVE_SEARCH_HISTORY",CC_WEB_IM_CONFIG:"CC_WEB_IM_CONFIG"},D=34128e6,M={status:0,settings:{firstPartyAnalytics:!1,GoogleAnalytics:!1},updatedTime:0};function F(){const e=e=>{const t=Date.now()-Number(e.updatedTime),r=D-t;H.setString(N,JSON.stringify(e),Date.now()+r)},t=k.getJson(N);if(t)H.getJson(N)||e(t),k.removeItem(N);else{const t=H.getJson(N);t&&!k.getString("re-expires")&&(e(t),k.setString("re-expires","1"))}}function x(){F();return H.getJson(N)||M}const B=(0,n.O)({id:"cookiesConsentPromptMachine",initial:"unknown",context:{...x()},states:{unknown:{always:[{target:"show",cond:"shouldShowPrompt"},{target:"close",cond:"didUserAccpetOrDecline"}]},show:{entry:["resetConfig"],invoke:{id:"listeningUserAction",src:"listeningUserAction"},on:{ACCPET:{target:"close",actions:["accpetAllCookies","persistConfig"]},DECLINE:{target:"close",actions:["accpetEssentialCookies","persistConfig"]},DONE:{target:"close",actions:["retrievePersistentConfig"]}}},close:{}},on:{TOGGLE_SETTING:{actions:["toggleSetting","persistConfig"]}}},{services:{listeningUserAction:()=>e=>{function t(t){t.storageArea!==localStorage||t.key!==N||e("DONE")}return typeof window<"u"&&window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}}},actions:{resetConfig:(0,i.kp)((()=>M)),accpetAllCookies:(0,i.kp)((()=>({status:1,settings:{firstPartyAnalytics:!0,GoogleAnalytics:!0},updatedTime:Date.now()}))),accpetEssentialCookies:(0,i.kp)((()=>({status:2,settings:{firstPartyAnalytics:!1,GoogleAnalytics:!1},updatedTime:Date.now()}))),toggleSetting:(0,i.kp)((({settings:e},t)=>({status:1,settings:{...e,...t.settings},updatedTime:Date.now()}))),persistConfig:e=>{H.setString(N,JSON.stringify(e),Number(e.updatedTime)+Number(D))},retrievePersistentConfig:(0,i.kp)(x)},guards:{shouldShowPrompt:({status:e,updatedTime:t})=>{const r=0===e,n=Date.now()-t>D;return r||n},didUserAccpetOrDecline:({status:e,updatedTime:t})=>{const r=[1,2].some((t=>t===e)),n=Date.now()-t<=D;return r&&n}}});const j=new class{constructor(){y(this,"service",(0,s.U4)(B).start()),y(this,"onChangeSet",new Set),this.service.onChange((({settings:e})=>{for(const t of this.onChangeSet)t(e)}))}getSettings(){return this.service.getSnapshot().context.settings}onChange(e){this.onChangeSet.add(e),e(this.getSettings())}},U=({countryCode:e})=>{const t=!(e=>{if(!e)return!0;const{needCookieBanner:t}=P[e]??{needCookieBanner:!1};return!!t})(e||""),[r,n]=(0,h.useState)(!1),[i,s]=(0,h.useState)(!1),[o,a]=(0,p.B)(j.service),c=o.matches("show");return(0,h.useEffect)((()=>{n(c)}),[o]),(0,h.useEffect)((()=>{F(),s(c)}),[]),(0,h.useEffect)((()=>{t&&a("ACCPET")}),[t]),i&&!t?(0,d.jsx)("div",{children:(0,d.jsx)(f.A,{in:r,timeout:200,className:"lv_cookie_banner-wrapper",onExited:()=>{s(!1)},children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"lv_cookie_banner-title",children:g.Ay.t("accept_web_cookie")}),(0,d.jsx)("p",{className:"lv_cookie_banner-paragrah",children:g.Ay.t("tech_similar_cookie_service",{},"We use cookies and similar technologies to provide and maintain our services, improve your experience on our website, ensure the security, performance and stability of the website, and analyze and measure how our services are used.")}),(0,d.jsx)("p",{className:"lv_cookie_banner-paragrah",children:g.Ay.t("web_click_once_accept_all",{"cookies-policy":e=>(0,d.jsx)("a",{className:"lv-link",href:A(g.Ay.language),target:"_blank",rel:"noreferrer",children:e},"cookies-policy"),"cookie-settings":e=>(0,d.jsx)("a",{className:"lv-link",href:`${location.origin}${O.formatRoutePath({locale:g.Ay.language,path:w.COOKIE_SETTINGS.PATH})}`,target:"_blank",rel:"noreferrer",children:e},"cookie-settings")},'By clicking "Accept all", you agree to the use of cookies for analysis and measurement purposes. By clicking "Decline all", you decline the use of cookies for analysis and measurement purposes. Learn more about how we use cookies in our <cookies-policy>Cookies Policy</cookies-policy>. You can <cookie-settings>manage your cookies</cookie-settings> at any time.')}),(0,d.jsxs)("div",{className:"lv_cookie_banner-footer",children:[(0,d.jsx)(u.A,{type:"primary",size:"small",onClick:()=>{a("DECLINE")},children:g.Ay.t("reject_all")}),(0,d.jsx)(u.A,{type:"primary",size:"small",onClick:()=>{a("ACCPET")},children:g.Ay.t("accept_all")})]})]})})}):null}},85970:function(e,t,r){"use strict";r.d(t,{Er:function(){return te},I3:function(){return Fe},N8:function(){return k},QO:function(){return St},cO:function(){return A},ij:function(){return T},o4:function(){return w},s0:function(){return E},sl:function(){return F},xI:function(){return L}});var n=r(72579),i=r.n(n),s=r(97724),o=r(2799),a=r.n(o),c=r(2633),l=r(23974),u=r(41048),d=r(75830),h=r(84698),p=r(19240),f=r(14148),g=r(63487),m=r.n(g),v=Object.defineProperty,_=(e,t,r)=>(((e,t,r)=>{t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);function y(e){let t="";t=e<102.4?`${e.toFixed(2)}B`:e<104857.6?`${(e/1024).toFixed(2)}KB`:e<1073741824?`${(e/1048576).toFixed(2)}MB`:e<1099511627776?`${(e/1073741824).toFixed(2)}GB`:`${(e/1099511627776).toFixed(2)}TB`;const r=`${t}`,n=r.indexOf(".");return"00"==r.substr(n+1,2)?r.substring(0,n)+r.substr(n+3,2):t}const w=(()=>{const e={file:{acceptType:["application/zip"],acceptSuffix:[".zip"]},video:{acceptType:["video/mp4","video/mov","video/m4v","video/x-flv","video/quicktime","video/avi","video/webm","video/mp2t","video/x-ms-asf"],acceptSuffix:[".mp4",".mov",".m4v",".flv",".mkv",".avi",".webm",".wmv",".rm",".rmvb",".3gp",".m2ts",".mt2s",".m2t",".mxf",".mpg",".mpeg",".mpe",".ts",".mts",".qt",".asf"]},audio:{acceptType:["audio/mp3","audio/mpeg","audio/m4a","audio/x-m4a","audio/wav","audio/flac"],acceptSuffix:[".mp3",".flac",".m4a",".wav",".aac",".oga",".ogg",".wma",".amr",".aif",".aiff",".ac3",".mpa",".ape",".mac",".mp2",".acc"]},image:{acceptType:["image/jpeg","image/jpg","image/webp","image/bmp","image/png","image/gif","image/heif","image/heic","image/tiff","image/x-tiff","image/x-icon","image/vnd.microsoft.icon","image/svg+xml","image/vnd.adobe.photoshop","image/avif"],acceptSuffix:[".jpeg",".jpg",".png",".gif",".heif",".heic",".tiff",".tif",".ico",".svg",".svgz",".psd",".avif"]}},t=t=>[...e[t].acceptType,...e[t].acceptSuffix].join(",");return{file:{...e.file,accept:t("file")},video:{...e.video,accept:t("video")},audio:{...e.audio,accept:t("audio")},image:{...e.image,accept:t("image")},allAccept:`${t("video")},${t("audio")},${t("image")}`}})();function A({file:e,accepts:t=["audio","video","image"]}){const r=e.name.lastIndexOf(".");let n="";if(-1!==r&&(n=e.name.substr(r)),n)for(const s of t)if(w[s].acceptSuffix.includes(n.toLocaleLowerCase()))return s;const i=e.type.toLocaleLowerCase();if(i)for(const s of t)if(w[s].acceptType.includes(i))return s}function E({file:e,accepts:t=["video","audio","image"]}){return!!A({file:e,accepts:t})}function L(e){let t;if(!e)return"file";const r={video:["application/vnd.rn-realmedia-vbr","application/vnd.rn-realmedia","application/mxf"],audio:["application/x-wav","application/ogg","video/x-ms-wma"],image:[]};for(const[n,i]of Object.entries(r))if(i.includes(e.toLocaleLowerCase()))return n;return t=e.toLowerCase().startsWith("video")?"video":e.toLowerCase().startsWith("image")?"image":e.toLowerCase().startsWith("audio")?"audio":"file",t}function T(e){switch(e){case"audio":return"audio";case"video":case"film":return"video";case"image":case"live-photo":return"image";case"file":return"file";default:return}}function P(e){const{obj:t,serializeKey:r,targetKey:n}=e;let i;try{i=JSON.parse(t[r])}catch{console.warn(`${r} \u5b57\u6bb5\u975e\u6cd5,\u65e0\u6cd5\u89e3\u6790\u8be5\u5b57\u6bb5\u5185\u5bb9`,t)}return{...t,[n]:i}}const C="10001";var b=(e=>(e.USER_SPACE_SIZE_CHANGE="USER_SPACE_SIZE_CHANGE",e))(b||{}),R=(e=>(e[e.PERSONAL=1]="PERSONAL",e[e.PUBLIC=0]="PUBLIC",e))(R||{}),S=(e=>(e[e.VA=0]="VA",e[e.GCP=1]="GCP",e[e.CN=2]="CN",e))(S||{});const I={[S.VA]:"va",[S.GCP]:"gcp"},O=[200,360,480,720,1080,2400,"origin"],k={P200:200,P360:360,P480:480,P720:720,P1080:1080,P2400:2400,ORIGIN:"origin"};k.P200,k.P360,k.P480,k.P720,k.P1080,k.P2400,k.ORIGIN;const H={0:"origin",1:200,2:360,3:480,4:720,5:1080,6:2400},N={origin:0,200:1,360:2,480:3,720:4,1080:5,2400:6};var D=(e=>(e[e.UNTRANSCODE=-1]="UNTRANSCODE",e[e.SUCCESS=0]="SUCCESS",e[e.TRANSCODING=1]="TRANSCODING",e[e.FAILED=2]="FAILED",e[e.TIMEOUT=3]="TIMEOUT",e[e.CANCEL=-2]="CANCEL",e))(D||{});const M={360:[640,360],480:[854,480],720:[1280,720],1080:[1920,1080]},F={VIDEO:"video",AUDIO:"audio",IMAGE:"image",LIVE_PHOTO:"live-photo",FILM:"film",PACKAGE:"package",CLUSTER_FILM:"cluster-film",NORMAL:"file",FOLDER:"folder"};class x{constructor(e){this._sourceData=e}}var B=(e=>(e[e.NORMAL=0]="NORMAL",e[e.SCRIPT=3]="SCRIPT",e[e.GRAPHIC=5]="GRAPHIC",e))(B||{}),j=(e=>(e[e.EDIT=0]="EDIT",e[e.TEMPLATE=1]="TEMPLATE",e[e.IMAGE_TEXT=2]="IMAGE_TEXT",e[e.SCRIPT=3]="SCRIPT",e[e.TOOL=4]="TOOL",e[e.GRAPHIC=5]="GRAPHIC",e))(j||{});class U extends x{constructor(e,t){super(P({obj:e,serializeKey:"meta",targetKey:"_meta"})),this.sdk=t}get isValid(){return!(0,c.A)(this._sourceData._meta)}get id(){return this.notOnlyId}get notOnlyId(){return this._sourceData.id}get md5(){return this._sourceData.md5}get name(){return this._sourceData.file_name}get author(){return this._sourceData.author}get sourcePath(){return this._sourceData.source_path}get mime(){return this._sourceData.mime}get subType(){return this._sourceData.sub_type}get size(){return this._sourceData.size}get sizeStr(){return y(this.size)}get filterList(){return this._sourceData.filter_list||[]}get type(){return F.NORMAL}get width(){return this._sourceData.width}get height(){return this._sourceData.height}get updatedAt(){var e,t;return 1e3*((null==(t=null==(e=this._sourceData)?void 0:e.entry)?void 0:t.access_at_ts)||this._sourceData.updated_at_ts)}get createdAt(){return 1e3*this._sourceData.uploaded_at}get downloadUrl(){var e;return null==(e=this._sourceData.asset_meta)?void 0:e.download_url}get meta(){var e;return null==(e=this._sourceData)?void 0:e._meta}get status(){var e;return null==(e=this._sourceData)?void 0:e.status}get permission(){return xe.isGroupSdk?this._sourceData.permission||R.PUBLIC:R.PERSONAL}get isPublic(){return this.permission===R.PUBLIC}get isPersonal(){return this.permission===R.PERSONAL}get owner(){var e,t,r;return null==(r=null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.uploadSource)?void 0:r.owner}get uploadedAt(){return 1e3*this._sourceData.uploaded_at}get entryId(){return this._sourceData.entry_id}get entry(){return this._sourceData.entry}get sourceData(){return this._sourceData}get hasMaterialTag(){return this._sourceData.has_material_tag}}class G extends U{get type(){return F.AUDIO}get duration(){return this._sourceData.duration}get unencryptedPreviewUrl(){var e,t,r,n;return null==(n=null==(r=null==(t=null==(e=this._sourceData)?void 0:e.unencryptedPlayInfo)?void 0:t.info)?void 0:r.audio)?void 0:n.primary_url}get transcodeStatus(){return this._sourceData.transcode_status}}class X extends U{get type(){return F.IMAGE}get previewUrl(){var e,t,r;return(null==(e=this.imageTranscodeInfo[360])?void 0:e.status_code)===D.SUCCESS?this.imageTranscodeInfo[360].preview_url:null==(r=null==(t=this._sourceData)?void 0:t.asset_meta)?void 0:r.preview360_url}get previewKey(){var e,t,r;return(null==(e=this.imageTranscodeInfo[360])?void 0:e.status_code)===D.SUCCESS?this.imageTranscodeInfo[360].key:null==(r=null==(t=this._sourceData)?void 0:t.asset_meta)?void 0:r.key}get preview72Url(){var e,t,r;return(null==(e=this.imageTranscodeInfo[720])?void 0:e.status_code)===D.SUCCESS?this.imageTranscodeInfo[720].preview_url:null==(r=null==(t=this._sourceData)?void 0:t.asset_meta)?void 0:r.preview720_url}get imageAsyncResize(){return!!this._sourceData.image_async_resize}getTranscodeStatus(e){const t={};return(null!=e&&e.length?e:O).forEach((e=>{var r,n,i;const s=`preview${e}_url`,o=null==(n=null==(r=this._sourceData)?void 0:r.asset_meta)?void 0:n[s],a=e===k.ORIGIN?e:`p_${e}`,c=null==(i=this._sourceData.image_transcode_info)?void 0:i[a];c?t[e]=c.status_code:o?t[e]=D.SUCCESS:this.imageAsyncResize?t[e]=D.TRANSCODING:t[e]=D.UNTRANSCODE})),t}get imageTranscodeInfo(){const e={};return O.forEach((t=>{var r,n,i,s,o,a;const c=`preview${t}_url`,l=null==(n=null==(r=this._sourceData)?void 0:r.asset_meta)?void 0:n[c],u=t===k.ORIGIN?t:`p_${t}`,d=null==(i=this._sourceData.image_transcode_info)?void 0:i[u];if(d)e[t]={...d,key:this._sourceData.image_transcode_info.key};else if(l&&(null==(s=e[t])||!s.preview_url)){const r=this.getPreviewSizeByResolution(t);e[t]={preview_url:l,width:r.width,height:r.height,status_code:D.SUCCESS,key:null==(a=null==(o=this._sourceData)?void 0:o.asset_meta)?void 0:a.key}}})),e}async getPreviewInfo(e){return this.sdk?this.sdk.getImagePreviewInfo(this,e):this.imageTranscodeInfo}getPreviewSizeByResolution(e){const t=M[e];if(!t||!this.width||!this.height||e===k.ORIGIN)return{width:0,height:0};const r=this.width||0,n=this.height||0,[i,s]=t;if(r/n>3){if(r*n<i*s)return{width:r,height:n};const e=Math.sqrt(i*s/(r*n));return{width:Math.floor(r*e),height:Math.floor(n*e)}}if(r<=i&&n<=s)return{width:r,height:n};const o=i/r,a=s/n;let c;return c=o>a?a:o,{width:Math.floor(r*c),height:Math.floor(n*c)}}}class $ extends U{get type(){return F.VIDEO}get duration(){return this._sourceData.duration}get width(){return this._sourceData.width}get height(){return this._sourceData.height}get previewUrl(){var e,t;return null==(t=null==(e=this._sourceData)?void 0:e.asset_meta)?void 0:t.preview360_url}get previewKey(){var e,t;return null==(t=null==(e=this._sourceData)?void 0:e.asset_meta)?void 0:t.key}get unencryptedPreviewUrl(){var e,t,r,n;return null==(n=null==(r=null==(t=null==(e=this._sourceData)?void 0:e.unencryptedPlayInfo)?void 0:t.info)?void 0:r.p360)?void 0:n.primary_url}get sprit(){return this._sourceData.sprite_info}get transcodeStatus(){return this._sourceData.transcode_status}setUnencryptedInfo(e){this._sourceData&&(this._sourceData.unencryptedPlayInfo=e)}}class V extends X{get type(){return F.LIVE_PHOTO}}class Y extends x{constructor(e){const t=P({obj:e,serializeKey:"meta",targetKey:"_meta"});super({...e,_meta:t._meta,entry:t})}get isValid(){return!(0,c.A)(this._sourceData._meta)}get id(){return this.notOnlyId}get notOnlyId(){return this._sourceData.id}get author(){return this._sourceData.creator}get key(){return this._sourceData.key}get name(){var e,t,r;return(null==(r=null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.draft)?void 0:r.name)??""}get size(){var e,t,r;return(null==(r=null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.draft)?void 0:r.size)||0}get sizeStr(){return this.size?y(this.size):void 0}get type(){return F.PACKAGE}get subType(){var e,t;return null==(t=null==(e=this._sourceData._meta)?void 0:e.draft)?void 0:t.type}get updatedAt(){var e,t,r,n,i;return null!=(e=this.entry)&&e.access_at_ts?1e3*(null==(t=this.entry)?void 0:t.access_at_ts):null==(i=null==(n=null==(r=this._sourceData)?void 0:r._meta)?void 0:n.draft)?void 0:i.updateTime}get createdAt(){var e,t,r,n;return(null==(t=null==(e=this._sourceData._meta)?void 0:e.createSource)?void 0:t.createTime)??(null==(n=null==(r=this._sourceData._meta)?void 0:r.uploadSource)?void 0:n.createTime)}get meta(){var e;return null==(e=this._sourceData)?void 0:e._meta}get coverMd5(){var e,t,r;return null==(r=null==(t=null==(e=this._sourceData)?void 0:e.assets)?void 0:t.find((e=>{var t,r;return e.path===(null==(r=null==(t=this._sourceData)?void 0:t._meta)?void 0:r.draft.cover)})))?void 0:r.md5}get allCoverMd5(){var e,t,r,n;if(null==(t=null==(e=this._sourceData)?void 0:e._meta)||!t.draft.cover)return[];const i=[...null==(r=this._sourceData)?void 0:r.assets].reverse();return null==(n=(0,l.A)(i,"path").reverse())?void 0:n.filter((e=>/^cover(_[0-9]+)?\.(jpe?g|png)$/.test(e.path))).map((e=>e.md5))}get duration(){var e,t;return null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.draft.duration}get assets(){return(this._sourceData.assets||[]).map((e=>{const t=e.meta||"";let r={};try{r=JSON.parse(t)}catch{}return{...e,entryIds:e.entry_ids,meta:r,_meta:t}}))}get creator(){return this._sourceData.creator}get status(){var e;return null==(e=this._sourceData)?void 0:e.status}get permission(){return xe.isGroupSdk?this._sourceData.permission||R.PUBLIC:R.PERSONAL}get isPublic(){return this.permission===R.PUBLIC}get isPersonal(){return this.permission===R.PERSONAL}get owner(){var e,t,r,n,i,s;return(null==(r=null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.createSource)?void 0:r.owner)||(null==(s=null==(i=null==(n=this._sourceData)?void 0:n._meta)?void 0:i.uploadSource)?void 0:s.owner)||""}get entryId(){return this._sourceData.entry_id}get entry(){return this._sourceData.entry}}class z{constructor(e){this.options=e}get fileName(){return this.options.fileName}get uid(){return this.options.uid}get asset(){return this.options.assetInfo}get clusterInfo(){return this.options.clusterInfo}get duration(){return this.options.duration}get size(){return this.options.size}get type(){return this.options.type}get spritInfo(){return this.options.spritInfo}get videoInfo(){return this.options.videoInfo}get audioInfo(){return this.options.audioInfo}get extInfo(){return this.options.extInfo}merge(e){return(0,s.A)(this.options,e.options),this}}class q extends ${get type(){return F.FILM}}class K extends x{constructor({cluster:e,lastAsset:t}){let r=P({obj:e,serializeKey:"meta",targetKey:"_meta"});r=P({obj:r,serializeKey:"relation",targetKey:"_relation"}),super(r),this._lastAsset=t,this.tryGetDraftName()}get type(){return F.CLUSTER_FILM}get id(){var e;return this.entryId||(null==(e=this.entry)?void 0:e.entry_id)}get notOnlyId(){return this._sourceData.cluster_id}get name(){var e;return(null==(e=this._lastAsset)?void 0:e.name)||""}get duration(){var e;return null==(e=this._lastAsset)?void 0:e.duration}get size(){var e;return null==(e=this._lastAsset)?void 0:e.size}get sizeStr(){var e;return null==(e=this._lastAsset)?void 0:e.sizeStr}get author(){var e;return null==(e=this.entry)?void 0:e.owner_id}get updatedAt(){var e,t;return 1e3*(null==(t=null==(e=this._sourceData)?void 0:e.entry)?void 0:t.access_at_ts)}get relation(){var e;return null==(e=this._sourceData._relation)?void 0:e.map((e=>`${e}`))}get meta(){var e;return null==(e=this._sourceData)?void 0:e._meta}get assetCount(){return this._sourceData.n_asset}get asset(){return this._sourceData.assets||[]}get lastAssetId(){const e=this.asset[this.asset.length-1],t=xe.sortArrayByRelation({exists:this.asset,relation:this.relation??[]});return t[t.length-1]??e}get bindId(){return this._sourceData.bind_id}updateLastAsset(e){this._lastAsset=e}get draftName(){var e,t;return this._draftName??(null==(t=null==(e=this.meta)?void 0:e.draft)?void 0:t.name)}get lastAsset(){return this._lastAsset}async tryGetDraftName(){var e,t,r,n,i,s;if(!this.bindId)return this._draftName=null==(t=null==(e=this.meta)?void 0:e.draft)?void 0:t.name,this._draftName;try{const e=await xe.getPackageByKey(this.bindId);return this._draftName=(null==e?void 0:e.name)??(null==(n=null==(r=this.meta)?void 0:r.draft)?void 0:n.name),this._draftName}catch{return null==(s=null==(i=this.meta)?void 0:i.draft)?void 0:s.name}}get permission(){var e;return xe.isGroupSdk?(null==(e=this.entry)?void 0:e.permission)??R.PUBLIC:R.PERSONAL}get isPublic(){return this.permission===R.PUBLIC}get isPersonal(){return this.permission===R.PERSONAL}get owner(){var e,t;return(null==(t=null==(e=this._sourceData._meta)?void 0:e.uploadSource)?void 0:t.owner)||""}get entryId(){return this._sourceData.entry_id}get entry(){return this._sourceData.entry}get createdAt(){var e,t;return 1e3*(null==(t=null==(e=this._sourceData)?void 0:e.entry)?void 0:t.created_at_ts)}}class J extends x{constructor(e){const t=P({obj:e.entry,serializeKey:"meta",targetKey:"_meta"});super({...e,entry:t})}get type(){return F.FOLDER}get meta(){var e;return null==(e=this._sourceData)?void 0:e.entry._meta}get id(){var e;return null==(e=this.entry)?void 0:e.entry_id}get notOnlyId(){return this._sourceData.id}get entry(){var e;return null==(e=this._sourceData)?void 0:e.entry}get name(){var e;return null==(e=this._sourceData)?void 0:e.name}get subCnt(){return this._sourceData.sub_cnt}get updatedAt(){var e;return 1e3*(null==(e=this._sourceData)?void 0:e.entry.access_at_ts)}get accessAt(){var e;return 1e3*(null==(e=this._sourceData)?void 0:e.entry.access_at_ts)}get createdAt(){var e;return 1e3*(null==(e=this._sourceData)?void 0:e.entry.created_at_ts)}get creator(){return this._sourceData.entry.creator_id}get permission(){return xe.isGroupSdk?this._sourceData.entry.permission||R.PUBLIC:R.PERSONAL}get isPublic(){return this.permission===R.PUBLIC}get isPersonal(){return this.permission===R.PERSONAL}get owner(){var e,t;return null==(t=null==(e=this.meta)?void 0:e.uploadSource)?void 0:t.owner}get author(){return this._sourceData.entry.owner_id}get size(){return 0}get sizeStr(){return"0"}}function W(e,t){switch(L(e.mime)){case"video":return(e.filter_list||[]).includes(C)?new q(e):new $(e);case"audio":return new G(e);case"image":return"livephoto"===e.sub_type?new V(e):new X(e,t);default:return new U(e)}}function Q(e,t){var r;null!=xe&&xe.options&&"trace"===(null==(r=null==xe?void 0:xe.options)?void 0:r.level)&&console[(null==t?void 0:t.type)??"info"](`EverCloud: ${e}`)}const Z=(e,t)=>{if(e===R.PERSONAL){let e=!1;if(t.type===F.PACKAGE){if(t.subType===j.SCRIPT)return t.owner===xe.uid;e=t.creator===xe.everUserId||t.owner===xe.uid}return t.author===xe.everUserId||e}return t.isPublic};const ee={name:"lv_ever_cloud_core",version:"1.0.0",description:"Project created by Eden",author:"\u9648\u6210\u8363",main:"dist/index.cjs.js",module:"dist/index.es.js",typings:"dist/src/index.d.ts",scripts:{preinstall:"npx only-allow pnpm",build:"eden-lib build","build:docs":"pnpm run build && eden-ts-documenter generate",start:"eden-lib start",lint:"eden-lint src",prepare:"husky install"},keywords:["eden","utils"],license:"ISC",devDependencies:{"@byted/ever_cloud_sdk":"*","@commitlint/cli":"^10.0.0","@commitlint/config-conventional":"^10.0.0","@ies/eden-lib-build":"^1.0.0","@ies/eden-lint":"^3.16.0","@ies/eden-test":"^1.2.1","@ies/eden-ts-documenter":"1.3.5","@types/jest":"^27.0.1","@types/lodash":"^4.14.186",axios:"^0.26.0",husky:"^8.0.0","lint-staged":"^10.2.7",lodash:"^4.17.21",tslib:"^2.4.0",typescript:"^4.5.2"},husky:{hooks:{"commit-msg":"commitlint .commitlintrc.js -E HUSKY_GIT_PARAMS","pre-commit":"lint-staged"}},"lint-staged":{"*":["eden-lint format"]},dependencies:{"core-js":"^3.26.0",eventemitter3:"^4.0.7","idb-keyval":"^6.2.0","regenerator-runtime":"^0.13.10"},peerDependencies:{"@byted/ever_cloud_sdk":"*",axios:"^0.26.0",lodash:"^4.17.21",tslib:"^2.4.0"}};function te(){var e;return{uploadSource:{owner:null==(e=xe.options)?void 0:e.user_id,platform:"browser",systemVersion:window.navigator.userAgent,appVersion:ee.version}}}function re(e){let t=document.createElement("a");t.download="",t.target="_blank",t.href=e,t.style.display="none",t.click()}function ne(e){const t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t)}class ie extends Error{constructor(){super("DuplicateNameError")}}let se=class extends Error{constructor(e){super("TranscodeError"),this.status=e}};class oe extends Error{constructor(){super("Request Timeout")}}class ae extends Error{constructor(){super("Init Timeout")}}class ce extends Error{constructor(){super("Can not move public item to personal folder")}}class le extends Error{constructor(e){super(`Folder depth can not more than ${e}`)}}class ue extends(i()){constructor(e,t){super(),this.requestId="",this.isDestroy=!1,this.requestId=e,this.sdk=t,this.sdk.eventBus.addListener(ke.BusDestroy,this.destroy)}destroy(){this.requestId="",this.isDestroy=!0,this.sdk.eventBus.removeListener(ke.BusDestroy,this.destroy),this.removeAllListeners()}}class de extends ue{destroy(){super.destroy()}}class he extends ue{constructor(e,t){super("unknow",t),this.size=0,this.chunks=[],this.finishListenQueue=[],this._options=e,this.onIdleHandler=this.eventFilter(this._onIdleHandler.bind(this)),this.onProgressHandler=this.eventFilter(this._onProgressHandler.bind(this)),this.onFinishHandler=this.eventFilter(this._onFinishHandler.bind(this)),this.sdk.eventBus.addListener(ke.AssetDownloadIdle,this.onIdleHandler),this.sdk.eventBus.addListener(ke.AssetDownloadProgress,this.onProgressHandler),this.sdk.eventBus.addListener(ke.AssetDownloaddFinish,this.onFinishHandler)}setRequestId(e){if("unknow"!==this.requestId)throw new Error("request-id \u5df2\u7ecf\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u8bf7\u52ff\u4fee\u6539");this.requestId=e}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}appendChunk(e){this.chunks.push(e)}async cancel(){return await this.sdk.sdk.cancel_upload(this.requestId)}destroy(){super.destroy(),this.chunks=[],this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.AssetDownloadIdle,this.onIdleHandler),this.sdk.eventBus.removeListener(ke.AssetDownloadProgress,this.onProgressHandler),this.sdk.eventBus.removeListener(ke.AssetDownloaddFinish,this.onFinishHandler)}thirdpartDone({buffer:e}){this.result={status:"success",buffer:e},this._finish()}_onIdleHandler(){var e;null==(e=this.onIdle)||e.call(this)}_onProgressHandler(e){var t;null==(t=this.onProgress)||t.call(this,{total:e.bytes_total,done:e.bytes_done})}_onFinishHandler(e){if(e.completed){const e=function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;return e.forEach((e=>{r.set(e,n),n+=e.length})),r}(this.chunks);this.result={status:"success",buffer:e},this.cacheSource(e)}else e.cancelled?this.result={status:"cancel"}:this.result={status:"error",errInfo:e.error_info};this._finish()}async cacheSource(e){var t;if(this.sdk.cachePlugin&&null!=(t=this._options)&&t.url)try{await this.sdk.cachePlugin.saveSourceBlob({key:this._options.url,buffer:e}),Q(`\u7f13\u5b58\u6587\u4ef6${this._options.url}\u6210\u529f.`),console.log(`\u7f13\u5b58\u6587\u4ef6${this._options.url}\u6210\u529f.`)}catch(r){console.log(`\u7f13\u5b58\u6587\u4ef6${this._options.url}\u5931\u8d25: ${r}`),Q(`\u7f13\u5b58\u6587\u4ef6${this._options.url}\u5931\u8d25: ${r}`,{type:"warn"})}}_finish(){var e;for(const t of this.finishListenQueue)"success"===this.result.status?t[0](this.result):t[1](this.result);null==(e=this.onFinish)||e.call(this,this.result),this.destroy()}eventFilter(e){return t=>{const{request_id:r}=t;r===this.requestId&&e(t)}}}class pe extends de{constructor({requestId:e,fileType:t,autoPromote:r,workspaceId:n},i){super(e,i),this._autoPromote=!1,this.finishListenQueue=[],this._fileType=t,this._autoPromote=r,this._workspaceId=n,this.onIdleHandler=this.eventFilter(this._onIdleHandler.bind(this)),this.onUploadMetaReadyHandler=this.eventFilter(this._onUploadMetaReadyHandler.bind(this)),this.onProgressHandler=this.eventFilter(this._onProgressHandler.bind(this)),this.onFinishHandler=this.eventFilter(this._onFinishHandler.bind(this)),this.sdk.eventBus.addListener(ke.UploadIdle,this.onIdleHandler),this.sdk.eventBus.addListener(ke.UploadMetaReady,this.onUploadMetaReadyHandler),this.sdk.eventBus.addListener(ke.UploadProgress,this.onProgressHandler),this.sdk.eventBus.addListener(ke.UploadFinish,this.onFinishHandler)}get fileType(){return this._fileType}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_upload(this.requestId)}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.UploadIdle,this.onIdleHandler),this.sdk.eventBus.removeListener(ke.UploadProgress,this.onProgressHandler),this.sdk.eventBus.removeListener(ke.UploadFinish,this.onFinishHandler)}_onUploadMetaReadyHandler(e){var t;null==(t=this.onUploadMetaReady)||t.call(this,{uploadId:e.upload_id,md5:e.md5})}_onIdleHandler(e){var t;null==(t=this.onIdle)||t.call(this,e)}_onProgressHandler(e){var t;null==(t=this.onProgress)||t.call(this,{total:e.bytes_total,done:e.bytes_done,md5:e.md5})}async _onFinishHandler(e){var t,r;if(e.completed){let r=e.asset_id,i=e.entry_id;if(!r)if(i)try{r=(await this.sdk.getEntryAsset(i,!0)).id}catch{r=(await this.sdk.getAssetByMd5(e.md5)).id}else r=(await this.sdk.getAssetByMd5(e.md5)).id;if(this._autoPromote)if(r)try{await this.sdk.dependencies.apiFunc.promoteAsset({assetId:r,spaceId:this.sdk.spaceId,workspaceId:this._workspaceId})}catch(n){this.result={status:"error",errInfo:{code:-1,msg:`asset promote failure, cause:${null==n?void 0:n.message}`}}}else this.result={status:"error",errInfo:{code:-1,msg:"asset id is not found, could not promote"}};"error"!==(null==(t=this.result)?void 0:t.status)&&(this.result={status:"success",fileId:r,md5:e.md5,entry:e.entry,entryId:i})}else e.cancelled?this.result={status:"cancel"}:this.result={status:"error",errInfo:{code:e.error_info.code,msg:e.error_info.message,message:e.error_info.message}};for(const i of this.finishListenQueue)"success"===this.result.status?i[0](this.result):i[1](this.result);null==(r=this.onFinish)||r.call(this,this.result),this.destroy()}eventFilter(e){return t=>{const{request_id:r}=t;r===this.requestId&&e(t)}}}class fe extends de{constructor(e,t){super("unknow",t),this.finishListenQueue=[],this._params=e;let r,n="video";switch(e.fileType){case"video":n="video",r=0;break;case"audio":n="video",r=2;break;default:n="object",r=1}this.onStart=e.onStart,e.uploader.upload({file:e.file,type:n,onSuccess:async t=>{var n,i;this.result={status:"success"};const s=t.Vid||t.Uri;this.vid=s;try{const n=await this.sdk.dependencies.apiFunc.createVideoData({vid:s,tmp_id:this.sdk.getTempId,file_name:e.fileName,file_type:r,source_path:e.file.webkitRelativePath?e.file.webkitRelativePath:e.fileName});this.result.fileId=n,this.result.uri=t.Uri}catch(o){this.result.status="error",this.result.errInfo={code:(null==(n=null==o?void 0:o.data)?void 0:n.ret)||-1,msg:(null==(i=null==o?void 0:o.data)?void 0:i.errmsg)||"create video task failure"}}this.onFinishHandler()},onError:e=>{var t;this.result={status:"error",errInfo:{code:null==(t=null==e?void 0:e.extra)?void 0:t.errorCode}},this.onFinishHandler()},onStart:(e,t)=>{var r,n;null==(r=this.onIdle)||r.call(this),null==(n=this.onStart)||n.call(this,e,t)},onProgress:e=>{var t;null==(t=this.onProgress)||t.call(this,{total:e.fileSize,done:Math.floor(e.fileSize*(e.percent/100))})}})}get fileType(){var e;return null==(e=this._params)?void 0:e.fileType}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}cancel(e){return new Promise((async(t,r)=>{var n,i,s,o;if(null!=(n=this._params)&&n.uploader)try{await(null==(s=null==(i=this._params.uploader)?void 0:i.cancel)?void 0:s.call(i,e)),this.finishListenQueue=this.finishListenQueue.filter((t=>t.fileKey===e)),null==(o=this.onCancel)||o.call(this,e),t()}catch(a){console.error(a),r(null==a?void 0:a.message)}else r("uploader does not exist")}))}destroy(){this._params=void 0,this.finishListenQueue=[]}onFinishHandler(){var e,t;for(const r of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?r[0](this.result):r[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class ge extends ue{destroy(){super.destroy()}}class me extends ge{constructor(e,t){super("unknow",t),this.finishListenQueue=[],this.target=e,this.onTranscodeDoneHandler=this._onTranscodeDoneHandler.bind(this),this.sdk.eventBus.addListener(ke.VideoInfoEndPullEvent,this.onTranscodeDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_get_asset_play_info_loop({ids:this.target.id})}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.VideoInfoEndPullEvent,this.onTranscodeDoneHandler)}_onTranscodeDoneHandler(e){for(const t of e.infos)if(t[this.target.key]===this.target.id)return this.result={status:"success",data:t},void this.onFinishHandler();for(const t of e.failed_ids)if(t[this.target.key]===this.target.id)return this.result={status:"error",errInfo:new se(t.status)},void this.onFinishHandler()}onFinishHandler(){var e,t;for(const r of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?r[0](this.result):r[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class ve extends ge{constructor(e,t){super("unknow",t),this.delayTime=Date.now(),this.Delay_Times=12e3,this.finishListenQueue=[],this.options=e,this.timer=setInterval((()=>{Date.now()-this.delayTime>this.Delay_Times?(this.result={status:"error",errInfo:{code:-1,msg:"overtime"}},this.onFinishHandler()):this.fetchVideoTaskInfo()}),3e3)}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}async cancel(){this.result={status:"cancel"},this.onFinishHandler()}destroy(){super.destroy(),clearInterval(this.timer),this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.VideoInfoEndPullEvent,this.onTranscodeDoneHandler)}async fetchVideoTaskInfo(){try{const e=await this.sdk.dependencies.apiFunc.getVideoTaskInfo(this.options);switch(this.delayTime=Date.now(),e.status){case 0:return;case 1:return this.result={status:"success",data:e},void this.onFinishHandler();default:return this.onFinishHandler(),void(this.result={status:"error",errInfo:new TranscodeError})}}catch(e){this.result={status:"error",errInfo:{code:e.data.ret,msg:e.data.errmsg}},this.onFinishHandler()}}onFinishHandler(){var e,t;for(const r of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?r[0](this.result):r[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class _e extends ue{constructor(e,t){super("unknow",t),this.finishListenQueue=[],this.target=e,this.onSyncAssetHandler=this._onSyncAssetHandler.bind(this),this.sdk.eventBus.addListener(ke.ThridPartResourceSyncStateEvent,this.onSyncAssetHandler)}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_get_sync_state_loop({resource:[this.target.id]})}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.ThridPartResourceSyncStateEvent,this.onSyncAssetHandler)}_onSyncAssetHandler(e){for(const t of e.sync_ids)if(t.resource_id===this.target.id)return this.result={status:"success",data:{resourceId:t.resource_id,md5:t.md5,assetId:t.asset_id,entryId:t.entry_id}},void this.onFinishHandler();for(const t of e.failed_ids)if(t===this.target.id)return this.result={status:"error"},void this.onFinishHandler();if(1===e.api_failed)return this.result={status:"error",errMsg:"Network failure"},void this.onFinishHandler()}onFinishHandler(){var e,t;for(const r of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?r[0](this.result):r[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class ye{constructor(e,t){this.finishListenQueue=[],this.target=e,this.sdk=t,this.onDoneHandler=this._onDoneHandler.bind(this),this.sdk.eventBus.addListener(ke.PreviewInfoEndPullEvent,this.onDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_get_preivew_info_loop({ids:"id"===this.target.key?[this.target.id]:[],md5s:"md5"===this.target.key?[this.target.id]:[]})}destroy(){this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.PreviewInfoEndPullEvent,this.onDoneHandler)}_onDoneHandler(e){for(const t of e.infos)if(t[this.target.key]===this.target.id)return this.result={status:"success",data:W(t,this.sdk)},void this.onFinishHandler();e.timeout&&(this.result={status:"error",errInfo:new oe})}onFinishHandler(){var e,t;for(const r of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?r[0](this.result):r[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class we{constructor(e,t){this.finishListenQueue=[],this.target=e,this.sdk=t,this.onDoneHandler=this._onDoneHandler.bind(this),this.sdk.eventBus.addListener(ke.SpriteInfoEndPullEvent,this.onDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_get_preivew_info_loop({ids:"id"===this.target.key?[this.target.id]:[],md5s:"md5"===this.target.key?[this.target.id]:[]})}destroy(){this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.SpriteInfoEndPullEvent,this.onDoneHandler)}_onDoneHandler(e){for(const t of e.infos)if(t[this.target.key]===this.target.id)return this.result={status:"success",data:W(t)},void this.onFinishHandler();e.timeout&&(this.result={status:"error",errInfo:new oe})}onFinishHandler(){var e,t;for(const r of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?r[0](this.result):r[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class Ae extends ue{constructor(e,t){super(e,t),this.finishListenQueue=[],this.onDoneHandler=this._onDoneHandler.bind(this),this.onProgressHandler=this._onProgressHandler.bind(this),this.sdk.eventBus.addListener(ke.SpaceMoveProgressEvent,this.onProgressHandler),this.sdk.eventBus.addListener(ke.SpaceMoveFinishEvent,this.onDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.PreviewInfoEndPullEvent,this.onDoneHandler)}_onProgressHandler(e){var t;(e.process_id=this.requestId)&&(null==(t=this.onProgress)||t.call(this,e.progress))}_onDoneHandler(e){var t,r;const{process_id:n,status:i}=e;if(n===this.requestId){if(3===i)return this.result={status:"success",data:e},this._onFinishHandler(),void(null==(t=this.onProgress)||t.call(this,100));if(4===i)return this.result={status:"error",data:e},this._onFinishHandler(),void(null==(r=this.onProgress)||r.call(this,100))}}_onFinishHandler(){var e;for(const t of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?t[0](this.result):t[1](this.result);this.destroy()}}class Ee extends ue{constructor(e,t){super(e,t),this.finishListenQueue=[],this.sdk=t,this.onDoneHandler=this._onDoneHandler.bind(this),this.onProgressHandler=this._onProgressHandler.bind(this),this.sdk.eventBus.addListener(ke.SpaceCopyProgressEvent,this.onProgressHandler),this.sdk.eventBus.addListener(ke.SpaceCopyFinishEvent,this.onDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.PreviewInfoEndPullEvent,this.onDoneHandler)}_onProgressHandler(e){var t;(e.process_id=this.requestId)&&(null==(t=this.onProgress)||t.call(this,e.progress))}_onDoneHandler(e){var t,r;const{process_id:n,status:i}=e;if(n===this.requestId){if(3===i)return this.result={status:"success",data:e},this._onFinishHandler(),void(null==(t=this.onProgress)||t.call(this,100));if(4===i)return this.result={status:"error",data:e},null==(r=this.onProgress)||r.call(this,100),void this._onFinishHandler()}}_onFinishHandler(){var e;for(const t of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?t[0](this.result):t[1](this.result);this.destroy()}}class Le extends ge{constructor(e,t){super("unknow",t),this.result={data:new Map},this.finishedFlag=0,this.finishListenQueue=[],this._triggerTimes=3e3,this.target=e,e.forEach((e=>{var t,r;null==(t=e.ids)||t.forEach((t=>{var r,n;null==(n=null==(r=this.result)?void 0:r.data)||n.set(`${e.resolution}_${t}`,D.UNTRANSCODE)})),null==(r=e.md5s)||r.forEach((t=>{var r,n;null==(n=null==(r=this.result)?void 0:r.data)||n.set(`${e.resolution}_${t}`,D.UNTRANSCODE)}))})),this._triggerGetUpdates(),this.onTranscodeDoneHandler=this._onTranscodeDoneHandler.bind(this),this.sdk.eventBus.addListener(ke.ImageTranscodeInfoEndPull,this.onTranscodeDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&this.result.status&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}async cancel(){var e,t;return this.result.status="cancel",null==(t=null==(e=this.result)?void 0:e.data)||t.forEach(((e,t)=>{var r,n;e===D.UNTRANSCODE&&(null==(n=null==(r=this.result)?void 0:r.data)||n.set(t,D.CANCEL))})),await this.sdk.sdk.cancel_image_transcode_info_loop({listeners:this.target.map((e=>({...e,transcode_type:N[e.resolution]}))),cancel_all:0})}destroy(){super.destroy(),clearTimeout(this._triggerTimer),this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.ImageTranscodeInfoEndPull,this.onTranscodeDoneHandler)}_triggerGetUpdates(){this._triggerTimer=setTimeout((()=>{this.sdk.throttlingGetUpdatesTrigger({throttle:this._triggerTimes}),this._triggerTimer=void 0,this._triggerGetUpdates()}),this._triggerTimes)}_onTranscodeDoneHandler(e){var t,r,n,i;if(e.timeout)return null==(t=this.result.data)||t.forEach(((e,t)=>{var r;e===D.UNTRANSCODE&&(null==(r=this.result.data)||r.set(t,D.TIMEOUT),this.finishedFlag+=1)})),null==(r=this.onProcess)||r.call(this,this.result),this.result.status="error",void this.onFinishHandler();for(const s of e.infos){let e=!1;const{transcode_type:t,assets:r,failed_list:o}=s,a=H[t];null==r||r.forEach((t=>{var r,n,i,s,o,c,l,u;const d=`${a}_${t.id}`,h=`${a}_${t.md5}`;(null==(n=null==(r=this.result)?void 0:r.data)?void 0:n.get(d))===D.UNTRANSCODE&&(null==(s=null==(i=this.result)?void 0:i.data)||s.set(d,D.SUCCESS),this.finishedFlag+=1,e=!0),(null==(c=null==(o=this.result)?void 0:o.data)?void 0:c.get(h))===D.UNTRANSCODE&&(null==(u=null==(l=this.result)?void 0:l.data)||u.set(h,D.SUCCESS),this.finishedFlag+=1,e=!0)})),null==o||o.forEach((t=>{var r,n,i,s,o,c,l,u;const d=`${a}_${t.asset_id}`,h=`${a}_${t.md5}`;(null==(n=null==(r=this.result)?void 0:r.data)?void 0:n.get(d))===D.UNTRANSCODE&&(null==(s=null==(i=this.result)?void 0:i.data)||s.set(d,D.FAILED),this.finishedFlag+=1,e=!0),(null==(c=null==(o=this.result)?void 0:o.data)?void 0:c.get(h))===D.UNTRANSCODE&&(null==(u=null==(l=this.result)?void 0:l.data)||u.set(h,D.FAILED),this.finishedFlag+=1,e=!0)})),e&&(null==(n=this.onProcess)||n.call(this,this.result)),(null==(i=this.result.data)?void 0:i.size)===this.finishedFlag&&(this.result.status="success",this.onFinishHandler())}}onFinishHandler(){var e,t;for(const r of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?r[0](this.result):r[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}let Te=class{constructor(){this._hasBeenDone=!1,this._isIniting=!1,this._initCostTimes=void 0,this._waitingResolvers=new Set,this._waitingResolverMap=new Map}get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!this._initCostTimes)return;const{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit({key:e,timeout:t}={}){if(this._hasBeenDone&&this.initResult){const{resolve:e,reject:t}=this.initResult;return t?Promise.reject(t):Promise.resolve(e)}if(e&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!t){const t=new Promise(((e,t)=>{this._waitingResolvers.add([e,t])}));return e&&this._waitingResolverMap.set(e,t),t}let r,n;const i=Promise.race([new Promise(((e,t)=>{r=[()=>{clearTimeout(n),e()},t],this._waitingResolvers.add([r,t])})),new Promise(((e,i)=>{n=setTimeout((()=>{this._waitingResolvers.delete(r),i(new Error("Timed out waiting for init"))}),t)}))]);return e&&this._waitingResolverMap.set(e,i),i}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw new Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());let t=!1;null!=e&&e.reject?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve;for(const r of this._waitingResolvers)t?r[1](this.rejectResult):r[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}};class Pe{constructor(){this.event="evercloud_sdk_init_timer",this.data={},this.progressEvent="evercloud_sdk_init_process",this.process={}}addParams(e){this.data=(0,s.A)({},this.data,e)}get reportData(){return{event:this.event,data:this.data}}addProcessParams(e){this.process=(0,s.A)({},this.process,e)}get reportProcess(){return{event:this.progressEvent,data:this.process}}}class Ce extends ue{constructor({requestId:e},t){super(e,t),this.finishListenQueue=[],this.onIdleHandler=this.eventFilter(this._onIdleHandler.bind(this)),this.onProgressHandler=this.eventFilter(this._onProgressHandler.bind(this)),this.onFinishHandler=this.eventFilter(this._onFinishHandler.bind(this)),this.sdk.eventBus.addListener(ke.UploadIdle,this.onIdleHandler),this.sdk.eventBus.addListener(ke.UploadProgress,this.onProgressHandler),this.sdk.eventBus.addListener(ke.UploadFinish,this.onFinishHandler)}uploadDone(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_upload(this.requestId)}async append(e){return this.sdk.appendClipToUpload(this.requestId,e.seqNo,e.file,e.isLast)}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(ke.UploadIdle,this.onIdleHandler),this.sdk.eventBus.removeListener(ke.UploadProgress,this.onProgressHandler),this.sdk.eventBus.removeListener(ke.UploadFinish,this.onFinishHandler)}_onIdleHandler(e){var t;null==(t=this.onIdle)||t.call(this,e)}_onProgressHandler(e){var t;null==(t=this.onProgress)||t.call(this,{done:e.bytes_done})}async _onFinishHandler(e){var t,r,n,i;e.completed?e.stream_clip_transcode?this.result={status:"success",uploadId:e.stream_clip_transcode.upload_id,bucketKey:e.stream_clip_transcode.bucket_key,streamId:e.stream_clip_transcode.stream_id,streamM3u8:e.stream_clip_transcode.stream_m3u8,streamMp4:e.stream_clip_transcode.stream_mp4,streamMd5:e.stream_clip_transcode.stream_md5,coverUrl:e.stream_clip_transcode.cover_url,spriteUrl:e.stream_clip_transcode.sprite_url,streamDuration:e.stream_clip_transcode.stream_duration}:this.result={status:"error",errInfo:{code:"NO_TRANSCODE_INFO",msg:"NO_TRANSCODE_INFO"}}:e.cancelled?(this.result={status:"cancel"},null==(t=this.onError)||t.call(this,this.result)):(this.result={status:"error",errInfo:e.error_info,failedPartList:null!=(r=e.stream_clip_err_ext)&&r.part_num?[e.stream_clip_err_ext.part_num]:[]},null==(n=this.onError)||n.call(this,this.result));for(const s of this.finishListenQueue)"success"===this.result.status?s[0](this.result):s[1](this.result);null==(i=this.onFinish)||i.call(this,this.result),this.destroy()}eventFilter(e){return t=>{const{request_id:r}=t;r===this.requestId&&e(t)}}}var be=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,Se=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Re(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&be(t,r,s),s};const Ie="b",Oe="t",ke={BusDestroy:"destroy",UploadMetaReady:"asset_upload_meta_ready",UploadIdle:"asset_upload_idle",UploadProgress:"asset_upload_progress",UploadFinish:"asset_upload_finish",AssetDownloadIdle:"asset_download_idle",AssetDownloadProgress:"asset_download_progress",AssetDownloaddFinish:"asset_download_finish",VideoInfoEndPullEvent:"video_info_end_pull",ThridPartResourceSyncStateEvent:"thirdpart_resource_sync_state",TrackSendEvent:"track_send_event",SpriteInfoEndPullEvent:"sprite_info_end_pull",PreviewInfoEndPullEvent:"preview_info_end_pull",SpaceMoveProgressEvent:"space_move_progress",SpaceMoveFinishEvent:"space_move_finish",SpaceCopyProgressEvent:"space_copy_progress",SpaceCopyFinishEvent:"space_copy_finish",ImageTranscodeInfoEndPull:"image_transcode_info_end_pull",EverCloudCancelImageTranscode:"ever_cloud_cancel_image_transcode"};class He{constructor(){this.eventBus=new(i()),this.noSignOptions=null,this.options=null,this.initLocker=new Te,this.syncLocker=new Te,this.loadLocker=new Te,this.syncNoSignInitDone=!1,this.syncNoSignIniting=!1,this.syncNoSignInitError=!1,this.initNoSignQueue=[],this.cacheFoldersNum=10,this.initEverCloudSdkReporter=new Pe}get getTempId(){var e;return null==(e=this.noSignOptions)?void 0:e.uniqueId}get everUserId(){return this.webUserId}get cachePlugin(){return this.idbPlugin}get isGroupSdk(){return!!xe.space&&undefined!==xe.space}get spaceId(){var e;return null==(e=this.options)?void 0:e.space}get netconf(){var e;return null==(e=this.options)?void 0:e.netconf}setCachePlugin(e){this.idbPlugin=e}setTeaReporter(e){this.TeaReporter=e}setDependencies(e){this.dependencies=e}get hasSetOptions(){return!!this.options}get hasSetNoSignOptions(){return!!this.noSignOptions}async setOptions(e){if(!this.hasSetOptions){let t;if(!e.netconf)if(this.isOversea(e)&&e.is_boe)t={base:`everphoto-${Ie}oei18n.${Ie}ytein${Oe}l.ne${Oe}`,media:`everphoto-${Ie}oei18n.${Ie}ytein${Oe}l.ne${Oe}`,is_https:!0},Object.assign(e,{netconf:t}),Q("\u5e94\u7528\u6d77\u5916\u7248\u672c sdk");else if(!this.isOversea(e)){const t={base:`everphoto-lv-${Ie}oe.${Ie}y${Oe}edance.ne${Oe}`,media:`everphoto-lv-${Ie}oe.${Ie}y${Oe}edance.ne${Oe}`,is_https:!0};Object.assign(e,{netconf:e.is_boe?t:{base:"lv-everphoto-bcdn.______________",media:"lv-everphoto-bcdn.______________",is_https:!0}})}const r=this.dependencies.overwriteSDKInitOptions&&await this.dependencies.overwriteSDKInitOptions(e)||e;r.netconf=Object.assign({is_https:!0},r.netconf),this.options=r,this.idc=I[e.dc_name]??e.dc_name}Q("\u521d\u59cb\u5316\u53c2\u6570\u5df2\u8bbe\u7f6e")}setPermission(e){this.permission=e}setNoSignOptions(e){this.noSignOptions?Q("\u53c2\u6570\u91cd\u590d\u8bbe\u7f6e\uff0c\u8bf7\u786e\u8ba4\u3002 init \u540e\u5c06\u4e0d\u4f1a\u88ab\u8986\u76d6"):(this.noSignOptions=e,Q(`\u521d\u59cb\u5316\u53c2\u6570\u5df2\u8bbe\u7f6e\uff08\u672a\u767b\u5f55\uff09: ${JSON.stringify(e)}`))}getUploader(e,t){return this.dependencies.getUploader(e,t)}emitUserSpaceSizeChange(){this.eventBus.emit(b.USER_SPACE_SIZE_CHANGE)}onUserSpaceSizeChange(e){return this.eventBus.on(b.USER_SPACE_SIZE_CHANGE,e)}get uid(){var e;return null==(e=this.options)?void 0:e.user_id}init(){if(this.destroyed)return Promise.reject(new Error("SDK destroyed"));if(this.initLocker.hasBeenDone)return this.initLocker.awaitForInit();const e=this.options&&this.options.user_id;if(e||Q("\u672a\u8bbe\u7f6e\u5fc5\u8981\u53c2\u6570, \u7b49\u5f85\u53c2\u6570\u8bbe\u7f6e\u4e2d"),!this.initLocker.isIniting&&e){this.initLocker.startToInit(),this.loadLocker.startToInit();const{timeout:e}=this.options||{},{init:t=3e5}=e||{};setTimeout((()=>{this.initLocker.hasBeenDone||this.initLocker.initDone({reject:new ae})}),t),this.initEverCloudSdk({initDoneCb:()=>{this.initLocker.initDone()},loadDoneCb:()=>{this.loadLocker.initDone()},syncDoneCb:e=>{e&&(!this.initLocker.hasBeenDone&&this.initLocker.initDone(),this.syncLocker.initDone())}})}return this.initLocker.awaitForInit()}async startSyncLoop(){!this.syncLocker.isIniting&&!this.syncLocker.hasBeenDone&&(this.syncLocker.startToInit(),await this.sdk.start_sync_loop())}async syncDone(){return await this.startSyncLoop(),await this.syncLocker.awaitForInit()}loadDone(){return this.loadLocker.awaitForInit()}async noSignInit(){const e=this.noSignOptions;return e||Q("\u672a\u8bbe\u7f6e\u5fc5\u8981\u53c2\u6570, \u7b49\u5f85\u53c2\u6570\u8bbe\u7f6e\u4e2d(noSing)"),new Promise((async(t,r)=>{if(this.syncNoSignInitDone&&t(),this.syncNoSignInitError&&r(new Error("Cloud Sdk \u53d1\u751f\u975e\u9884\u671f\u9519\u8bef\uff0c\u8bf7\u5237\u65b0\u9875\u9762")),this.initNoSignQueue.push([t,r]),!this.syncNoSignIniting&&e){this.syncNoSignIniting=!0,this.syncNoSignInitDone=!0;const e=this.noSignOptions;if(!e)throw new Error("impossible way");this.offlineVideoUploader=this.getUploader(e,"video"),this.offlineFileUploader=this.getUploader(e,"file"),this.initNoSignQueue.forEach((e=>{e[0]()})),this.initNoSignQueue=[]}}))}async destroy(){return this.destroyed?(this.sdk=null,this.options=null,this.eventBus.emit(ke.BusDestroy),this.eventBus.removeAllListeners(),Promise.resolve()):(this.sdk=null,this.destroyed=!0,this.options=null,this.eventBus.emit(ke.BusDestroy),this.eventBus.removeAllListeners(),await this.tearDown())}async getFilesListByFloder(e){const t=(await this.getAsset(Object.assign({},{material:!0},e))).filter((e=>{var t;return!(null!=(t=null==e?void 0:e.cluster_list)&&t.length)})).map((e=>W(e,this))),r=await this.getPackages();let n=[];return this.isOversea()||(n=await this.getClusters()),[...t,...r,...n].sort(((e,t)=>(e.updatedAt??0)-(t.updatedAt??0)))}async getAsset(e){var t,r;const n=Object.assign({},e);return null!=(t=null==n?void 0:n.ids)&&t.length||null!=(r=null==n?void 0:n.md5s)&&r.length?await this.initLocker.awaitForInit():await this.syncDone(),await this.sdk.get_asset(n)}async getAssets(e){return(await this.getAsset(Object.assign({},{material:!0},e))).filter((e=>{var t;return!(null!=(t=null==e?void 0:e.cluster_list)&&t.length)})).map((e=>W(e,this)))}async asset_preview(e){return new Promise((t=>{this.sdk.download_asset({md5:e,preview:"360p"},(e=>{if(e.length<98304){const r=btoa(String.fromCharCode(...new Uint8Array(e)));t(r)}}))}))}async uploadAsset(e){const{file:t,fileName:r,permission:n=this.permission??R.PUBLIC,folderId:i}=e,o=r||t.name;if((null==e||!e.skipDuplicate)&&await this.isAssetNameDumplicate({fileName:o}))throw new ie;const a=(0,s.A)(te(),null==e?void 0:e.meta);let{fileType:c}=e;c||(c=A({file:t})??"file");const l=await this.sdk.upload_asset(t,c,o,JSON.stringify(a),n===R.PERSONAL?"personal":"",null==e?void 0:e.flags,i);return new pe({requestId:l.request_id,fileType:c,autoPromote:!!e.autoPromote,workspaceId:e.workspaceId},this)}async streamClipUploadAsset(e){const{format:t,fileName:r,meta:n,permission:i,extra:s}=e,o=JSON.stringify(n),a=s||{};a.ve&&(a.ve=JSON.stringify(a.ve));const{request_id:c}=await this.sdk.stream_clip_upload_asset(t,r,o,i,a);return new Ce({requestId:c},this)}async appendClipToUpload(e,t,r,n){return await this.sdk.append_clip_to_upload(e,t,r,n)}async uploadVid(e){return await this.sdk.upload_vid(e.vid,e.material,e.folder)}async syncVideoToEverCloud(e,{resouceType:t=1,fileSize:r,meta:n,imageAsyncResize:i=!0,folderId:o=xe.rootFolderId,invisible:a=!1,noTranscode:c=!1,noOccupy:l=!1}){var u;const d=new _e({id:e},this),h=(0,s.A)(te(),n);return await this.sdk.sync_asset({resource:[{resource_id:e,resource_type:t||1,size:r,meta:JSON.stringify(h),region:this.isOversea()?null==(u=null==this?void 0:this.noSignOptions)?void 0:u.userRegion:null,image_async_resize:i,folder_id:o,invisible:a,no_transcode:c,no_occupy:l}]}),d}async getAssetsByMd5(e){return e.length?(await this.getAsset({md5s:e})).map((e=>W(e,this)))??[]:[]}async getAssetByMd5(e){const t=(await this.getAsset({md5s:[e]})||[])[0];if(!t)throw new Error(`asset not found: md5=${e}`);return W(t,this)}async getAssetByFileId(e,t=!1){const r=(await this.getAsset({ids:[e]}))[0];if(!r)throw new Error(`asset not found: assetId=${e}`);if(t){const e=await this.getUnencryptedPlayInfo({id:r.id});r.unencryptedPlayInfo=e}return W(r,this)}async getAssetsByFileId(e){return e.length?(await this.getAsset({ids:e})).map((e=>W(e,this)))??[]:[]}async getFileDetailWithTranscode(e,t=!1){var r,n,i,s;const o=await(await this.getVideoAssetTranscodeStatus(e)).done();if("success"!==o.status)throw new Error(`transcode failure: ${JSON.stringify(o.errInfo)}`);let a;a=this.isOversea()?e.md5?await this.getAssetByMd5(e.md5):await this.getAssetByFileId(e.id):e.entryId?await this.getEntryAsset(e.entryId,!0,t):e.md5?await this.getAssetByMd5(e.md5):await this.getEntryAsset(e.id,!0,t);const c=[],l=o.data;if(l){const e=(e,t)=>{if(l[e]){const{primary_url:r,url_key:n}=l[e];r&&n&&c.push({type:t,url:r,key:n})}};l.origin&&e("origin","origin"),e("p360","360p"),e("p480","480p"),e("p720","720p")}return new z({uid:a.author,type:a.type,duration:a.duration,fileName:a.name,size:a.size,assetInfo:a,spritInfo:a.sprit,videoInfo:c,audioInfo:{url:null==(n=null==(r=null==o?void 0:o.data)?void 0:r.audio)?void 0:n.primary_url,key:null==(s=null==(i=o.data)?void 0:i.audio)?void 0:s.url_key}})}async getFileDetailWithTranscodeNoSign(e,t){var r,n,i,s,o,a,c,l,u;const d=await(await this.getVideoAssetTranscodeStatusNoSign(e,t)).done();if("success"!==d.status)throw new Error(JSON.stringify(d.errInfo));return new z({fileName:null==(n=null==(r=d.data)?void 0:r.video)?void 0:n.file_name,type:F.VIDEO,size:null==(s=null==(i=d.data)?void 0:i.video)?void 0:s.size,spritInfo:null==(o=d.data)?void 0:o.video.thumb,duration:1e3*((null==(a=d.data)?void 0:a.video.duration)??0),videoInfo:null==(l=null==(c=d.data)?void 0:c.video.video_infos)?void 0:l.map((e=>({type:e.definition??e.defination,url:e.url,key:e.key}))).sort(((e,t)=>{const r=["360p","480p","720p"];return r.indexOf(null==e?void 0:e.type)-r.indexOf(null==t?void 0:t.type)})),extInfo:{vid:null==(u=d.data)?void 0:u.video.source}})}async getVideoAssetTranscodeStatus(e){let t,r;e.md5?(t={id:e.md5,key:"md5"},r={md5s:[e.md5]}):(t={id:e.id,key:"asset_id"},r={ids:[e.id]});const n=new me(t,this);return await this.sdk.get_asset_play_info(r),n}async getAssetsPlayInfo(e){return await this.sdk.get_asset_play_info(e)}async getVideoAssetTranscodeStatusNoSign(e,t){var r;return await this.noSignInit(),new ve({tmp_id:null==(r=this.noSignOptions)?void 0:r.uniqueId,task_id:e,is_support_webp:!0===t?1:0},this)}async getAssetSpirtInfo(e){let t,r;e.md5?(t={id:e.md5,key:"md5"},r={md5s:[e.md5]}):(t={id:e.id,key:"id"},r={ids:[e.id]});const n=new we(t,this);return await this.sdk.get_asset_sprite_info(r),n}async getAssetPreviewInfo(e){let t,r;e.md5?(t={id:e.md5,key:"md5"},r={md5s:[e.md5]}):(t={id:e.id,key:"id"},r={ids:[e.id]});const n=new ye(t,this);return await this.sdk.get_asset_preview_info(r),n}async uploadAssetNoLogin(e){await this.noSignInit();const{file:t,fileName:r,onStart:n}=e,i=r||t.name,s=A({file:t}),o="video"===s||"audio"===s?this.offlineVideoUploader:this.offlineFileUploader;return await o.init(),new fe({file:t,fileName:i,fileType:s,uploader:o,onStart:n},this)}async cancelAllUploadAsset(){return await this.sdk.cancel_upload_all()}async cancelUploadAsset(e){return await this.sdk.cancel_upload(e)}async deleteAsset({ids:e=[],md5s:t=[]}){const r=[];for(let n=0;20*n<e.length;n++)r.push(this.sdk.delete_asset({ids:e.slice(20*n,20*(n+1))}));for(let n=0;20*n<t.length;n++)r.push(this.sdk.delete_asset({md5s:t.slice(20*n,20*(n+1))}));await Promise.all(r)}async renameAsset(e){if(await this.isAssetNameDumplicate({fileName:e.fileName,filterMd5:e.md5}))throw new ie;return await this.sdk.rename_asset({md5:e.md5,file_name:e.fileName})}async downloadByUrlKey(e){if(null==e||!e.url)throw new Error("[EverSdk] downloadByUrlKey: url can not be empty");const t={...e,url:e.url||""},r=t.skipCache?void 0:await this.getFromCache(t.url),n=new he({url:t.url},this);if(r&&r instanceof Uint8Array)n.thirdpartDone({buffer:r});else{const e=await this.sdk.download_url(t,(e=>{n.appendChunk(e)}));n.setRequestId(e.request_id),n.size=e.size}return n}async downloadAssetStream(e){const t=e.skipCache?void 0:await this.getFromCache(e.md5),r=new he({},this);if(t&&t instanceof Uint8Array)r.thirdpartDone({buffer:t});else{const t=await this.sdk.download_asset(e,(e=>{r.appendChunk(e)}));r.setRequestId(t.request_id),r.size=t.size}return r}async downloadAssetUrl(e,t,r){var n;const{token:i}=await this.dependencies.apiFunc.getEverPhotoToken(null==(n=this.options)?void 0:n.space),s=await a().get(e,{headers:{"x-everphoto-token":i},responseType:"blob"}),{data:o,headers:c}=s,l=new Blob([o],{type:r||c["content-type"]}),u=(c["content-disposition"]||"").split("filename=")[1];let d=document.createElement("a");const h=window.URL.createObjectURL(l);d.download=u||t||"",d.href=h,d.style.display="none",d.click(),d=null}async getDownloadUrl(e){var t,r;const n=(null==(t=await this.sdk.get_asset_dynamic_download_url({ids:e.ids,max_time:e.maxTime,ttl:e.ttl}))?void 0:t.data)??{},i=[];for(let s=0;s<e.ids.length;s++){const t=e.ids[s],o=(null==(r=null==e?void 0:e.names)?void 0:r[s])??"";n[t]?n[t].url=n[t].url+(o?`&target_name=${o}`:""):i.push(t)}return{urlMap:n,noDownloadLink:i}}async downloadAssetUrlV2(e){var t,r;const n=(null==(t=await this.sdk.get_asset_dynamic_download_url({ids:e.ids,max_time:e.maxTime,ttl:e.ttl}))?void 0:t.data)??{},i=[];for(let s=0;s<e.ids.length;s++){const t=e.ids[s],o=(null==(r=null==e?void 0:e.names)?void 0:r[s])??"";if(n[t])if("anchor"===e.downloadMode)re(n[t].url+(o?`&target_name=${o}`:""));else ne(n[t].url+(o?`&target_name=${o}`:""));else i.push(t)}return i}async getPackages(){const e=(await this.sdk.get_package(null)).map((e=>new Y(e))),t=[j.EDIT,j.SCRIPT,j.TEMPLATE,j.GRAPHIC];return e.filter((e=>e.isValid)).filter((e=>t.includes(e.subType))).sort(((e,t)=>(t.updatedAt??0)-(e.updatedAt??0)))}async getPackageById(e){return this.getPackageByKey(e)}async getPackageByKey(e){const t=await this.sdk.get_package([e]);if(t.length)return new Y(t[0]);throw new Error(`\u8349\u7a3fkey(${e})\u4e0d\u5b58\u5728`)}async savePackage(e){const{draftId:t,draftMeta:r,assets:n,isForceReplace:i=!1,permission:s=this.permission??R.PUBLIC,folderId:o,name:a,draftType:c=B.NORMAL}=e;let l=e.prePkgId||null;return i&&(l=(await this.getPackageByKey(t)).id),await this.sdk.save_package({key:t,meta:JSON.stringify(r),package_assets:n.map((e=>({md5:e.md5,size:e.size,path:e.path,entry_ids:e.entryIds,meta:JSON.stringify(e.meta)}))),base_package_id:l,permission:s,folder_id:o,draft_type:c,name:a})}async sharePackage(e){const{entryId:t,spaceId:r,draftMeta:n,packageId:i,folderId:s,name:o,packageKey:a,overwrite:c,permission:l}=e;await this.sdk.share_package({overwrite:c,permission:l,name:o,package_id:i,entry_id:t,meta:JSON.stringify(n),folder_id:s,package_key:a,to_space_id:r})}async deletePackageById(e){await this.sdk.delete_package(e)}async renamePackages({key:e,name:t}){if(await this.isPackageNameDumplicate({fileName:t,filterKey:e}))throw new ie;const r=await this.getPackageByKey(e),n=(0,s.A)({},r.meta,{draft:{name:t,updateTime:(new Date).valueOf()}}),i=await this.sdk.rename_package({package_id:r.id,meta:JSON.stringify(n)});return new Y(i.package)}async updatePackageMeta({id:e,key:t,meta:r,autoMergeMeta:n=!1}){let i=e,o=r;if(t)try{const e=await this.getPackageByKey(t);i=i||e.id,n&&(o=(0,s.A)({},e.meta,o))}catch{if(n)throw new Error("Not found local meta info, could not merge")}if(!i)throw new Error("params id or key is required at least one.");const a=await this.sdk.rename_package({package_id:i,meta:JSON.stringify(o)});return new Y(a.package)}async validateWebEditorSupportPkg(e){var t;const r=Object.assign({},{platform:["browser"]},e),n=await this.getPackageByKey(r.draftId);return!!n&&r.platform.includes((null==(t=n.meta)?void 0:t.uploadSource.platform)??"")}async forceSyncPullUpdates(){await this.sdk.sync_pull_updates({})}async getClusters(){const e=(await this.sdk.get_clusters({})).filter((e=>e.n_asset)).map((e=>new K({cluster:e}))),t=e.map((e=>e.lastAssetId)),r=(await this.getAssetsByFileId(t)).reduce(((e,t)=>(e[t.id]=t,e)),{});return e.forEach((e=>e.updateLastAsset(r[e.lastAssetId]))),e}async getClusterLastAsset(e){const t=await this.getAssetsFromCluster({clusterId:e.id,sortByRelation:!0})||[];return t[t.length-1]}async getClusterById(e){const t=(await this.sdk.get_clusters({cluster_ids:[e.clusterId]}))[0];if(!t||!t.n_asset)throw new Error("cluster invalid");const r=new K({cluster:t});if(e.needLastAsset){const e=await this.getClusterLastAsset(r);r.updateLastAsset(e)}return r}async createCluster(e){return await this.sdk.create_cluster({...e,relation:JSON.stringify(e.relation??[]),meta:JSON.stringify(e.meta)})}async delCluster(e){return await this.sdk.delete_cluster({cluster_id:e.id,delete_resource:e.deleteAsset})}async addAssetToCluster({clusterId:e,assetIds:t,relation:r}){if(!r){const n=await this.getClusterById({clusterId:e});if(!n)throw new Error(`cluster id is not found: ${e}`);null==(r=n.relation)||r.push(...t)}return await this.sdk.add_cluster_resource({cluster_id:e,ids:t,relation:JSON.stringify(r)})}async delAssetFromCluster({clusterId:e,assetIds:t=[],relation:r,delAsset:n}){if(!r){const n=await this.getClusterById({clusterId:e});if(!n)throw new Error(`cluster id is not found: ${e}`);r=null==(r=n.relation)?void 0:r.filter((e=>!t.includes(e)))}await this.sdk.remove_cluster_resource({cluster_id:e,ids:t,relation:JSON.stringify(r)}),n&&await this.deleteByEntry(t)}async updateCluster({clusterId:e,meta:t,relation:r}){await this.sdk.update_cluster({cluster_id:e,meta:t?JSON.stringify(t):void 0,relation:r?JSON.stringify(r):void 0})}async getAssetsFromCluster(e){const t=await this.sdk.get_asset_from_cluster({cluster_id:e.clusterId});let r=(null==t?void 0:t.map((e=>W(e,this))))??[];if(e.sortByRelation){const t=await this.getClusterById({clusterId:e.clusterId});null!=t&&t.relation&&(r=this.sortArrayByRelation({exists:r,relation:t.relation||[],getter:e=>e.notOnlyId}))}return r}async createFolder(e){const t=await this.sdk.create_folder({name:e.name,parent_id:e.parentId,permission:e.permission,meta:JSON.stringify((0,s.A)(te(),e.meta||{}))});return new J(t.folder)}async deleteFolder(e){if(e&&e.length)return await this.sdk.delete_folder({ids:e})}async moveTo(e){const{ids:t,target:r}=e,n={ids:e.ids,parent_id:e.target};try{this.cacheCurrentFolders(e.target)}catch{}const i=!this.isGroupSdk;if(xe.isRootFolderId(r))return await this.sdk.move_to_folder(n);const s=await this.getFolderPaths({folderId:r}),o=s.length,a=s.pop();if(!a)throw new Error("[EverSDK] moveTo: target folder not exist");const c=await this.getFolders(t);if((await Promise.all(c.map((e=>this.getFolderMaxDepth(e.id))))).some((e=>e.depth>xe.maxFolderDepth-o)))throw new le(xe.maxFolderDepth);if(i||a.permission===R.PUBLIC)return await this.sdk.move_to_folder(n);if([...await this.getEntryAssets(t),...c].some((e=>e.isPublic)))throw new ce;return await this.sdk.move_to_folder(n)}async updateFolder(e){return await this.sdk.update_folder({...e,folderId:e.folderId,access_time:e.access?1:0})}async getFolders(e){if(!e||null==e||!e.length)return[];if(e.some((e=>xe.isRootFolderId(e))))throw new Error("[EverSDK] getFolders: can not get root folder info ");const t=await this.sdk.get_folders({ids:e});return((null==t?void 0:t.folders)||[]).map((e=>new J(e)))}async getFolder(e,t){if(xe.isRootFolderId(e))return;const r=(await this.getFolders([e]))[0];if(!r||void 0===t||!this.isGroupSdk)return r;const[n]=await this.getFolderPaths({folderId:e},t);return t===R.PERSONAL&&(null==n?void 0:n.author)===xe.everUserId||t===R.PUBLIC&&n.isPublic?r:null}async getFolderPaths(e,t){if(!e||!e.folderId)throw new Error("[EverSDK] getFolderPaths: folder_id can not be empty");if(xe.isRootFolderId(e.folderId))throw new Error("[EverSDK] getFolders: can not get root folder info ");const r=await this.sdk.get_folder_path({folder_id:e.folderId}),n=((null==r?void 0:r.path)||[]).map((e=>new J(e)));return!n.length||!this.isGroupSdk||void 0===t||t===R.PUBLIC&&n[0].isPublic||t===R.PERSONAL&&n[0].author===this.everUserId?n:[]}async getAssetsByFolder(e,t){const{folderId:r,filter:n}=e,i=await this.sdk.get_folder_items({folder_id:r,filter:n||0}),s=(i.assets||[]).filter((e=>{var t;return!(null!=(t=null==e?void 0:e.cluster_list)&&t.length)})).map((e=>W(e,this))),o=(i.packages||[]).map((e=>new Y(e))).filter((e=>e.isValid)),a=o.filter((e=>e.subType===j.EDIT)).sort(((e,t)=>(t.updatedAt??0)-(e.updatedAt??0))),c=o.filter((e=>e.subType===j.SCRIPT)).sort(((e,t)=>(t.updatedAt??0)-(e.updatedAt??0)));let l=[];this.isOversea()||(l=(i.clusters||[]).filter((e=>e.n_asset)).map((e=>new K({cluster:e}))),await Promise.all(l.map((async e=>{const t=await this.getClusterLastAsset(e);e.updateLastAsset(t)}))));const u=(i.folders||[]).map((e=>new J(e)));if(!this.isGroupSdk||void 0===t)return{assets:s,packages:a,clusters:l,folders:u,scripts:c};if(xe.isRootFolderId(r))return{assets:s.filter((e=>Z(t,e))),packages:a.filter((e=>Z(t,e))),clusters:l.filter((e=>Z(t,e))),folders:u.filter((e=>Z(t,e))),scripts:c.filter((e=>Z(t,e)))};const d=await this.getFolderPaths({folderId:r},t);if(!d.length)return{};const h=d[0];return t===R.PERSONAL&&h.author===xe.everUserId||t===R.PUBLIC&&h.isPublic?{assets:s,packages:a,clusters:l,folders:u,scripts:c}:{}}async copyAsset(e){if(!e||!e.entryId)throw new Error("[EverSDK] copyAsset: entry_id can not be empty");try{this.cacheCurrentFolders(e.parentId)}catch{}return W((await this.sdk.copy_asset({entry_id:e.entryId,name:e.name,parent_id:e.parentId})).asset,this)}async copyPackage(e){if(!e||!e.src_package_id)throw new Error("[EverSDK] copyPackage: src_package_id can not be empty");const{owner:t,platform:r,appVersion:n,systemVersion:i}=te().uploadSource,o={owner:t,platform:r,appVersion:n,systemVersion:i,createTime:Date.now()},a=await this.sdk.copy_package({src_package_id:e.src_package_id,target_name:e.target_name,target_package_key:e.target_package_key,target_meta:JSON.stringify((0,s.A)(te(),e.target_meta,{createSource:o,uploadSource:o}))});return new Y(a.package)}async copyAndRename(e){const{file:t,parent:r}=e,n=await xe.getAssetsByFolder({folderId:r,filter:0}),i=[...n.assets||[],...n.clusters||[],...n.folders||[],...n.packages||[],...n.scripts||[]].map((e=>e.name)),s=this.dependencies.getFileCopyName(t.name,i);if(t.type===F.PACKAGE){const{meta:e}=t,r={...e,uploadSource:{...null==e?void 0:e.uploadSource,...te().uploadSource,platform:"browser"},createSource:{...null==e?void 0:e.createSource,...te().uploadSource,platform:"browser"},draft:{...null==e?void 0:e.draft,name:s}};return xe.copyPackage({src_package_id:t.id,target_name:s,target_package_key:crypto.randomUUID().toUpperCase(),target_meta:r})}return xe.copyAsset({entryId:t.id,parentId:r,name:s})}cacheCurrentFolders(e){if(xe.isRootFolderId(e))return;const t=this.getCacheCurrentFolderIds(),r=[e,...t.filter((t=>t!==e))].slice(0,this.cacheFoldersNum);window.localStorage.setItem(this.getCacheFolderKey(),JSON.stringify(r))}getCacheCurrentFolderIds(){let e=[];try{const t=JSON.parse(window.localStorage.getItem(this.getCacheFolderKey())||"");Array.isArray(t)&&(e=t)}catch{}return e}async getCurrentFolders(e=5){const t=this.getCacheCurrentFolderIds(),r=await this.getFolders(t.filter((e=>!xe.isRootFolderId(e)))),n=this.sortArrayByRelation({exists:r,relation:t,getter:e=>e.id}),i=n.map((e=>e.id));return window.localStorage.setItem(this.getCacheFolderKey(),JSON.stringify(i)),n.slice(0,e)}async updateEntry(e){if(!e||!e.id)throw new Error("[EverSDK] updateEntry: entry_id can not be empty");const t={id:e.id};if(e.name&&(t.name=e.name),e.access&&(t.access_time=e.access),null!==e.permission&&void 0!==e.permission&&(t.permission=e.permission===R.PERSONAL?1:0),e.meta)try{t.meta=JSON.stringify(e.meta)}catch{}return await this.sdk.update_entry(t)}async getEntryAssets(e,t=!1){return(await this.sdk.get_entry_asset({ids:e,allow_cluster:!!t})||[]).map((e=>W(e,this)))}async getEntryAsset(e,t=!1,r=!1){const n=(await this.sdk.get_entry_asset({ids:[e],allow_cluster:!!t}))[0];if(!n)throw new Error(`asset not found: entryId=${e}`);const i=W(n,this);if(r){const e=await this.getUnencryptedPlayInfo({id:i.notOnlyId});i._sourceData.unencryptedPlayInfo=e}return i}async deleteByEntry(e=[]){const t=[];for(let r=0;20*r<e.length;r++)t.push(this.sdk.delete_entry({ids:e.slice(20*r,20*(r+1))}));return await Promise.all(t)}async getFolderMaxDepth(e){return await this.sdk.get_folder_max_depth({folder_id:e})}async resetSpaceStorage(e){const{quota:t,usage:r}=await this.dependencies.apiFunc.getEverPhotoUserSpace(e);return t-r}sortArrayByRelation(e){const t=(null==e?void 0:e.getter)||(e=>e),r=e.exists.slice(),n=[];for(const i of e.relation??[]){const e=r.findIndex((e=>t(e)===i));n.push(...r.splice(e,e<0?0:1))}return n.push(...r),n}async tearDown(){return this.sdk?this.sdk.tear_down():Promise.resolve()}async updatePermission(e){const{permission:t=this.permission??R.PUBLIC,assetIds:r=[],assetMd5s:n=[],packageIds:i=[]}=e;return await this.sdk.update_permission({permission:t,asset_ids:r,asset_md5s:n,package_ids:i})}async getUnencryptedPlayInfo(e){return await this.sdk.get_asset_unencrypted_play_info(e)}async moveFromSpace(e){var t,r;const n={from_space:e.fromSpace||"0",resource_id:e.resourceId,resource_type:e.resourceType,to_space:e.toSpace||(null==(t=this.options)?void 0:t.space)||"0",meta:JSON.stringify(e.meta)};null!=(r=this.options)&&r.is_boe||(n.from_idc=e.fromIdc,n.to_idc=e.toIdc??this.idc);const i=await this.sdk.move_from_space(n);return new Ae(i.process_id,this)}async copyFromSpace(e){var t,r;const n={from_space:e.fromSpace||"0",resource_id:e.resourceId,resource_type:e.resourceType,to_space:e.toSpace||(null==(t=this.options)?void 0:t.space)||"0",meta:JSON.stringify(e.meta),package_key:e.packageKey};null!=(r=this.options)&&r.is_boe||(n.from_idc=e.fromIdc,n.to_idc=e.toIdc??this.idc);const i=await this.sdk.copy_from_space(n);return new Ee(i.process_id,this)}async getImagesTranscodeStatus(e){const t=new Le(e,this);return await this.sdk.get_image_transcode_info({listeners:e.map((e=>({...e,transcode_type:N[e.resolution]})))}),t}async triggerImageResize(e){const{ids:t=[],md5s:r=[]}=e,n=[],i=50;for(let s=0;s*i<t.length;s++)n.push(this.sdk.trigger_image_resize({ids:t.slice(s*i,(s+1)*i)}));for(let s=0;s*i<r.length;s++)n.push(this.sdk.trigger_image_resize({md5s:r.slice(s*i,(s+1)*i)}));return await Promise.all(n)}async cancelImagesTranscodeStatus(e,t){await this.sdk.cancel_image_transcode_info_loop({listeners:e.map((e=>({...e,transcode_type:N[e.resolution]}))),cancel_all:t}),this.eventBus.emit(ke.EverCloudCancelImageTranscode,{options:e,cancelAll:t})}async getImagePreviewInfo(e,t){const r=e.imageTranscodeInfo,n={},i=[];if((t||O).forEach((e=>{r[e]?n[e]=r[e]:i.push(e)})),!i.length)return n;const s=await this.getImagesTranscodeStatus(i.map((t=>({ids:[e.id],resolution:t}))));if(!e.imageAsyncResize){const t=await this.triggerImageResize({ids:[e.id]});Q(`EverCloud triggerImageResize ${e.id} ${JSON.stringify(t)}`)}try{return await s.done(),(await this.getAssetByFileId(e.id)).imageTranscodeInfo}catch{return n}}async getImagesPreviewInfo(e){const{resolutions:t,ids:r,md5s:n}=e,i=null==t?void 0:t.map((e=>({ids:r,md5s:n,resolution:e}))),s=await this.getImagesTranscodeStatus(i),o=await this.triggerImageResize({ids:r,md5s:n});Q(`EverCloud triggerImageResize: \n ids-[${r}] \n md5s-[${n}]: \n${JSON.stringify(o)}`),await s.done();const a=(await this.getAsset({ids:r,md5s:n})).map((e=>W(e,this)))??[],c={};a.forEach((e=>{c[e.id]=e,c[e.md5]=e}));const l={};return null==r||r.forEach((e=>{c[e]&&(l[e]=c[e].imageTranscodeInfo)})),null==n||n.forEach((e=>{c[e]&&(l[e]=c[e].imageTranscodeInfo)})),l}async throttlingGetUpdatesTrigger(e={throttle:2e3}){if(!this._getUpdatesTriggerLastTime)return this._getUpdatesTriggerLastTime=Date.now(),void this.sdk.trigger_pull_updates();Date.now()-this._getUpdatesTriggerLastTime>e.throttle&&(this._getUpdatesTriggerLastTime=Date.now(),this.sdk.trigger_pull_updates())}async initEverCloudSdk(e){var t,n,i,s;if(this.sdk)return void Q("this has been init",{type:"warn"});const o=Date.now();let a,c;const l=function(){try{const e=typeof __userInfoStringify<"u"?JSON.parse(__userInfoStringify):void 0;return e&&"0"===e.ret?e.data:void 0}catch{return}}();if(null!=l&&l.ever_photo.token&&null!=l&&l.ever_photo.web_user_id)a=l.ever_photo.token,c=l.ever_photo.web_user_id;else{const e=await this.dependencies.apiFunc.getEverPhotoToken(null==(t=this.options)?void 0:t.space);a=e.token,c=e.ever_photo_user.web_user_id}this.initEverCloudSdkReporter.addParams({getToken:Date.now()-o}),this.webUserId=c;const{EverCloudSdk:u}=await r.e(2624).then(r.bind(r,13238)),{timeout:d}=this.options||{},{init:h=3e5,...p}=d||{},f=new u({token:a,source_from:this.dependencies.constant.sourceFrom,level:"error",...this.options,event_conf:{enable_asset_status_event:!1,enable_package_status_event:!1},common_params:{aid:this.dependencies.constant.aid},headers:{...null==(n=this.options)?void 0:n.headers},backup_conf:{max_count_of_concurrent_upload:5,chunk_size:5,...null==(i=this.options)?void 0:i.backup_conf},timeout:{general:30,upload:120,download:120,...p}},(async()=>{var e;return(await this.dependencies.apiFunc.getEverPhotoToken(null==(e=this.options)?void 0:e.space)).token}));this.sdk=f;try{await f.init()}catch(g){this.initLocker.initDone({reject:g})}null!=(s=this.options)&&s.disable_start_sync_loop||await this.startSyncLoop(),e.initDoneCb(),f.set_event_callback((t=>{var r;const n=JSON.parse(t),i=n.type;if(Q(`this receive event: ${i} data: ${t}`),"sync_load_done"===i&&e.loadDoneCb(),"sync_init_done"===i){e.syncDoneCb(0===n.code,t),this.initEverCloudSdkReporter.addParams({sdkInit:this.initLocker.costTimes,sdkSync:this.syncLocker.costTimes,total:Date.now()-o});const{reportData:i}=this.initEverCloudSdkReporter;null==(r=this.TeaReporter)||r.event(i.event,i.data)}i===ke.TrackSendEvent&&this.reportSdkEvent(n),this.eventBus.emit(i,n)}))}async isAssetNameDumplicate({fileName:e,filterMd5:t}){const r=(await this.getFilesListByFloder({})).reduce(((e,r)=>{if(r.type!==F.PACKAGE){if(t&&r.md5===t)return e;e[r.name??""]=!0}return e}),{});return Object.keys(r).includes(e)}async isPackageNameDumplicate({fileName:e,filterKey:t}){const r=(await this.getFilesListByFloder({})).reduce(((e,r)=>{if(r.type===F.PACKAGE){if(t&&r.key===t)return e;e[r.name??""]=!0}return e}),{});return Object.keys(r).includes(e)}reportSdkEvent(e){var t;if(this.TeaReporter){const{event_name:r,str_params:n,int_params:i,float_params:s}=e;null==(t=this.TeaReporter)||t.event(r,Object.assign({},n,i,s))}}async getFromCache(e){if(e&&this.idbPlugin)return await this.idbPlugin.tryGetSource(e)}isOversea(e){return 13===((null==e?void 0:e.source_from)||this.dependencies.constant.sourceFrom)}getCacheFolderKey(){var e;return`current_folder_${this.webUserId}_${(null==(e=this.options)?void 0:e.space)||""}`}}Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getFilesListByFloder",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssets",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"asset_preview",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"uploadAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"streamClipUploadAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"appendClipToUpload",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"uploadVid",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"syncVideoToEverCloud",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetsByMd5",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetByMd5",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetByFileId",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetsByFileId",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getFileDetailWithTranscode",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getVideoAssetTranscodeStatus",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetsPlayInfo",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetSpirtInfo",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetPreviewInfo",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"cancelAllUploadAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"cancelUploadAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r},function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;const r=await n.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),r}),r}],He.prototype,"deleteAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"renameAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"downloadByUrlKey",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"downloadAssetStream",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"downloadAssetUrl",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getDownloadUrl",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"downloadAssetUrlV2",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getPackages",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getPackageByKey",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"savePackage",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"sharePackage",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r},function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;const r=await n.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),r}),r}],He.prototype,"deletePackageById",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"renamePackages",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"updatePackageMeta",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"forceSyncPullUpdates",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getClusters",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getClusterLastAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getClusterById",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"createCluster",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"delCluster",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"addAssetToCluster",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"delAssetFromCluster",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"updateCluster",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetsFromCluster",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"createFolder",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r},function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;const r=await n.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),r}),r}],He.prototype,"deleteFolder",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"moveTo",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"updateFolder",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getFolders",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getFolderPaths",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getAssetsByFolder",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"copyAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"copyPackage",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"updateEntry",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getEntryAssets",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getEntryAsset",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r},function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;const r=await n.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),r}),r}],He.prototype,"deleteByEntry",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getFolderMaxDepth",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"updatePermission",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getUnencryptedPlayInfo",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r},function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;const r=await n.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),r}),r}],He.prototype,"moveFromSpace",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r},function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;const r=await n.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),r}),r}],He.prototype,"copyFromSpace",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getImagesTranscodeStatus",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"triggerImageResize",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"cancelImagesTranscodeStatus",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getImagePreviewInfo",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"getImagesPreviewInfo",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"throttlingGetUpdatesTrigger",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"isAssetNameDumplicate",1),Se([function(e,t,r){const n=r.value;return"function"==typeof n&&(r.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await n.apply(this,e)}),r}],He.prototype,"isPackageNameDumplicate",1);const Ne="0",De=class e{static get sdk(){const t=e._getSdkKey(e.options),r=e.sdkList.get(t);if(r)return r.sdk;e.initNoSignSdk();const n=e.sdkList.get(e._getSdkKey());return null==n?void 0:n.sdk}static get supportImageResolutions(){return O}static async prefetchWasmCode(){const{evpt_sdk_init_wasm_module:e}=await r.e(2624).then(r.bind(r,13238));await e()}static async getSdkInstance(t){var r,n,i,s;const{autoDestroy:o=!1,dcName:a,netconf:c}=t;let{spaceId:l}=t;l||(l=Ne);const u=`${(null==(r=e.options)?void 0:r.user_id)||""}-${l}`,d=new Pe;d.addProcessParams({method:"getSdkInstance",process:"wait-set-options",key:u}),Q(`EverCloud: getSdkInstance ${u} start wait setOptions`),null==(n=this.TeaReporter)||n.event(d.progressEvent,d.process),await e._initLocker.awaitForInit(),Q(`EverCloud: getSdkInstance ${u} end wait setOptions`),await e.init({spaceId:l,dcName:a,netconf:c,autoDestroy:o,initProcessReporter:d});const h=e.sdkList.get(u);if(h)return h.referenceCount+=1,Q(`EverCloud: Reference instance [${u}], reference-${h.referenceCount}`),d.addProcessParams({process:"init-success"}),null==(i=this.TeaReporter)||i.event(d.progressEvent,d.process),h.autoDestroy=o,h.sdk;throw d.addProcessParams({process:"init-error",error:`EverCloud sdk init edn bug sdk=${u} not found in cache`}),null==(s=this.TeaReporter)||s.event(d.progressEvent,d.process),new Error("EverCloud: sdk init failed")}static setNoSignOptions(t){e.noSignOptions=t,e.sdkList.forEach((e=>{e.sdk.setNoSignOptions(t)}))}static async noSignInit(){await e.initNoSignSdk()}static async initNoSignSdk(){if(!e.sdkList.get(e._getSdkKey())){const t=new He;if(!e.dependencies)throw new Error("please call setDependencies before init.");t.setDependencies(e.dependencies),t.setNoSignOptions(e.noSignOptions),e.sdkList.set(e._getSdkKey(),{referenceCount:0,sdk:t,updateTime:Date.now(),createTime:Date.now(),autoDestroy:!0}),await t.noSignInit()}}static async changeSpace(t){e.space=t.spaceId||Ne;const r=await e.init(t);return e._emitSpaceChange(),r}static setTeaReporter(t){e.TeaReporter=t,e.sdkList.forEach((({sdk:e})=>{e.setTeaReporter(t)}))}static setOptions(t,r){(!e.options||r)&&(e.options=t,e._initLocker.startToInit(),e._initLocker.initDone())}static async init(t){var r,n,i,s,o;const{spaceId:a,autoDestroy:c=!0,dcName:l,netconf:u,initProcessReporter:d}=t||{},{idbPlugin:h,options:p,sdkList:f,space:g}=e,m=a||g||p.space||Ne,v=e._getSdkKey(p,m),_=d||new Pe;_.addProcessParams({method:_.reportProcess.data.method||"init",key:_.reportProcess.data.key||v,process:"wait-init"}),null==(r=this.TeaReporter)||r.event(_.progressEvent,_.process);const y=f.get(v);if(y){_.addProcessParams({process:"sdk-init-existed"}),null==(n=this.TeaReporter)||n.event(_.progressEvent,_.process);const{sdk:t}=y;return h&&t.setCachePlugin(h),y.updateTime=Date.now(),null==(i=e.awaitInitQueue.get(v))||i.forEach((({resolve:e})=>e(y.sdk))),e.awaitInitQueue.delete(v),e._destroySdk(),t.init()}const w=e.awaitInitQueue.get(v);if(w&&w.length)return _.addProcessParams({process:"sdk-init-doing"}),null==(s=this.TeaReporter)||s.event(_.progressEvent,_.process),new Promise(((e,t)=>{w.push({resolve:e,reject:t})}));_.addProcessParams({process:"sdk-init-new"}),null==(o=this.TeaReporter)||o.event(_.progressEvent,_.process);const A=new He;if(h&&A.setCachePlugin(h),!e.dependencies)throw new Error("please call setDependencies before init.");return A.setDependencies(e.dependencies),A.setNoSignOptions(e.noSignOptions),A.setTeaReporter(e.TeaReporter),new Promise((async(t,r)=>{var n,i,s,o,a,d;e.awaitInitQueue.set(v,[{resolve:t,reject:r}]);try{await A.setOptions({...p,space:m,netconf:u??(null==p?void 0:p.netconf),dc_name:l??p.dc_name});const t=e._getSdkKey(p,m),r=await A.init();return _.addProcessParams({process:"sdk-init-done"}),null==(n=this.TeaReporter)||n.event(_.progressEvent,_.process),f.set(t,{referenceCount:0,sdk:A,updateTime:Date.now(),createTime:Date.now(),autoDestroy:c}),null==(i=e.awaitInitQueue.get(v))||i.forEach((({resolve:e})=>e(r))),e.awaitInitQueue.delete(v),e._destroySdk(),r}catch(h){_.addProcessParams({process:"init-error",error:null==(s=null==h?void 0:h.toString)?void 0:s.call(h)}),null==(o=this.TeaReporter)||o.event(_.progressEvent,_.process),Q(`EverCloud: getSdkInstance ${v} \u521d\u59cb\u5316\u5931\u8d25: ${null==(a=null==h?void 0:h.toString)?void 0:a.call(h)}`),null==(d=e.awaitInitQueue.get(v))||d.forEach((({reject:e})=>e(h))),e.awaitInitQueue.delete(v)}}))}static setCachePlugin(t){e.idbPlugin=t}static onSpaceChange(t){return e.eventBus.on(e.EVENTS.SPACE_CHANGE,t)}static setDependencies(t){e.dependencies=t,e.sdkList.forEach((({sdk:e})=>{e.setDependencies(t)}))}static get rootFolderId(){return""}static isRootFolderId(e){return!e||-1===Number(e)}static async destroySdk(t=""){const r=e._getSdkKey(e.options,t),n=e.sdkList.get(r);if(null!=n&&n.sdk&&"-"!==r){if(n.referenceCount-=1,n.sdk===e.sdk)return void Q(`Can not destroy instance [${r}], because it is being used as default sdk. reference-${n.referenceCount}`);n.referenceCount<=0?(e.sdkList.delete(r),await n.sdk.destroy(),Q(`Destroy instance [${r}]`)):Q(`Can not destroy instance [${r}], because it is being used. reference-${n.referenceCount}`)}}static _emitSpaceChange(){e.eventBus.emit(e.EVENTS.SPACE_CHANGE)}static _getSdkKey(t,r=e.space){return`${(null==t?void 0:t.user_id)||""}-${r||(null==t?void 0:t.space)||Ne}`}static _destroySdk(){e.timer&&clearTimeout(e.timer);const t=e.sdkList;let r=null,n="";if(t.forEach(((i,s)=>{const{sdk:o,updateTime:a,autoDestroy:c,referenceCount:l}=i;o===e.sdk||"-"===s||!c||(a<Date.now()-e.duration&&l<=0&&(t.delete(s),o.destroy(),Q(`AutoDestroy overdue instance [${s}]`)),l>0&&Q(`Can not auto destroy overdue instance [${s}], because it is being used. reference-${l}`),(!r||r.updateTime>a)&&(r=i,n=s))})),r&&t.size>e.maxSize){const{sdk:e,autoDestroy:i,referenceCount:s}=r;i&&s<=0&&(t.delete(n),e.destroy(),Q(`AutoDestroy excess instance [${n}]`))}e.timer=setTimeout((()=>{e._destroySdk()}),e.duration)}};De.eventBus=new(i()),De.EVENTS={SPACE_CHANGE:"space_change"},De.sdkList=new Map,De.maxFolderDepth=10,De.space="",De.TeaReporter=null,De.duration=6e4,De.maxSize=3,De.timer=setTimeout((()=>{De._destroySdk()}),De.duration),De.dependencies=void 0,De._initLocker=new Te,De.awaitInitQueue=new Map;let Me=De;class Fe{constructor(){this._store=(0,u.y$)("lv-ever-cloud","lv-ever-cloud-url")}async tryGetSource(e){return await(0,u.Jt)(e,this._store)}async saveSourceBlob({key:e,buffer:t}){return await(0,u.hZ)(e,t,this._store)}async delSource(e){return await(0,u.yH)(e,this._store)}}const xe=new Proxy({},{get:(e,t)=>{switch(t){case"setOptions":case"options":case"space":case"init":case"setCachePlugin":case"onSpaceChange":case"changeSpace":case"setTeaReporter":case"isRootFolderId":case"rootFolderId":case"maxFolderDepth":case"setDependencies":case"destroySdk":case"getSdkInstance":case"setNoSignOptions":case"noSignInit":case"initNoSignSdk":case"prefetchWasmCode":case"TeaReporter":case"sdkList":case"supportImageResolutions":case"$$typeof":return Me[t];default:const e=Me.sdk;return e?"function"==typeof e[t]?e[t].bind(e):e[t]:void console.warn(`EverCloud:EverCloudBaseCore.${String(t)} ever-sdk \u672a\u521d\u59cb\u5316`)}}}),Be={APP_NAME:"cc_web",APP_ID:"348188",APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0",USER_AGREEMENT:"",CC4B_PAGE:(e="en")=>"https://www.capcut.com/business/campaign/commercepro-early-bird-recruitment",PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/privacy-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/privacy-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/privacy-policy";case"es-LA":return"https://www.capcut.com/es-es/privacy-policy";case"pt-BR":return"https://www.capcut.com/pt-br/privacy-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/privacy-policy";case"de-DE":return"https://www.capcut.com/de-de/privacy-policy";case"it-IT":return"https://www.capcut.com/it-it/privacy-policy";case"th-TH":return"https://www.capcut.com/th-th/privacy-policy";case"id-ID":return"https://www.capcut.com/id-id/privacy-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/privacy-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/privacy-policy";case"ms-MY":return"https://www.capcut.com/ms-my/privacy-policy";default:return"https://www.capcut.com/privacy-policy"}},GOOGLE_PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://marketingplatform.google.com/about/analytics/terms/tr/";case"ko-KR":return"https://marketingplatform.google.com/about/analytics/terms/kr/";case"ja-JP":return"https://marketingplatform.google.com/about/analytics/terms/jp/";case"pt-BR":return"https://marketingplatform.google.com/about/analytics/terms/br/";case"es-LA":return"https://marketingplatform.google.com/about/analytics/terms/es/";case"fr-FR":return"https://marketingplatform.google.com/about/analytics/terms/fr/";case"de-DE":return"https://marketingplatform.google.com/about/analytics/terms/de/";case"it-IT":return"https://marketingplatform.google.com/about/analytics/terms/it/";case"th-TH":return"https://marketingplatform.google.com/about/analytics/terms/th/";case"id-ID":return"https://marketingplatform.google.com/about/analytics/terms/id/";case"vi-VN":return"https://marketingplatform.google.com/about/analytics/terms/vn/";case"fil-PH":case"tl-PH":return"https://marketingplatform.google.com/about/analytics/terms/ph/";default:return"https://marketingplatform.google.com/about/analytics/terms/us/"}},TERMS_OF_CAPCUT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/terms-of-service";case"ja-JP":return"https://www.capcut.com/ja-jp/terms-of-service";case"ko-KR":return"https://www.capcut.com/ko-kr/terms-of-service";case"es-LA":return"https://www.capcut.com/es-es/terms-of-service";case"pt-BR":return"https://www.capcut.com/pt-br/terms-of-service";case"fr-FR":return"https://www.capcut.com/fr-fr/terms-of-service";case"de-DE":return"https://www.capcut.com/de-de/terms-of-service";case"it-IT":return"https://www.capcut.com/it-it/terms-of-service";case"th-TH":return"https://www.capcut.com/th-th/terms-of-service";case"id-ID":return"https://www.capcut.com/id-id/terms-of-service";case"vi-VN":return"https://www.capcut.com/vi-vn/terms-of-service";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/terms-of-service";case"ms-MY":return"https://www.capcut.com/ms-my/terms-of-service";default:return"https://www.capcut.com/terms-of-service"}},COOKIE_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/cookies-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/cookies-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/cookies-policy";case"es-LA":return"https://www.capcut.com/es-es/cookies-policy";case"pt-BR":return"https://www.capcut.com/pt-br/cookies-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/cookies-policy";case"de-DE":return"https://www.capcut.com/de-de/cookies-policy";case"it-IT":return"https://www.capcut.com/it-it/cookies-policy";case"th-TH":return"https://www.capcut.com/th-th/cookies-policy";case"id-ID":return"https://www.capcut.com/id-id/cookies-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/cookies-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/cookies-policy";case"ms-MY":return"https://www.capcut.com/ms-my/cookies-policy";default:return"https://www.capcut.com/cookies-policy"}},MATERIALS_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/material-license-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/material-license-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/material-license-agreement";case"es-LA":return"https://www.capcut.com/es-es/material-license-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/material-license-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/material-license-agreement";case"de-DE":return"https://www.capcut.com/de-de/material-license-agreement";case"it-IT":return"https://www.capcut.com/it-it/material-license-agreement";case"th-TH":return"https://www.capcut.com/th-th/material-license-agreement";case"id-ID":return"https://www.capcut.com/id-id/material-license-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/material-license-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/material-license-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/material-license-agreement";default:return"https://www.capcut.com/material-license-agreement"}},CREATOR_AGREEMENT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/creator-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/creator-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/creator-agreement";case"es-LA":return"https://www.capcut.com/es-es/creator-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/creator-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/creator-agreement";case"de-DE":return"https://www.capcut.com/de-de/creator-agreement";case"it-IT":return"https://www.capcut.com/it-it/creator-agreement";case"th-TH":return"https://www.capcut.com/th-th/creator-agreement";case"id-ID":return"https://www.capcut.com/id-id/creator-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/creator-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/creator-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/creator-agreement";default:return"https://www.capcut.com/creator-agreement"}},COMMUNITY_GUIDELINE:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/community-guideline";case"ja-JP":return"https://www.capcut.com/ja-jp/community-guideline";case"ko-KR":return"https://www.capcut.com/ko-kr/community-guideline";case"es-LA":return"https://www.capcut.com/es-es/community-guideline";case"pt-BR":return"https://www.capcut.com/pt-br/community-guideline";case"fr-FR":return"https://www.capcut.com/fr-fr/community-guideline";case"de-DE":return"https://www.capcut.com/de-de/community-guideline";case"it-IT":return"https://www.capcut.com/it-it/community-guideline";case"th-TH":return"https://www.capcut.com/th-th/community-guideline";case"id-ID":return"https://www.capcut.com/id-id/community-guideline";case"vi-VN":return"https://www.capcut.com/vi-vn/community-guideline";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/community-guideline";case"ms-MY":return"https://www.capcut.com/ms-my/community-guideline";default:return"https://www.capcut.com/community-guideline"}}};const je={BELOW_VERSION:40008,INSUFFICIENT_SPACE:20113,INVALID_IDC:1037},Ue="COOKIE_CONSENT_PROMPT_CONFIG";var Ge=(e=>(e.DEFAULT="DEFAULT",e.COMMERCE="COMMERCE",e.FRONTIER="FRONTIER",e.TTS="TTS",e))(Ge||{});const Xe="object"==typeof navigator&&/(capcut.*lv\/([\d+.]+)|lv\/([\d+.]+).*capcut)/i.test(navigator.userAgent),$e="b",Ve=`${$e}ytevcloudapi`,Ye=`${$e}yted`;function ze({region:e}){const t={imageHost:"",videoHost:"",videoFallbackHost:null,imageFallbackHost:null};switch(e){case"gcp":t.videoHost=`https://vod-us-east-2.${Ve}.com`,t.imageHost=`https://imagex-us-east-2.${Ve}.com`,t.videoFallbackHost=`https://open-us-east-2.${Ve}.com`,t.imageFallbackHost=`https://open-us-east-2.${Ve}.com`;break;case"sg":t.videoHost=`https://vod-ap-singapore-1.${Ve}.com`,t.imageHost=`https://imagex-ap-singapore-1.${Ve}.com`,t.videoFallbackHost=`https://open-ap-singapore-1.${Ve}.com`,t.imageFallbackHost=`https://open-ap-singapore-1.${Ve}.com`;break;case"US-TTP":t.videoHost="https://api16-normal-useast5.us.tiktokv.com/top/v1",t.imageHost="https://api16-normal-useast5.us.tiktokv.com/top/v1",t.videoFallbackHost="https://api19-normal-useast5.us.tiktokv.com/top/v1";break;case"boe":t.videoHost=`https://staging-openapi-${$e}oe.${Ye}.org`,t.imageHost=`https://staging-openapi-${$e}oe.${Ye}.org`;break;case"boei18n":t.videoHost=`https://vas-${$e}oei18n.${Ye}ance.net`,t.imageHost=`https://vas-${$e}oei18n.${Ye}ance.net`;break;case"cn":t.videoHost=`https://vod.${Ye}anceapi.com`,t.imageHost=`https://imagex.${Ye}anceapi.com`,t.videoFallbackHost="https://vas-lf-x.______________",t.imageFallbackHost=`https://open.${Ye}anceapi.com`;break;default:t.videoHost=`https://vod-us-east-1.${Ve}.com`,t.imageHost=`https://imagex-us-east-1.${Ve}.com`,t.videoFallbackHost=`https://open-us-east-1.${Ve}.com`,t.imageFallbackHost=`https://open-us-east-1.${Ve}.com`}return t}const qe=[100026,100028];class Ke{constructor(e){_(this,"uploader",null),_(this,"auth"),this.auth=e}async init(){if(!this.uploader){await this.auth.init();const e=Object.assign({getSliceFunc:e=>e>209715200?10485760:2097152,uploadSliceCount:3},this.auth.getConfig());e.videoHost||delete e.videoHost,e.imageHost||delete e.imageHost;const{default:t}=await Promise.resolve().then(r.t.bind(r,5092,23));this.uploader=new t({...ze({region:e.region}),...e})}return this.uploader}async upload(e){const{file:t,type:r="image",onSuccess:n,onProgress:i,onError:s,onStart:o}=e,a=await this.init(),c=a.addFile({file:t,stsToken:this.auth.getStsToken(),type:r});a.start(c),null==o||o(c,t),a.on("progress",(e=>{e.key===c&&(null==i||i({key:c,...e}))})),a.on("complete",(e=>{e.key===c&&(null==n||n({key:c,...e.uploadResult}))}));let l=0;return a.on("error",(async e=>{var t;if(e.key===c){if(qe.includes(Number(null==(t=null==e?void 0:e.extra)?void 0:t.errorCode))&&l<1)return l++,await this.auth.init(),a.refreshSTSToken(this.auth.getStsToken()),void a.start(c);null==s||s(e)}})),a}cancel(e){var t;return null==(t=this.uploader)?void 0:t.cancel(e)}}function Je(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function We(e){var t;const r={url:e.baseURL&&e.url?Je(e.baseURL,e.url):"",method:null==(t=null==e?void 0:e.method)?void 0:t.toUpperCase(),params:"string"==typeof e.params?JSON.parse(e.params):e.params,data:"string"==typeof e.data?JSON.parse(e.data):e.data,needCommonParams:!0,responseType:e.responseType??"json"};return p.Ay.app.fetch(r)}async function Qe(e){const t=await We(e);return new Promise(((r,n)=>{if(1!==t.code)n(t);else try{!function(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new o.AxiosError("Request failed with status code "+r.status,[o.AxiosError.ERR_BAD_REQUEST,o.AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}(r,n,{data:JSON.parse(t.data.response),status:t.data.status,config:e,request:We})}catch(i){n(i)}}))}class Ze{constructor(){_(this,"_hasBeenDone",!1),_(this,"_isIniting",!1),_(this,"resolveResult"),_(this,"rejectResult"),_(this,"_initCostTimes"),_(this,"_waitingResolvers",new Set),_(this,"_waitingResolverMap",new Map)}get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!this._initCostTimes)return;const{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit({key:e,timeout:t}={}){if(this._hasBeenDone&&this.initResult){const{resolve:e,reject:t}=this.initResult;return t?Promise.reject(t):Promise.resolve(e)}if(e&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!t){const t=new Promise(((e,t)=>{this._waitingResolvers.add([e,t])}));return e&&this._waitingResolverMap.set(e,t),t}let r,n;const i=Promise.race([new Promise(((e,t)=>{r=[()=>{clearTimeout(n),e()},t],this._waitingResolvers.add([r,t])})),new Promise(((e,i)=>{n=setTimeout((()=>{this._waitingResolvers.delete(r),i(new Error("Timed out waiting for init"))}),t)}))]);return e&&this._waitingResolverMap.set(e,i),i}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw new Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());let t=!1;null!=e&&e.reject?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve;for(const r of this._waitingResolvers)t?r[1](this.rejectResult):r[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}}const et="custom-request-domain";const tt=new class{constructor(){_(this,"_locker",new Ze),_(this,"_userRequestDomain")}getWebDomain(){return this._userRequestDomain.domain.web_domain}updateRequestDomain(e){e.domain&&(this._locker.hasBeenDone||this._locker.initDone(),this._userRequestDomain=e)}async baseRequestInterceptors(e){var t,r,n,i,s,o,a;const c=null==(t=e.baseURL)?void 0:t.startsWith("https");(null==(r=null==e?void 0:e[et])||!r.skipAwaitLocker)&&!c&&await this._locker.awaitForInit();const l=null==(n=null==e?void 0:e[et])?void 0:n.domain,u=(null!=e&&e.useCommerceApi?Ge.COMMERCE:Ge.DEFAULT)===Ge.COMMERCE?null==(s=null==(i=this._userRequestDomain)?void 0:i.domain)?void 0:s.commerce_domain:Xe?"https://mweb-api.capcutapi.com":null==(a=null==(o=this._userRequestDomain)?void 0:o.domain)?void 0:a.web_domain,d=l||u;return!c&&d&&(e.baseURL=`${l||d}${e.baseURL??""}`),{...e,withCredentials:!0}}createAxios(e){const t=Xe?a().create({...e,adapter:Qe}):a().create(e);return t.interceptors.request.use(this.baseRequestInterceptors.bind(this)),t}},rt=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);const nt="custom-axios-retry",it=["get","head","options"].concat(["put","delete"]);function st(e){const t=(null==e?void 0:e[nt])||{canRetry:!0};return t.retryCount=t.retryCount||0,t}const ot=()=>0;function at(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&function(e){return!rt.has(e&&e.code)}(e)}function ct(e){return at(e)||function(e){return!!e.config&&function(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}(e)&&-1!==it.indexOf(e.config.method)}(e)}function lt(e,t){return e.interceptors.request.use((e=>{const t=st(e);return t.lastRequestTime=Date.now(),e[nt]=t,e})),e.interceptors.response.use(void 0,(r=>{const{config:n}=r;if(!n)return Promise.reject(r);const{retries:i=5,isRetry:s=ct,retryDelay:o=ot,resetTimeout:a=!1}=Object.assign({},t,null==n?void 0:n[nt]),c=st(n);if(s(r)&&c.canRetry&&(-1===i||c.retryCount<i)){c.retryCount+=1;const t="number"==typeof o?o:o(c.retryCount,r);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,n),!a&&n.timeout&&c.lastRequestTime){const e=Date.now()-c.lastRequestTime;n.timeout=Math.max(n.timeout-e-t,1)}return n.transformRequest=[e=>e],new Promise((r=>setTimeout((()=>r(e(n))),t)))}return Promise.reject(r)})),e}function ut({url:e,pf:t,appvr:r,tdid:n}){const i=Math.floor(Date.now()/1e3);return{sign:m()(`9e2c|${e.slice(-7)}|${t}|${r}|${i}|${n}|11ac`).toLowerCase(),"device-time":i}}const dt={baseURL:"",method:"POST",headers:{loc:Be.CHANNEL,lan:f.Ay.language||Be.LAN,pf:Be.APP_PF,appvr:Be.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Be.APP_SDK_VERSION}},ht=tt.createAxios(dt);ht.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)})),lt(ht,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:e=>{var t;return Number(null==(t=null==e?void 0:e.data)?void 0:t.ret)!==je.INVALID_IDC}});const pt={async getEverPhotoToken(){const e="/lv/v1/ever_photo/get_token",{pf:t,appvr:r,tdid:n}=dt.headers;return await ht({url:e,data:{},headers:{...ut({url:e,...dt.headers,pf:t,appvr:r,tdid:n})}})},async getWorkspaceEverPhotoToken(){const e="/cc/v1/workspace/get_ever_photo_token",{pf:t,appvr:r,tdid:n}=dt.headers;return await ht({url:e,data:{},headers:{...ut({url:e,...dt.headers,pf:t,appvr:r,tdid:n})}})},async getEverPhotoUserSpace(e){const t="/lv/v1/ever_photo/get_user_space",{pf:r,appvr:n,tdid:i}=dt.headers;return await ht({url:t,data:{workspace_id:e},headers:{...ut({url:t,...dt.headers,pf:r,appvr:n,tdid:i})}})},async promoteAsset(e){const t="/lv/v1/ever_photo/promote_asset",{pf:r,appvr:n,tdid:i}=dt.headers;return await ht({url:t,data:{asset_id:e.assetId,space_id:e.spaceId,workspace_id:e.workspaceId},headers:{...ut({url:t,...dt.headers,pf:r,appvr:n,tdid:i})}})},async getDownloadUrl(e){const t="/lv/v1/ever_photo/get_external_download_url",{pf:r,appvr:n,tdid:i}=dt.headers;return await ht({url:t,data:{asset_id:e.assetId,workspace_id:e.workspaceId,max_time:e.maxTime,ttl:e.ttl},headers:{...ut({url:t,...dt.headers,pf:r,appvr:n,tdid:i})}})}};var ft=(e=>(e.video="video",e.image="image",e.temp="temp",e))(ft||{});const gt={baseURL:"/lv/v1",method:"POST",headers:{loc:Be.CHANNEL,lan:f.Ay.language||Be.LAN,pf:Be.APP_PF,appvr:Be.VERSION,tdid:"","sign-ver":1,"app-sdk-version":Be.APP_SDK_VERSION},params:{}},mt=tt.createAxios(gt);let vt;mt.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)})),lt(mt,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:e=>{var t;return"200206"!==(null==(t=null==e?void 0:e.data)?void 0:t.ret)}});const _t=()=>vt?{[et]:{domain:vt}}:{},yt={fixRequestDomain(){vt=tt.getWebDomain()},async getUploadToken(e="video"){const t="/upload_sign";return await mt({url:t,headers:{...ut({url:`${gt.baseURL}${t}`,...gt.headers})},data:{key_version:"v5",biz:{video:"web_video",image:"replicate",temp:"temp_file"}[e]},..._t()})},async createVideoData(e){const t="/upload/create_upload_task";return(await mt({url:t,headers:{...ut({url:`${gt.baseURL}${t}`,...gt.headers})},data:e,..._t()})).task_id},async getVideoTaskInfo(e){const t="/upload/get_upload_task";return await mt({url:t,[nt]:{canRetry:!1},headers:{...ut({url:`${gt.baseURL}${t}`,...gt.headers})},data:e,..._t()})}};class wt{static getString(e){return h.A.get(e)}static setString(e,t,r){h.A.set(e,t,{expires:r?new Date(r):void 0})}static getJson(e){const t=h.A.get(e);let r=null;if(!t)return null;try{r=JSON.parse(t)}catch(n){console.error("CookiesTool JSON parse Error:",n)}return r}static removeItem(e){h.A.remove(e)}}class At{}class Et extends At{constructor(e){super(),_(this,"stsToken"),_(this,"config"),_(this,"props"),this.props=e}async init(){const e=await yt.getUploadToken();this.stsToken={AccessKeyId:e.access_key_id,SecretAccessKey:e.secret_access_key,SessionToken:e.session_token,ExpiredTime:e.expired_time,CurrentTime:e.current_time},this.config={userId:"unknow",appId:Number(Be.APP_ID),...this.props,videoConfig:{spaceName:e.space_name}}}getStsToken(){return this.stsToken}getConfig(){return this.config}}class Lt extends At{constructor(e){super(),_(this,"stsToken"),_(this,"config"),_(this,"props"),this.props=e}async init(){const e=await yt.getUploadToken(ft.image);this.stsToken={AccessKeyId:e.access_key_id,SecretAccessKey:e.secret_access_key,SessionToken:e.session_token,ExpiredTime:e.expired_time,CurrentTime:e.current_time},this.config={userId:"unknow",appId:Number(Be.APP_ID),...this.props,videoConfig:{spaceName:e.space_name}}}getStsToken(){return this.stsToken}getConfig(){return this.config}}class Tt{constructor(){_(this,"event","evercloud_sdk_get_token"),_(this,"data",{})}addParams(e){this.data=(0,s.A)({},this.data,e)}}const{wasm_url:Pt}=d,Ct="b",bt="t",Rt=new Map;xe.setDependencies({apiFunc:{getEverPhotoToken:async e=>{var t,r,n,i,s,o,a;const c=Date.now(),l=new Tt;try{const n=await pt.getWorkspaceEverPhotoToken();return l.addParams({code:"0",msg:"success",costTime:Date.now()-c,lastReqTime:Rt.has(e)?Date.now()-Rt.get(e):void 0,spaceId:e}),Rt.set(e,Date.now()),null==(r=null==(t=null==xe?void 0:xe.TeaReporter)?void 0:t.event)||r.call(t,l.event,l.data),n}catch(u){throw l.addParams({code:null==(n=null==u?void 0:u.data)?void 0:n.ret,msg:null==(i=null==u?void 0:u.data)?void 0:i.errmsg,costTime:Date.now()-c,lastReqTime:Rt.has(e)?Date.now()-Rt.get(e):void 0,spaceId:e,logId:null==(s=null==u?void 0:u.data)?void 0:s.log_id}),Rt.set(e,Date.now()),null==(a=null==(o=null==xe?void 0:xe.TeaReporter)?void 0:o.event)||a.call(o,l.event,l.data),u}},getVideoTaskInfo:yt.getVideoTaskInfo,createVideoData:yt.createVideoData,getEverPhotoUserSpace:pt.getEverPhotoUserSpace,promoteAsset:pt.promoteAsset},getUploader:(e,t)=>{const r="video"===t?Et:Lt;let n,i;if(e.isBoe)n=`https://vas-${Ct}oei18n.${Ct}y${bt}edance.ne${bt}`,i="boei18n";else switch(e.newIdc){case"useast2a":i="gcp";break;case"sg1":i="sg";break;default:i="us"}return new Ke(new r({userId:e.uniqueId,region:i,videoHost:e.videoHost?e.videoHost:n,imageHost:e.videoHost?e.videoHost:n,_getToken:yt.getUploadToken,...e.videoUploader,...e.imgUploader}))},getFileCopyName:function(e="",t=[]){const[r,n]=function(e=""){const t=e.split(".");return t.length<=1?[e,""]:[t.slice(0,-1).join("."),t[t.length-1]]}(e);let i=0,s=`${r}-${n?".":""}${n}`;for(;t.includes(s);)i++,s=`${r}-${i}${n?".":""}${n}`;return s},overwriteSDKInitOptions:async e=>{var t,r;const n=!(e.is_boe||null!=(t=e.netconf)&&t.base);if(n){const t={gcp:{base:"everphoto-gcp.capcut.com",media:"everphoto-media-gcp.capcut.com",is_https:!0},va:{base:"everphoto-va.capcut.com",media:"everphoto-media-va.capcut.com",is_https:!0}};let r;switch(e.dc_name){case S.GCP:r=t.gcp;break;case S.VA:r=t.va;break;default:throw new Error("not found dc_name, please check")}e.netconf=r}const i=wt.getJson(Ue);if(!e.is_boe&&null!=(r=null==i?void 0:i.settings)&&r.firstPartyAnalytics){const t=(e,t)=>{const r=xe.TeaReporter;return new Promise((n=>{r.getVar(e,t,(e=>{n(e)}))}))},r=await t("evpt_conf_params_v3",{is_xml:!1,chunk_size:5}),i=await t("evpt_conf_params_v5",{is_part_upload:!1,chunk_size:20,timeout:300,max_count_of_concurrent_upload:5,downgrade_if_bad_network:!1});if(null!=r&&r.is_xml?(e.backup_conf={chunk_size:r.chunk_size,is_xhr:!0},e.timeout={...e.timeout,upload:180}):e.backup_conf={is_xhr:!1},n){const r=await t("evpt_conf_params_v4",{is_new_domain:!1});if(null!=r&&r.is_new_domian){const t={gcp:{base:(null==r?void 0:r.gcp)||"everphoto-gcp.capcut.com",media:"everphoto-media-gcp.capcut.com",is_https:!0},va:{base:(null==r?void 0:r.va)||"everphoto-va.capcut.com",media:"everphoto-media-va.capcut.com",is_https:!0}};let n;switch(e.dc_name){case S.GCP:n=t.gcp;break;case S.VA:n=t.va;break;default:throw new Error("not found dc_name, please check")}e.netconf=n}}null!=i&&i.is_part_upload&&(e.backup_conf={max_count_of_concurrent_upload:i.max_count_of_concurrent_upload,chunk_size:i.chunk_size,is_part_upload:!0},e.timeout={...e.timeout,upload:i.timeout}),e.backup_conf={...e.backup_conf,downgrade_if_bad_network:!(null==i||!i.downgrade_if_bad_network)}}return e.timeout={...e.timeout,upload:300},e.backup_conf={...e.backup_conf,is_part_upload:!0},e},constant:{sourceFrom:13,aid:"324442"}});const St=new Proxy(xe,{get:(e,t,r)=>{switch(t){case"setOptions":return new Proxy(Reflect.get(e,t,r),{apply(e,t,r){return St.hasSetOptions||tt.updateRequestDomain({domain:r[0].reqDomain}),Reflect.apply(e,t,r)}});case"setNoSignOptions":return new Proxy(Reflect.get(e,t,r),{apply(e,t,r){return St.hasSetNoSignOptions||(tt.updateRequestDomain({domain:r[0].reqDomain}),yt.fixRequestDomain()),Reflect.apply(e,t,r)}});default:return Reflect.get(e,t,r)}}})},94464:function(e,t,r){"use strict";r.d(t,{X:function(){return h}});var n,i,s,o=r(39190),a=r(81928),c="__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",l=o,u=Number(null===(n=l.version)||void 0===n?void 0:n.split(".")[0])>17,d=function(e){(0,a.Gv)(l[c])&&(l[c].usingClientEntryPoint=e)};try{s=l.createRoot}catch(p){}i=u&&s?function(e,t){d(!0);var r=s(t);return d(!1),r.render(e),r._unmount=function(){setTimeout((function(){var e;null===(e=null==r?void 0:r.unmount)||void 0===e||e.call(r)}))},r}:function(e,t){return l.render(e,t),{render:function(e){l.render(e,t)},_unmount:function(){l.unmountComponentAtNode(t)}}};var h=i},59111:function(e,t,r){"use strict";r.d(t,{j:function(){return m}});var n=r(35754),i=r(38360),s=(r(38e3),r(67308)),o=Object.defineProperty,a=(e,t,r)=>(((e,t,r)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const c={HOME:{PATH:"/",LOCALE_PATH:"/:locale/",MATCHER:"/:locale*/",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CREATIVE_SUITE:{PATH:"/creative-suite",LOCALE_PATH:"/:locale/creative-suite",MATCHER:"/:locale*/creative-suite",HAS_LOCALE_PREFIX:!0,INDEXING:!0},APPEAL_PAGE:{PATH:"/appeal-age-restriction",LOCALE_PATH:"/:locale/appeal-age-restriction",MATCHER:"/:locale*/appeal-age-restriction",HAS_LOCALE_PREFIX:!0},WORKSPACE:{CHILD:{MY_DRAFT:{NAME:"my_draft",PATH:"/my-edit",LOCALE_PATH:"/my-edit",MATCHER:"/my-edit",HAS_LOCALE_PREFIX:!1},TEMPLATE:{NAME:"templates",PATH:"/templates",LOCALE_PATH:"/templates",MATCHER:"/templates",HAS_LOCALE_PREFIX:!1},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/templates/:id",MATCHER:"/templates/:id",HAS_LOCALE_PREFIX:!1},MAGIC_TOOLS:{NAME:"magic_tools",PATH:"/magic-tools",LOCALE_PATH:"/magic-tools",MATCHER:"/magic-tools",HAS_LOCALE_PREFIX:!1},RECENT_LISTS:{NAME:"recent",PATH:"/recent-list",LOCALE_PATH:"/recent-list",MATCHER:"/recent-list",HAS_LOCALE_PREFIX:!1},MY_FILM:{NAME:"my_file",PATH:"/my-film",LOCALE_PATH:"/my-film",MATCHER:"/my-film",HAS_LOCALE_PREFIX:!1},MY_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud",LOCALE_PATH:"/my-cloud",MATCHER:"/my-cloud",HAS_LOCALE_PREFIX:!1},WORKSPACE_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud/:id",LOCALE_PATH:"/my-cloud/:id",MATCHER:"/my-cloud/:id",HAS_LOCALE_PREFIX:!1},MY_SHARE:{NAME:"share_records",PATH:"/my-share",LOCALE_PATH:"/my-share",MATCHER:"/my-share",HAS_LOCALE_PREFIX:!1},PUBLISH_CALENDAR:{NAME:"publish_calendar",PATH:"/publish-calendar",LOCALE_PATH:"/publish-calendar",MATCHER:"/publish-calendar",HAS_LOCALE_PREFIX:!1},PROFILE:{NAME:"profile",PATH:"/profile",LOCALE_PATH:"/profile",MATCHER:"/profile",HAS_LOCALE_PREFIX:!1},SEARCH:{NAME:"search",PATH:"/search",LOCALE_PATH:"/search",MATCHER:"/search",HAS_LOCALE_PREFIX:!1},SEARCH_RESULTS:{NAME:"search-results",PATH:"/search-results",LOCALE_PATH:"/search-results",MATCHER:"/search-results",HAS_LOCALE_PREFIX:!1},THIRDPARTY_START:{NAME:"thirdparty_start",PATH:"/thirdparty-start",LOCALE_PATH:"/thirdparty-start",MATCHER:"/thirdparty-start",HAS_LOCALE_PREFIX:!1},APPROVAL_RESULT:{PATH:"/approval-result",LOCALE_PATH:"/approval-result",MATCHER:"/approval-result",HAS_LOCALE_PREFIX:!0}}},LOGIN:{PATH:"/login",LOCALE_PATH:"/:locale/login",MATCHER:"/:locale*/login",HAS_LOCALE_PREFIX:!0,INDEXING:!0},SIGN_UP:{PATH:"/signup",LOCALE_PATH:"/:locale/signup",MATCHER:"/:locale*/signup",HAS_LOCALE_PREFIX:!0,INDEXING:!0},DOWNLOAD_GUIDANCE:{PATH:"/download-guidance",LOCALE_PATH:"/download-guidance",MATCHER:"/download-guidance",HAS_LOCALE_PREFIX:!1},INVITE:{PATH:"/invite",LOCALE_PATH:"/:locale/invite",MATCHER:"/:locale*/invite",HAS_LOCALE_PREFIX:!0},FORGET_PWD:{PATH:"/forget-password",LOCALE_PATH:"/:locale/forget-password",MATCHER:"/:locale*/forget-password",HAS_LOCALE_PREFIX:!0},TEAM_INVITE:{PATH:"/team-invite/:id",LOCALE_PATH:"/:locale/team-invite/:id",MATCHER:"/:locale*/team-invite/:id",HAS_LOCALE_PREFIX:!0},TEAM_APPLY:{PATH:"/team-apply",LOCALE_PATH:"/:locale/team-apply",MATCHER:"/:locale*/team-apply",HAS_LOCALE_PREFIX:!0},LOGIN_STATUS:{PATH:"/loginStatus",LOCALE_PATH:"/loginStatus",MATCHER:"/loginStatus",HAS_LOCALE_PREFIX:!1},LOGIN_STATUS_SERVER:{PATH:"/lv/v1/user/web/login/third_callback"},COOPERATION:{DETAIL:{PID:"/view/:id",PATH:"/view/:id",LOCALE_PATH:"/view/:id",MATCHER:"/:locale*/view/:id",HAS_LOCALE_PREFIX:!1},EXPERIENCE:{PATH:"/view",LOCALE_PATH:"/view",MATCHER:"/view",HAS_LOCALE_PREFIX:!1},SHARE:{PID:"/share/:id",PATH:"/share/:id",LOCALE_PATH:"/share/:id",MATCHER:"/share/:id",HAS_LOCALE_PREFIX:!1},EMBED:{PID:"/embed/:id",PATH:"/embed/:id",LOCALE_PATH:"/embed/:id",MATCHER:"/embed/:id",HAS_LOCALE_PREFIX:!1},RENDER:{PID:"/render/:id",PATH:"/render/:id",LOCALE_PATH:"/render/:id",MATCHER:"/render/:id",HAS_LOCALE_PREFIX:!1},REPORT:{PID:"/report",PATH:"/report",LOCALE_PATH:"/report",MATCHER:"/report",HAS_LOCALE_PREFIX:!1}},TOKEN_AUTH:{PATH:"/tokenAuth",LOCALE_PATH:"/tokenAuth",MATCHER:"/tokenAuth",HAS_LOCALE_PREFIX:!1},EDITOR:{PATH:"/editor",LOCALE_PATH:"/editor",MATCHER:"/editor",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TIKTOK_AUTH:{PATH:"/tiktokAuth",LOCALE_PATH:"/tiktokAuth",MATCHER:"/tiktokAuth",HAS_LOCALE_PREFIX:!1},THIRD_PARTY_ENTRANCE:{PATH:"/third-party-entrance",LOCALE_PATH:"/third-party-entrance",MATCHER:"/third-party-entrance",HAS_LOCALE_PREFIX:!1},PASSPORT_LOGIN:{PATH:"/passport/web/web_login"},COOKIE_SETTINGS:{PATH:"/cookie-settings",LOCALE_PATH:"/:locale/cookie-settings",MATCHER:"/:locale*/cookie-settings",HAS_LOCALE_PREFIX:!0,INDEXING:!0},THIRDPARTY_CLOUD_STORAGE_AUTH:{PATH:"/thirdpartyCloudStorageAuth",LOCALE_PATH:"/thirdpartyCloudStorageAuth",MATCHER:"/thirdpartyCloudStorageAuth",HAS_LOCALE_PREFIX:!1},CAPCUT_APP:{PATH:"/tools/video-editing-app",LOCALE_PATH:"/:locale/tools/video-editing-app",MATCHER:"/:locale*/tools/video-editing-app",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CMS_TOOLS:{PATH:"/tools/:title",LOCALE_PATH:"/:locale/tools/:title",MATCHER:"/:locale*/tools/:title",HAS_LOCALE_PREFIX:!0},CMS_CREATE:{PATH:"/create/:title",LOCALE_PATH:"/:locale/create/:title",MATCHER:"/:locale*/create/:title",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE:{PATH:"/resource/:title",LOCALE_PATH:"/:locale/resource/:title",MATCHER:"/:locale*/resource/:title",HAS_LOCALE_PREFIX:!0},CMS_TOOLS_AGGREGATION:{PATH:"/tools",LOCALE_PATH:"/:locale/tools",MATCHER:"/:locale*/tools",HAS_LOCALE_PREFIX:!0},CMS_CREATE_AGGREGATION:{PATH:"/create",LOCALE_PATH:"/:locale/create",MATCHER:"/:locale*/create",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE_AGGREGATION:{PATH:"/resource",LOCALE_PATH:"/:locale/resource",MATCHER:"/:locale*/resource",HAS_LOCALE_PREFIX:!0},COLLECT_RESOURCE:{NAME:"collect-resource",PATH:"/collect-resource/:token",LOCALE_PATH:"/collect-resource/:token",MATCHER:"/collect-resource/:token",HAS_LOCALE_PREFIX:!1},EDITOR_TOOLS:{NAME:"editor-tools",PATH:"/editor-tools",LOCALE_PATH:"/editor-tools/:name",MATCHER:"/editor-tools/:name",HAS_LOCALE_PREFIX:!1,TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_AVATAR:{PATH:"/magic-tools/generate-portrait",LOCALE_PATH:"/magic-tools/generate-portrait",MATCHER:"/magic-tools/generate-portrait",HAS_LOCALE_PREFIX:!1},IMAGE_NIGHT_ENHANCE:{PATH:"/magic-tools/enhance-low-light-image",LOCALE_PATH:"/magic-tools/enhance-low-light-image",MATCHER:"/magic-tools/enhance-low-light-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-photo",LOCALE_PATH:"/magic-tools/stylize-photo",MATCHER:"/magic-tools/stylize-photo",HAS_LOCALE_PREFIX:!1},IMAGE_UPSCALER:{PATH:"/magic-tools/upscale-image",LOCALE_PATH:"/magic-tools/upscale-image",MATCHER:"/magic-tools/upscale-image",HAS_LOCALE_PREFIX:!1},IMAGE_AI_TONING:{PATH:"/magic-tools/correct-color",LOCALE_PATH:"/magic-tools/correct-color",MATCHER:"/magic-tools/correct-color",HAS_LOCALE_PREFIX:!1},IMAGE_COLORING:{PATH:"/magic-tools/ai-colorize",LOCALE_PATH:"/magic-tools/ai-colorize",MATCHER:"/magic-tools/ai-colorize",HAS_LOCALE_PREFIX:!1},IMAGE_RESTORATION:{PATH:"/magic-tools/ai-restore",LOCALE_PATH:"/magic-tools/ai-restore",MATCHER:"/magic-tools/ai-restore",HAS_LOCALE_PREFIX:!1},VIDEO_VIDEO_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-video",LOCALE_PATH:"/magic-tools/stylize-video",MATCHER:"/magic-tools/stylize-video",HAS_LOCALE_PREFIX:!1},VIDEO_UPSCALER:{PATH:"/magic-tools/upscale-video",LOCALE_PATH:"/magic-tools/upscale-video",MATCHER:"/magic-tools/upscale-video",HAS_LOCALE_PREFIX:!1},VIDEO_SLOW_MOTION:{PATH:"/magic-tools/make-slomo",LOCALE_PATH:"/magic-tools/make-slomo",MATCHER:"/magic-tools/make-slomo",HAS_LOCALE_PREFIX:!1},VIDEO_STABILIZATION:{PATH:"/magic-tools/stablize-video",LOCALE_PATH:"/magic-tools/stablize-video",MATCHER:"/magic-tools/stablize-video",HAS_LOCALE_PREFIX:!1},TRANSFORM:{PATH:"/editor-tools/transform",LOCALE_PATH:"/editor-tools/transform",MATCHER:"/editor-tools/transform",HAS_LOCALE_PREFIX:!1},CUTOUT:{PATH:"/editor-tools/cutout",LOCALE_PATH:"/editor-tools/cutout",MATCHER:"/editor-tools/cutout",HAS_LOCALE_PREFIX:!1},SCRIPT:{PATH:"/editor-tools/script",LOCALE_PATH:"/editor-tools/script",MATCHER:"/editor-tools/script",HAS_LOCALE_PREFIX:!1},AUTO_CUT:{PATH:"/editor-tools/autocut",LOCALE_PATH:"/editor-tools/autocut",MATCHER:"/editor-tools/autocut",HAS_LOCALE_PREFIX:!1},TEXT_TO_VIDEO:{PATH:"/editor-tools/convert-script-to-video",LOCALE_PATH:"/editor-tools/convert-script-to-video",MATCHER:"/editor-tools/convert-script-to-video",HAS_LOCALE_PREFIX:!1},U2V:{PATH:"/editor-tools/url-to-ads",LOCALE_PATH:"/editor-tools/url-to-ads",MATCHER:"/editor-tools/url-to-ads",HAS_LOCALE_PREFIX:!1},LONG_TO_SHORT:{PATH:"/editor-tools/long-video-to-shorts",LOCALE_PATH:"/editor-tools/long-video-to-shorts",MATCHER:"/editor-tools/long-video-to-shorts",HAS_LOCALE_PREFIX:!1},AIGC_VIDEO:{PATH:"/editor-tools/ai-video-generator",LOCALE_PATH:"/editor-tools/ai-video-generator",MATCHER:"/editor-tools/ai-video-generator",HAS_LOCALE_PREFIX:!1}},TOOlS:{ONLINE:{PATH:"/tools/online-video-editor"},DESKTOP:{PATH:"/tools/desktop-video-editor"}},DISCOVER:{PATH:"/discover/keyword/:id",LOCALE_PATH:"/:locale/discover/keyword/:id",MATCHER:"/:locale*/discover/keyword/:id",HAS_LOCALE_PREFIX:!0},DISCOVER_TITLE:{PATH:"/discover/keyword/:title/:id",LOCALE_PATH:"/:locale/discover/keyword/:title/:id",MATCHER:"/:locale*/discover/keyword/:title/:id",HAS_LOCALE_PREFIX:!0},EDITOR_GRAPHIC:{PATH:"/editor-graphic",LOCALE_PATH:"/editor-graphic",MATCHER:"/editor-graphic",HAS_LOCALE_PREFIX:!1,INDEXING:!0},EDITOR_BATCH:{PATH:"/editor-batch",LOCALE_PATH:"/editor-batch",MATCHER:"/editor-batch",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/:locale/templates/:id",MATCHER:"/:locale*/templates/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_KEYWORDS:{PATH:"/template-detail/:key/:id",LOCALE_PATH:"/:locale/template-detail/:key/:id",MATCHER:"/:locale*/template-detail/:key/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_NO_KEYWORDS:{PATH:"/template-detail/:id",LOCALE_PATH:"/:locale/template-detail/:id",MATCHER:"/:locale*/template-detail/:id",HAS_LOCALE_PREFIX:!0},PROFILE:{PATH:"/profile/:id",LOCALE_PATH:"/:locale/profile/:id",MATCHER:"/:locale*/profile/:id",HAS_LOCALE_PREFIX:!0},SETTINGS:{PATH:"/settings",LOCALE_PATH:"/:locale/settings",MATCHER:"/:locale*/settings",HAS_LOCALE_PREFIX:!0},HASHTAG:{PATH:"/discover/hashtag/:title/:id",LOCALE_PATH:"/:locale/discover/hashtag/:title/:id",MATCHER:"/:locale*/discover/hashtag/:title/:id",HAS_LOCALE_PREFIX:!0},CATEGORY:{PATH:"/discover/category/:title/:id",LOCALE_PATH:"/:locale/discover/category/:title/:id",MATCHER:"/:locale*/discover/category/:title/:id",HAS_LOCALE_PREFIX:!0},CREATOR:{PATH:"/discover/creator/:id",LOCALE_PATH:"/:locale/discover/creator/:id",MATCHER:"/:locale*/discover/creator/:id",HAS_LOCALE_PREFIX:!0},UG_ARTICLE:{PATH:"/discover/article/:title/:id",LOCALE_PATH:"/:locale/discover/article/:title/:id",MATCHER:"/:locale*/discover/article/:title/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE:{PATH:"/templates",LOCALE_PATH:"/:locale/templates",MATCHER:"/:locale*/templates",HAS_LOCALE_PREFIX:!0},EDITOR_TEMPLATE:{PATH:"/editor-template",LOCALE_PATH:"/editor-template",MATCHER:"/editor-template",HAS_LOCALE_PREFIX:!1,INDEXING:!0},MAGIC_TOOLS:{TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1}},SCAN_QR_CODE:{PATH:"/scan-qr-code",LOCALE_PATH:"/scan-qr-code",MATCHER:"/scan-qr-code",HAS_LOCALE_PREFIX:!1,INDEXING:!1},FILL_BIRTHDAY:{PATH:"/birthday-information",LOCALE_PATH:"/:locale/birthday-information",MATCHER:"/:locale*/birthday-information",HAS_LOCALE_PREFIX:!0,INDEXING:!1},TUTORIAL:{PATH:"/tutorial",LOCALE_PATH:"/:locale/tutorial",MATCHER:"/:locale*/tutorial",HAS_LOCALE_PREFIX:!0}},l={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1ebfng Vi\u1ec7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65e5\u672c\u8a9e"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7e41\u9ad4\u4e2d\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\ud55c\uad6d\uc5b4"}},u=Object.values(l).reduce(((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e)),{}),d={BR:{label:"\u5df4\u897f",locale:l.Portuguese,useBrowserLang:!1},MZ:{label:"\u83ab\u6851\u6bd4\u514b",locale:l.Portuguese,useBrowserLang:!1},AO:{label:"\u5b89\u54e5\u62c9",locale:l.Portuguese,useBrowserLang:!1},PT:{label:"\u8461\u8404\u7259",locale:l.Portuguese,useBrowserLang:!1},GW:{label:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",locale:l.Portuguese,useBrowserLang:!1},TL:{label:"\u4e1c\u5e1d\u6c76",locale:l.Portuguese,useBrowserLang:!1},GQ:{label:"\u8d64\u9053\u51e0\u5185\u4e9a",locale:l.Spanish,useBrowserLang:!0},CV:{label:"\u4f5b\u5f97\u89d2",locale:l.Portuguese,useBrowserLang:!1},ST:{label:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",locale:l.Portuguese,useBrowserLang:!1},MX:{label:"\u58a8\u897f\u54e5",locale:l.Spanish,useBrowserLang:!1},CO:{label:"\u54e5\u4f26\u6bd4\u4e9a",locale:l.Spanish,useBrowserLang:!1},ES:{label:"\u897f\u73ed\u7259",locale:l.Spanish,useBrowserLang:!1},AR:{label:"\u963f\u6839\u5ef7",locale:l.Spanish,useBrowserLang:!1},PE:{label:"\u79d8\u9c81",locale:l.Spanish,useBrowserLang:!1},VE:{label:"\u59d4\u5185\u745e\u62c9",locale:l.Spanish,useBrowserLang:!1},CL:{label:"\u667a\u5229",locale:l.Spanish,useBrowserLang:!1},EC:{label:"\u5384\u74dc\u591a\u5c14",locale:l.Spanish,useBrowserLang:!1},GT:{label:"\u5371\u5730\u9a6c\u62c9",locale:l.Spanish,useBrowserLang:!1},CU:{label:"\u53e4\u5df4",locale:l.Spanish,useBrowserLang:!1},BO:{label:"\u73bb\u5229\u7ef4\u4e9a",locale:l.Spanish,useBrowserLang:!1},DO:{label:"\u591a\u7c73\u5c3c\u52a0",locale:l.Spanish,useBrowserLang:!1},HN:{label:"\u6d2a\u90fd\u62c9\u65af",locale:l.Spanish,useBrowserLang:!1},PY:{label:"\u5df4\u62c9\u572d",locale:l.Spanish,useBrowserLang:!1},SV:{label:"\u8428\u5c14\u74e6\u591a",locale:l.Spanish,useBrowserLang:!1},NI:{label:"\u5c3c\u52a0\u62c9\u74dc",locale:l.Spanish,useBrowserLang:!1},CR:{label:"\u54e5\u65af\u8fbe\u9ece\u52a0",locale:l.Spanish,useBrowserLang:!1},PA:{label:"\u5df4\u62ff\u9a6c",locale:l.Spanish,useBrowserLang:!1},UY:{label:"\u4e4c\u62c9\u572d",locale:l.Spanish,useBrowserLang:!1},DE:{label:"\u5fb7\u56fd",locale:l.German,useBrowserLang:!1},AT:{label:"\u5965\u5730\u5229",locale:l.German,useBrowserLang:!1},LI:{label:"\u5217\u652f\u6566\u58eb\u767b",locale:l.German,useBrowserLang:!1},CH:{label:"\u745e\u58eb\uff08\u5fb7\u8bed\u548c\u6cd5\u8bed\u5747\u6709\u7528\u6237\uff09",locale:l.German,useBrowserLang:!0},LT:{label:"\u5362\u68ee\u5821\uff08\u6ca1\u6709\u660e\u663e\u8bed\u8a00\u5206\u5e03\uff0c\u6cd5\u8bed\u3001\u5fb7\u8bed\u90fd\u6709\uff09",locale:l.German,useBrowserLang:!0},CD:{label:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd",locale:l.French,useBrowserLang:!1},FR:{label:"\u6cd5\u56fd",locale:l.French,useBrowserLang:!1},CA:{label:"\u52a0\u62ff\u5927",locale:l.French,useBrowserLang:!1},MG:{label:"\u9a6c\u8fbe\u52a0\u65af\u52a0",locale:l.French,useBrowserLang:!1},CM:{label:"\u5580\u9ea6\u9686",locale:l.French,useBrowserLang:!1},CI:{label:"\u79d1\u7279\u8fea\u74e6",locale:l.French,useBrowserLang:!1},BF:{label:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",locale:l.French,useBrowserLang:!1},NE:{label:"\u5c3c\u65e5\u5c14",locale:l.French,useBrowserLang:!1},SN:{label:"\u585e\u5185\u52a0\u5c14",locale:l.French,useBrowserLang:!1},ML:{label:"\u9a6c\u91cc",locale:l.French,useBrowserLang:!1},RW:{label:"\u5362\u65fa\u8fbe",locale:l.French,useBrowserLang:!1},BE:{label:"\u6bd4\u5229\u65f6",locale:l.French,useBrowserLang:!1},HT:{label:"\u6d77\u5730",locale:l.French,useBrowserLang:!1},TD:{label:"\u4e4d\u5f97",locale:l.French,useBrowserLang:!1},CN:{label:"\u51e0\u5185\u4e9a",locale:l.French,useBrowserLang:!1},BI:{label:"\u5e03\u9686\u8fea",locale:l.French,useBrowserLang:!1},BJ:{label:"\u8d1d\u5b81",locale:l.French,useBrowserLang:!1},TG:{label:"\u591a\u54e5",locale:l.French,useBrowserLang:!1},CF:{label:"\u4e2d\u975e",locale:l.French,useBrowserLang:!1},CG:{label:"\u521a\u679c\u5171\u548c\u56fd",locale:l.French,useBrowserLang:!1},GA:{label:"\u52a0\u84ec",locale:l.French,useBrowserLang:!1},KM:{label:"\u79d1\u6469\u7f57",locale:l.French,useBrowserLang:!1},DJ:{label:"\u5409\u5e03\u63d0",locale:l.French,useBrowserLang:!1},VU:{label:"\u74e6\u52aa\u963f\u56fe",locale:l.French,useBrowserLang:!1},SC:{label:"\u585e\u820c\u5c14",locale:l.French,useBrowserLang:!1},MC:{label:"\u6469\u7eb3\u54e5",locale:l.French,useBrowserLang:!1},JP:{label:"\u65e5\u672c",locale:l.Japan,useBrowserLang:!1},KR:{label:"\u97e9\u56fd",locale:l.Korea,useBrowserLang:!1},KP:{label:"\u671d\u9c9c",locale:l.Korea,useBrowserLang:!1},TR:{label:"\u571f\u8033\u5176",locale:l.Turkey,useBrowserLang:!1},TRNC:{label:"\u5317\u585e\u6d66\u8def\u65af",locale:l.Turkey,useBrowserLang:!1},CY:{label:"\u585e\u6d66\u8def\u65af",locale:l.Turkey,useBrowserLang:!1},IT:{label:"\u610f\u5927\u5229",locale:l.italian,useBrowserLang:!1},SM:{label:"\u5723\u9a6c\u529b\u8bfa",locale:l.italian,useBrowserLang:!1},VA:{label:"\u68b5\u8482\u5188",locale:l.italian,useBrowserLang:!0},TH:{label:"\u6cf0\u56fd",locale:l.Thai,useBrowserLang:!1},ID:{label:"\u5370\u5ea6\u5c3c\u897f\u4e9a",locale:l.Indonesian,useBrowserLang:!1},VN:{label:"\u8d8a\u5357",locale:l.vietnamese,useBrowserLang:!1},PH:{label:"\u83f2\u5f8b\u5bbe",locale:l.Filipino,useBrowserLang:!0},MY:{label:"\u9a6c\u6765\u897f\u4e9a",locale:l.Malay,useBrowserLang:!1},BN:{label:"\u6587\u83b1",locale:l.Malay,useBrowserLang:!1}},h="es-ES";(0,s.createContext)({locale:void 0});const p="capcut_locale";function f(){const e={};return function t(r){if(r instanceof Array)r.forEach((e=>t(e)));else if(r instanceof Object){if(r.PATH&&void 0!==r.HAS_LOCALE_PREFIX)return void(e[r.PATH]={matcher:r.MATCHER,hasLocalePrefix:r.HAS_LOCALE_PREFIX});t(Object.values(r))}}(c),e}const g=class e{constructor(t){a(this,"options"),a(this,"locale");const r={countryCode:typeof window<"u"?window.__locationCountryCode:void 0,defaultLocale:"en",isServer:!1};this.options=Object.assign({},r,t,{cookieName:p}),this.options.locale&&e.validateLocale(this.options.locale)?this.locale=this.options.locale:this._initLocale(),this._listenCookieChange()}static setQueryLocale(t,r){if(null!=r&&r.fuzzyMatch){const r=e.getMachLocale(t);r&&(e.queryLocale=r)}else e.validateLocale(t)&&(e.queryLocale=t)}static getLocalPrefix(e){let t;const r=this.getSupportLocales();for(const{locale:n,pathPrefix:i}of r){const r=`/${i}/`;if(e.startsWith(r))return t=n,t}return t}static getPathPrefix(e){const t=this.getSupportLocales();for(const{pathPrefix:r}of t){const t=`/${r}/`;if(e.startsWith(t))return r}}static isValidLocalPath(e,t={forceLocal:!1}){const r=this.getPathPrefix(e),n=f(),s=Object.entries(n).map((([e,{matcher:t,hasLocalePrefix:r}])=>({hasLocalePrefix:r,route:e,matcher:(0,i.YW)(e,{decode:decodeURIComponent}),localMatcher:(0,i.YW)(t,{decode:decodeURIComponent})})));for(let i=0;i<s.length;i++){const n=s[i];if(n.matcher(e)&&!r)return!t.forceLocal||n.hasLocalePrefix;if(n.hasLocalePrefix&&n.localMatcher(e))return!!r}return!1}static formatRoutePath({locale:e,path:t,forceAddLocalePrefix:r=!1}){var n;let s=!1;"en"===e||null!=e&&e.includes("-")?e===h&&(e=l.Spanish.key):e=Object.values(l).map((e=>e.key)).find((t=>t.startsWith(e)))||e;const o=this.getSupportLocales();if(!u[e]&&"en"!==e)return t;for(const{pathPrefix:i}of o)if(i){const e=`/${i}/`;if(t.startsWith(e)){t=t.replace(e,"/"),s=!0;break}}if(r||s)return u[e]?`/${u[e]}${t}`:t;const a=f(),c=Object.keys(a),d=c.map((e=>(0,i.YW)(e,{decode:decodeURIComponent})));for(let i=0;i<d.length;i++)if(d[i](null==(n=null==t?void 0:t.split("?"))?void 0:n[0]))return a[c[i]].hasLocalePrefix&&u[e]?`/${u[e]}${t}`:t;return t}static getOriginalPath(e){const t=this.getPathPrefix(e);return t?e.replace(new RegExp(`^/${t}`),""):e}static getOriginalUrl(e){const t=this.getSupportLocales();for(const{pathPrefix:r}of t)if(r&&e.includes(r))return e.replace(new RegExp(`/${r}`),"");return e}static getSupportLocales(){return Object.values(l).filter((e=>!e.disable)).map((({key:e,text:t,pathPrefix:r,matcher:n})=>({locale:e,pathPrefix:r,text:t,matcher:n})))}static getHreflangLocales(){const t=e.getSupportLocales(),r={[l.Spanish.key]:h,[l.Filipino.key]:"tl-PH",[l.TraditionalChinese.key]:"zh-TW"};return(0,n.A)(t.map((e=>{const t={locale:e.locale,hreflang:e.locale},n=[];return r[t.locale]&&(t.hreflang=r[e.locale]),t.hreflang.includes("-")&&n.push({locale:t.locale,hreflang:t.hreflang.substring(0,t.hreflang.indexOf("-"))}),n.push(t),n})))}static validateLocale(t,r){return!!t&&!!e.getSupportLocales().find((e=>!(null==r||!r.fuzzyMatch||!e.matcher.test(t.toLowerCase()))||e.locale===t))}static getMachLocale(t){var r;return null==(r=e.getSupportLocales().find((e=>e.matcher.test(t.toLowerCase()))))?void 0:r.locale}getCurrentLocale({localeFix:t}={localeFix:!1}){return e.queryLocale?e.queryLocale:t||this.locale!==h?t&&this.locale===l.Spanish.key?h:this.locale:l.Spanish.key}setCurrentLocale(e,t){null!=t&&t.disableCookie||this._setCookie(e),this.locale=e}getSupportLocales(){return e.getSupportLocales()}formatLocalePath(t){const r={forceAddLocalePrefix:!1,locale:this.getCurrentLocale(),...t},{path:n}=r;if(!n.startsWith("/"))throw new Error("path invalid, please confirm its startsWith /");const{locale:i,forceAddLocalePrefix:s}=r;return e.formatRoutePath({locale:i,path:n,forceAddLocalePrefix:s})}_initLocale(){var t,r;const{cookieName:n,countryCode:i,defaultLocale:s,getBrowserLang:o,cookieGetter:a}=this.options;if(this.isBrowser()){const t=e.getLocalPrefix(window.location.pathname);if(t)return this.locale=t===h?l.Spanish.key:t,void(a(n)||this._setCookie(t))}const c=a(n);if(c&&e.validateLocale(c))return void(this.locale=c);let u=this._formatLocale(o());if(u||(u=s),!i||!d[i]||null!=(r=null==(t=d[i])?void 0:t.locale)&&r.disable)return this.locale=u,void this._setCookie(u);const{locale:p,useBrowserLang:f}=d[i];return f?(this.locale=u,void this._setCookie(u)):(this.locale=p.key,void this._setCookie(p.key))}_setCookie(e){const{cookieName:t,cookieSetter:r,isServer:n}=this.options;r(t,e,n?{maxAge:31536e7,httpOnly:!1,secure:!1,overwrite:!0}:{expires:3650})}_formatLocale(t){if(!t||e.validateLocale(t))return t;const r=Object.values(l);for(const e of r){const{key:r,matcher:n}=e;if(r===t||t.match(n))return r}}_listenCookieChange(){}isBrowser(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}};a(g,"CookieName",p),a(g,"queryLocale");let m=g},11256:function(e,t,r){"use strict";r.d(t,{Gn:function(){return B},Wo:function(){return j}});r(78436),r(38e3),r(85333),r(67308);var n=r(14148),i=(r(90018),r(37814)),s=r(41967),o=r(60162),a=(r(47583),r(84698),r(45475),r(2799)),c=r.n(a),l=r(19240),u=r(63487),d=r.n(u),h=(r(83002),Object.defineProperty),p=(e,t,r)=>(((e,t,r)=>{t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const f={APP_NAME:"cc_web",APP_ID:"348188",APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0",USER_AGREEMENT:"",PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/privacy-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/privacy-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/privacy-policy";case"es-LA":return"https://www.capcut.com/es-es/privacy-policy";case"pt-BR":return"https://www.capcut.com/pt-br/privacy-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/privacy-policy";case"de-DE":return"https://www.capcut.com/de-de/privacy-policy";case"it-IT":return"https://www.capcut.com/it-it/privacy-policy";case"th-TH":return"https://www.capcut.com/th-th/privacy-policy";case"id-ID":return"https://www.capcut.com/id-id/privacy-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/privacy-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/privacy-policy";case"ms-MY":return"https://www.capcut.com/ms-my/privacy-policy";default:return"https://www.capcut.com/privacy-policy"}},GOOGLE_PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://marketingplatform.google.com/about/analytics/terms/tr/";case"ko-KR":return"https://marketingplatform.google.com/about/analytics/terms/kr/";case"ja-JP":return"https://marketingplatform.google.com/about/analytics/terms/jp/";case"pt-BR":return"https://marketingplatform.google.com/about/analytics/terms/br/";case"es-LA":return"https://marketingplatform.google.com/about/analytics/terms/es/";case"fr-FR":return"https://marketingplatform.google.com/about/analytics/terms/fr/";case"de-DE":return"https://marketingplatform.google.com/about/analytics/terms/de/";case"it-IT":return"https://marketingplatform.google.com/about/analytics/terms/it/";case"th-TH":return"https://marketingplatform.google.com/about/analytics/terms/th/";case"id-ID":return"https://marketingplatform.google.com/about/analytics/terms/id/";case"vi-VN":return"https://marketingplatform.google.com/about/analytics/terms/vn/";case"fil-PH":case"tl-PH":return"https://marketingplatform.google.com/about/analytics/terms/ph/";default:return"https://marketingplatform.google.com/about/analytics/terms/us/"}},TERMS_OF_CAPCUT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/terms-of-service";case"ja-JP":return"https://www.capcut.com/ja-jp/terms-of-service";case"ko-KR":return"https://www.capcut.com/ko-kr/terms-of-service";case"es-LA":return"https://www.capcut.com/es-es/terms-of-service";case"pt-BR":return"https://www.capcut.com/pt-br/terms-of-service";case"fr-FR":return"https://www.capcut.com/fr-fr/terms-of-service";case"de-DE":return"https://www.capcut.com/de-de/terms-of-service";case"it-IT":return"https://www.capcut.com/it-it/terms-of-service";case"th-TH":return"https://www.capcut.com/th-th/terms-of-service";case"id-ID":return"https://www.capcut.com/id-id/terms-of-service";case"vi-VN":return"https://www.capcut.com/vi-vn/terms-of-service";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/terms-of-service";case"ms-MY":return"https://www.capcut.com/ms-my/terms-of-service";default:return"https://www.capcut.com/terms-of-service"}},COOKIE_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/cookies-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/cookies-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/cookies-policy";case"es-LA":return"https://www.capcut.com/es-es/cookies-policy";case"pt-BR":return"https://www.capcut.com/pt-br/cookies-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/cookies-policy";case"de-DE":return"https://www.capcut.com/de-de/cookies-policy";case"it-IT":return"https://www.capcut.com/it-it/cookies-policy";case"th-TH":return"https://www.capcut.com/th-th/cookies-policy";case"id-ID":return"https://www.capcut.com/id-id/cookies-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/cookies-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/cookies-policy";case"ms-MY":return"https://www.capcut.com/ms-my/cookies-policy";default:return"https://www.capcut.com/cookies-policy"}},MATERIALS_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/material-license-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/material-license-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/material-license-agreement";case"es-LA":return"https://www.capcut.com/es-es/material-license-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/material-license-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/material-license-agreement";case"de-DE":return"https://www.capcut.com/de-de/material-license-agreement";case"it-IT":return"https://www.capcut.com/it-it/material-license-agreement";case"th-TH":return"https://www.capcut.com/th-th/material-license-agreement";case"id-ID":return"https://www.capcut.com/id-id/material-license-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/material-license-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/material-license-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/material-license-agreement";default:return"https://www.capcut.com/material-license-agreement"}},CREATOR_AGREEMENT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/creator-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/creator-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/creator-agreement";case"es-LA":return"https://www.capcut.com/es-es/creator-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/creator-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/creator-agreement";case"de-DE":return"https://www.capcut.com/de-de/creator-agreement";case"it-IT":return"https://www.capcut.com/it-it/creator-agreement";case"th-TH":return"https://www.capcut.com/th-th/creator-agreement";case"id-ID":return"https://www.capcut.com/id-id/creator-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/creator-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/creator-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/creator-agreement";default:return"https://www.capcut.com/creator-agreement"}},COMMUNITY_GUIDELINE:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/community-guideline";case"ja-JP":return"https://www.capcut.com/ja-jp/community-guideline";case"ko-KR":return"https://www.capcut.com/ko-kr/community-guideline";case"es-LA":return"https://www.capcut.com/es-es/community-guideline";case"pt-BR":return"https://www.capcut.com/pt-br/community-guideline";case"fr-FR":return"https://www.capcut.com/fr-fr/community-guideline";case"de-DE":return"https://www.capcut.com/de-de/community-guideline";case"it-IT":return"https://www.capcut.com/it-it/community-guideline";case"th-TH":return"https://www.capcut.com/th-th/community-guideline";case"id-ID":return"https://www.capcut.com/id-id/community-guideline";case"vi-VN":return"https://www.capcut.com/vi-vn/community-guideline";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/community-guideline";case"ms-MY":return"https://www.capcut.com/ms-my/community-guideline";default:return"https://www.capcut.com/community-guideline"}}};var g=(e=>(e.DEFAULT="DEFAULT",e.COMMERCE="COMMERCE",e.FRONTIER="FRONTIER",e.TTS="TTS",e))(g||{});var m=(e=>(e.TikTok="TikTok",e.TTAM="TTAM",e.YouTube="YouTube",e.YouTubeShorts="YouTubeShorts",e.Instagram="Instagram",e.InstagramReels="InstagramReels",e.FacebookPage="FacebookPage",e.FacebookGroup="FacebookGroup",e.Shopify="Shopify",e.Dropbox="Dropbox",e))(m||{}),v=(e=>(e[e.PAGE=0]="PAGE",e[e.GROUP=1]="GROUP",e[e.INSTAGRAM=2]="INSTAGRAM",e))(v||{});m.FacebookPage,m.FacebookGroup,m.Instagram,m.InstagramReels;var _=(e=>(e[e.YouTube=0]="YouTube",e[e.YouTubeShorts=1]="YouTubeShorts",e))(_||{});m.YouTube,m.YouTubeShorts;const y={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1ebfng Vi\u1ec7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65e5\u672c\u8a9e"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7e41\u9ad4\u4e2d\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\ud55c\uad6d\uc5b4"}};Object.values(y).reduce(((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e)),{});const w="object"==typeof navigator&&/(capcut.*lv\/([\d+.]+)|lv\/([\d+.]+).*capcut)/i.test(navigator.userAgent);new class{get sdk(){if(!(typeof window>"u"))return null==window?void 0:window.ccWebSlardar}init(e){var t;null==(t=this.sdk)||t.call(this,"init",e)}start(){var e;null==(e=this.sdk)||e.call(this,"start")}config(e){var t;null==(t=this.sdk)||t.call(this,"config",e)}error(e,t,r={}){var n;const i=null!=r&&r.level?null==r?void 0:r.level:"warn",s=(0,o.A)(t)?(e=>{const t=new Error(e.message);return t.name=e.name,t.stack=e.stack,t.message=e.message,t})(t):new Error(JSON.stringify(t)),{message:a}=s;s.message=`\u3010Custom-Error\u3011:${e}-${r.toGroup?"MoreDataInExternal":null==s?void 0:s.message}`,r.toGroup&&(Object.assign(r,{message:a}),delete r.toGroup),null==(n=this.sdk)||n.call(this,"captureException",s,{...r,level:i})}dataEvent(e,t={}){var r;const n=null!=t&&t.level?null==t?void 0:t.level:"info",o=(0,i.A)(t,s.A);null==(r=this.sdk)||r.call(this,"sendEvent",{name:`\u3010Custom-Data\u3011: ${e}`,metrics:o,categories:{...t,level:n}})}log(e,t={}){var r;const n=null!=t&&t.level?null==t?void 0:t.level:"info";null==(r=this.sdk)||r.call(this,"sendLog",{content:`\u3010Custom-Log\u3011: ${e}`,level:n,extra:{...t}})}setCurrentBranch(e=""){var t;e&&(null==(t=this.sdk)||t.call(this,"context.set","branch",e))}};function A(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function E(e){var t;const r={url:e.baseURL&&e.url?A(e.baseURL,e.url):"",method:null==(t=null==e?void 0:e.method)?void 0:t.toUpperCase(),params:"string"==typeof e.params?JSON.parse(e.params):e.params,data:"string"==typeof e.data?JSON.parse(e.data):e.data,needCommonParams:!0,responseType:e.responseType??"json"};return l.Ay.app.fetch(r)}async function L(e){const t=await E(e);return new Promise(((r,n)=>{if(1!==t.code)n(t);else try{!function(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new a.AxiosError("Request failed with status code "+r.status,[a.AxiosError.ERR_BAD_REQUEST,a.AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}(r,n,{data:JSON.parse(t.data.response),status:t.data.status,config:e,request:E})}catch(i){n(i)}}))}class T{constructor(){p(this,"_hasBeenDone",!1),p(this,"_isIniting",!1),p(this,"resolveResult"),p(this,"rejectResult"),p(this,"_initCostTimes"),p(this,"_waitingResolvers",new Set),p(this,"_waitingResolverMap",new Map)}get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!this._initCostTimes)return;const{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit({key:e,timeout:t}={}){if(this._hasBeenDone&&this.initResult){const{resolve:e,reject:t}=this.initResult;return t?Promise.reject(t):Promise.resolve(e)}if(e&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!t){const t=new Promise(((e,t)=>{this._waitingResolvers.add([e,t])}));return e&&this._waitingResolverMap.set(e,t),t}let r,n;const i=Promise.race([new Promise(((e,t)=>{r=[()=>{clearTimeout(n),e()},t],this._waitingResolvers.add([r,t])})),new Promise(((e,i)=>{n=setTimeout((()=>{this._waitingResolvers.delete(r),i(new Error("Timed out waiting for init"))}),t)}))]);return e&&this._waitingResolverMap.set(e,i),i}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw new Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());let t=!1;null!=e&&e.reject?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve;for(const r of this._waitingResolvers)t?r[1](this.rejectResult):r[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}}const P="custom-request-domain";const C=new class{constructor(){p(this,"_locker",new T),p(this,"_userRequestDomain")}getWebDomain(){return this._userRequestDomain.domain.web_domain}updateRequestDomain(e){e.domain&&(this._locker.hasBeenDone||this._locker.initDone(),this._userRequestDomain=e)}async baseRequestInterceptors(e){var t,r,n,i,s,o,a;const c=null==(t=e.baseURL)?void 0:t.startsWith("https");(null==(r=null==e?void 0:e[P])||!r.skipAwaitLocker)&&!c&&await this._locker.awaitForInit();const l=null==(n=null==e?void 0:e[P])?void 0:n.domain,u=(null!=e&&e.useCommerceApi?g.COMMERCE:g.DEFAULT)===g.COMMERCE?null==(s=null==(i=this._userRequestDomain)?void 0:i.domain)?void 0:s.commerce_domain:w?"https://mweb-api.capcutapi.com":null==(a=null==(o=this._userRequestDomain)?void 0:o.domain)?void 0:a.web_domain,d=l||u;return!c&&d&&(e.baseURL=`${l||d}${e.baseURL}`),{...e,withCredentials:!0}}createAxios(e){const t=w?c().create({...e,adapter:L}):c().create(e);return t.interceptors.request.use(this.baseRequestInterceptors.bind(this)),t}};const b=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);const R="custom-axios-retry",S=["get","head","options"].concat(["put","delete"]);function I(e){const t=(null==e?void 0:e[R])||{canRetry:!0};return t.retryCount=t.retryCount||0,t}const O=()=>0;function k(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&function(e){return!b.has(e&&e.code)}(e)}function H(e){return k(e)||function(e){return!!e.config&&function(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}(e)&&-1!==S.indexOf(e.config.method)}(e)}const N={baseURL:"/lv/v1/render_task",method:"POST",headers:{loc:f.CHANNEL,lan:n.Ay.language||f.LAN,pf:f.APP_PF,appvr:f.VERSION,tdid:"","sign-ver":1,"app-sdk-version":f.APP_SDK_VERSION}},D=C.createAxios(N);var M,F;D.interceptors.request.use((e=>{const{pf:t,appvr:r,tdid:n}=N.headers;return Object.assign(e.headers,function({url:e,pf:t,appvr:r,tdid:n}){const i=Math.floor(Date.now()/1e3);return{sign:d()(`9e2c|${e.slice(-7)}|${t}|${r}|${i}|${n}|11ac`).toLowerCase(),"device-time":i}}({url:`${e.baseURL}${e.url}`,pf:t,appvr:r,tdid:n})),e})),D.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)}return Promise.reject(e)})),F={retries:3,resetTimeout:!0,retryDelay:500},(M=D).interceptors.request.use((e=>{const t=I(e);return t.lastRequestTime=Date.now(),e[R]=t,e})),M.interceptors.response.use(void 0,(e=>{const{config:t}=e;if(!t)return Promise.reject(e);const{retries:r=5,isRetry:n=H,retryDelay:i=O,resetTimeout:s=!1}=Object.assign({},F,null==t?void 0:t[R]),o=I(t);if(n(e)&&o.canRetry&&(-1===r||o.retryCount<r)){o.retryCount+=1;const r="number"==typeof i?i:i(o.retryCount,e);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(M,t),!s&&t.timeout&&o.lastRequestTime){const e=Date.now()-o.lastRequestTime;t.timeout=Math.max(t.timeout-e-r,1)}return t.transformRequest=[e=>e],new Promise((e=>setTimeout((()=>e(M(t))),r)))}return Promise.reject(e)}));v.GROUP,v.PAGE,v.INSTAGRAM,_.YouTube,_.YouTubeShorts;const x=(()=>{const e=typeof window<"u",t=t=>!!e&&window.matchMedia(t).matches;let r=t("(display-mode: standalone)");return()=>{const e=t("(display-mode: standalone)"),n=t("(display-mode: fullscreen)");return r=!!e||n&&r,r}})(),B=x,j=()=>{let e="not_pwa";if(typeof window<"u"&&B()){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("pwa_from"))||"capcut"}return e},U={google:[/([^\/]+\.)?google(\.[^\/]+)(\/|$)/i],bing:[/([^\/]+\.)?bing\.com(\/|$)/i],yahoo:[/([^\/]+\.)?yahoo\.com(\/|$)/i],duckduckgo:[/([^\/]+\.)?duckduckgo\.com(\/|$)/i],yandex:[/([^\/]+\.)?yandex\.com(\/|$)/i],naver:[/([^\/]+\.)?naver\.com(\/|$)/i],facebook:[/([^\/]+\.)?facebook\.com(\/|$)/i,/([^\/]+\.)?fb\.com(\/|$)/i,/([^\/]+\.)?fb\.me(\/|$)/i],youtube:[/([^\/]+\.)?youtube\.com(\/|$)/i,/([^\/]+\.)?youtu\.be(\/|$)/i],twitter:[/([^\/]+\.)?twitter\.com(\/|$)/i,/([^\/]+\.)?t\.co(\/|$)/i],tiktok:[/([^\/]+\.)?tiktok\.com(\/|$)/i],instagram:[/([^\/]+\.)?instagram\.com(\/|$)/i,/([^\/]+\.)?instagr\.am(\/|$)/i],linkedin:[/([^\/]+\.)?linkedin\.com(\/|$)/i],survey:[/survey\.isnssdk\.com(\/|$)/i]},G={SEO:[...U.google,...U.bing,...U.yahoo,...U.duckduckgo,...U.yandex,...U.naver],Social:[...U.facebook,...U.youtube,...U.twitter,...U.tiktok,...U.instagram,...U.linkedin],product:[...U.survey]};new Map(Object.keys(G).reduce(((e,t)=>(G[t].forEach((r=>{e.push([r,t])})),e)),[])),new Map(Object.keys(U).reduce(((e,t)=>(U[t].forEach((r=>{e.push([r,t])})),e)),[]))},28141:function(e,t,r){"use strict";r.d(t,{UA:function(){return E},kB:function(){return N}});var n=r(84698),i=(r(83002),r(76398)),s=r(2633),o=r(91776),a=Object.defineProperty,c=(e,t,r)=>(((e,t,r)=>{t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const l=(()=>{const e=typeof window<"u",t=t=>!!e&&window.matchMedia(t).matches;let r=t("(display-mode: standalone)");return()=>{const e=t("(display-mode: standalone)"),n=t("(display-mode: fullscreen)");return r=!!e||n&&r,r}})(),u=()=>{let e;if(l())e=!1;else if(typeof window<"u"){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("open_from_pwa"))||void 0}return!!e},d=()=>{let e="not_pwa";if(typeof window<"u"&&l()){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("pwa_from"))||"capcut"}return e};var h=(e=>(e.SEO="SEO",e.Soical="Social",e.SEM="SEM",e.Paidads="Paidads",e.Referal="Referral",e.Direct="Direct",e.Product="product",e.CapCut="CapCut",e))(h||{});const p={google:[/([^\/]+\.)?google(\.[^\/]+)(\/|$)/i],bing:[/([^\/]+\.)?bing\.com(\/|$)/i],yahoo:[/([^\/]+\.)?yahoo\.com(\/|$)/i],duckduckgo:[/([^\/]+\.)?duckduckgo\.com(\/|$)/i],yandex:[/([^\/]+\.)?yandex\.com(\/|$)/i],naver:[/([^\/]+\.)?naver\.com(\/|$)/i],facebook:[/([^\/]+\.)?facebook\.com(\/|$)/i,/([^\/]+\.)?fb\.com(\/|$)/i,/([^\/]+\.)?fb\.me(\/|$)/i],youtube:[/([^\/]+\.)?youtube\.com(\/|$)/i,/([^\/]+\.)?youtu\.be(\/|$)/i],twitter:[/([^\/]+\.)?twitter\.com(\/|$)/i,/([^\/]+\.)?t\.co(\/|$)/i],tiktok:[/([^\/]+\.)?tiktok\.com(\/|$)/i],instagram:[/([^\/]+\.)?instagram\.com(\/|$)/i,/([^\/]+\.)?instagr\.am(\/|$)/i],linkedin:[/([^\/]+\.)?linkedin\.com(\/|$)/i],survey:[/survey\.isnssdk\.com(\/|$)/i]},f={SEO:[...p.google,...p.bing,...p.yahoo,...p.duckduckgo,...p.yandex,...p.naver],Social:[...p.facebook,...p.youtube,...p.twitter,...p.tiktok,...p.instagram,...p.linkedin],product:[...p.survey]},g=new Map(Object.keys(f).reduce(((e,t)=>(f[t].forEach((r=>{e.push([r,t])})),e)),[])),m=new Map(Object.keys(p).reduce(((e,t)=>(p[t].forEach((r=>{e.push([r,t])})),e)),[]));function v(e){const t=[...m.keys()].find((t=>t.test(e)));return m.get(t)??e}function _(e){const t=[...g.keys()].find((t=>t.test(e)));return g.get(t)??function(e){try{const t=["capcut.com","capcut.net"],r=new URL(e.startsWith("http")?e:`https://${e}`);return t.find((e=>r.host.includes(e)))?"CapCut":"Referral"}catch{return"Referral"}}(e)}const y="capcut_locale";const w=e=>e.toLocaleLowerCase()==="es-LA".toLocaleLowerCase()?"es-ES":e,A="GATEWAY_INJECT_IS_FIRST_VISIT_PAGE";function E(){let e=!1,t=!1;const r=window[A];return typeof r<"u"&&(e="1"===r),t=e||!document.referrer.includes(location.hostname),{isFirstVisitPage:e,isSessionStartPage:t}}function L(){const e=[{s:"windows",r:/Windows/},{s:"android",r:/Android/},{s:"CrOS",r:/CrOS/},{s:"linux",r:/(Linux|X11)/},{s:"ios",r:/(iPhone|iPad|iPod)/},{s:"macOrIpad",r:/Mac OS X/},{s:"mac",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}];let t="unknown";for(let r=0;r<e.length;r++){const n=e[r];if(n.r.test(window.navigator.userAgent)){t=n.s,"macOrIpad"===n.s&&(t="MacIntel"===window.navigator.platform&&"number"==typeof window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>1?"ios":"mac");break}}return t}function T(){var e;try{const t=window.navigator.userAgent;return(null==(e=[{match:"Chrome",value:"Chrome"},{match:"Firefox",value:"Firefox"},{match:"Safari",value:"Safari"},{match:["MSIE","Trident"],value:"Microsoft Internet Explorer"},{match:"Lark",value:"Lark"},{match:"TTWebView",value:"TTWebView"},{match:"Edge",value:"Microsoft Edge"}].find((e=>("string"==typeof e.match&&(e.match=[e.match]),e.match.some((e=>t.includes(e)))))))?void 0:e.value)||""}catch{return""}}function P(){try{let e="";return window.LV_WEB_VERSION?e=window.LV_WEB_VERSION:window.gfdatav1&&(e=window.gfdatav1.ver),e=e.split(".").filter(((e,t)=>1!==t)).join("."),e}catch{return""}}function C(){try{return window._currentBranch||""}catch{return""}}function b(e,t){const r="userTracking",{ccWebSlardar:n}=window;n&&("info"===t?n("sendLog",{content:e,extra:{type:r}}):n("captureException",e instanceof Error?e:{content:e},{script:r}))}function R(e,t){try{sessionStorage.setItem(e,t)}catch(r){b(r,"error")}}function S(e){try{return decodeURIComponent(e)}catch{return e}}function I(e){const t=new URLSearchParams(e),r={};for(const[n,i]of t)r[n]=i;return r}const O="_ut";var k;class H{constructor(){c(this,"hasInit",!1),c(this,"parsed",I(location.search)),c(this,"referer",(null==(k=document.referrer)?void 0:k.replace(/http(s)*:\/\//i,""))??""),c(this,"isFirstVisitPage",!1),c(this,"isSessionStartPage",!1),c(this,"channel_from","unknown"),c(this,"channel_info",{}),c(this,"branch",C()),c(this,"seoChannelMap",["google","coccoc","bing","yahoo","duckduckgo","yandex","naver"]),c(this,"capcutChannelMap",["capcut.com","capcut.net"]),c(this,"otherParams",{})}init(e={autoReport:!0}){return this.hasInit||(this.checkPageStatus(),this.initChannelLevel(),this.normalizeMedium(),e.autoReport&&this.reportPvImmediately(),this.hasInit=!0),Promise.resolve()}start(e={autoReport:!0}){this.init(e)}allowCookie(){this._setCookie(this.channel_info)}getServerInjectUT(){return typeof window<"u"&&window[O]||null}checkPageStatus(){const{isFirstVisitPage:e,isSessionStartPage:t}=E();this.isSessionStartPage=t,this.isFirstVisitPage=e}initChannelLevel(){const e=this._parseUTMParams()??this._parseSEMParams(),t=function(t){try{return sessionStorage.getItem(t)}catch(e){return b(e,"error"),null}}(O),r=t?function(t){try{return JSON.parse(t)}catch(e){return b(e,"error"),null}}(t):null,i=n.A.get(O)??"";if(!e&&r)return void(this.channel_info=r);if(!e&&i&&this.referer.includes(location.hostname)){const e=I(decodeURIComponent(i))||{},{source:t,medium:r,sub_source:n,content:s}=e;if((t||r||n||s)&&(this.channel_info=e,!this.hasException(this.channel_info)))return}if(this.getServerInjectUT()&&(this.channel_info={...this.getServerInjectUT()},this.channel_info.channel_from="ut",this.channel_info.session_start_url=location.href,!this.hasException(this.channel_info)))return void R(O,JSON.stringify(this.channel_info));const s=this._getParamsNotByCookie();this.channel_info=s,this.channel_info.channel_from="local",this.channel_info.session_start_url=location.href,R(O,JSON.stringify(this.channel_info))}reportPvImmediately(){!function(e){try{const t=[98,121,116,101,100,97,110,99,101].map((function(e){return String.fromCharCode(e)})).join("");let r="https://edit-api-va.capcut.com";window.__locationInfo?r=window.__locationInfo.domain.web_domain:/^\S+?\.bytedance\.net$/.test(window.location.host)&&(r=`https://capcut-web-va.${t}.net`);const a=new URL(`${r}/lv/v1/event/report`),c=e.getHeader();if(!c.web_id)throw new Error("no web_id");a.searchParams.append("is_pwa",c.is_pwa),a.searchParams.append("pwa_from",c.pwa_from),a.searchParams.append("open_from_pwa",c.open_from_pwa),a.searchParams.append("web_id",c.web_id),a.searchParams.append("event_name","user_page_view"),a.searchParams.append("os_name",c.os_name),a.searchParams.append("app_version",c.app_version),a.searchParams.append("is_first_visit_page",c.is_first_visit_page),a.searchParams.append("is_session_start_page",c.is_session_start_page),a.searchParams.append("browser",c.browser),a.searchParams.append("referrer",c.referrer),c.branch&&a.searchParams.append("branch",c.branch),n.A.get(y)&&a.searchParams.append(y,w(n.A.get(y)));const{channel:l}=e.getParams(),u=(0,i.A)(l,["session_start_url","channel_from"]);(0,s.A)(u)||a.searchParams.append("custom",JSON.stringify(u)),a.searchParams.append("seo_info",JSON.stringify((0,o.A)(l,["session_start_url","channel_from"]))),fetch(a.toString(),{referrerPolicy:"unsafe-url",credentials:"include"})}catch(t){window.ccWebSlardar&&window.ccWebSlardar("captureException",t,{script:"pv-report"})}}(this)}getParams(){const{medium:e,sub_source:t,source:r,campaign:n,content:i,term:s,channel_from:o,session_start_url:a,campaign_id:c}=this.channel_info,l={channel_level1:e||"",channel_level2:r||"",channel_level3:n||t||"",channel_level4:i||"",channel_from:o||"unknown",session_start_url:a||""};return c&&(l.campaign_id=c),s&&(l.keywords=s),this.branch&&(l.branch=this.branch),{...this.channel_info,channel:l,extraCommonParams:this.otherParams}}getHeader(){var e;const t=document.cookie.match(new RegExp("(^| )_tea_web_id=([^;]+)"));let r=window.GATEWAY_INJECTED_WEB_ID||"";return!r&&null!==t&&(r=t[2]),{is_pwa:l()?"1":"0",open_from_pwa:u()?"1":"0",pwa_from:d(),web_id:r,os_name:L(),is_first_visit_page:this.isFirstVisitPage?"1":"0",is_session_start_page:this.isSessionStartPage?"1":"0",app_version:P(),browser:T(),referrer:document.referrer,branch:C(),user_agent:(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)||""}}normalizeMedium(){var e;const t={tiktok_anchor:"Tiktok_anchor",product:"Product",referal:"Referral",soical:"Social",capcut:"CapCut"},r=null==(e=this.channel_info.medium)?void 0:e.toLowerCase();r&&Object.keys(t).includes(r)&&(this.channel_info.medium=t[r]),this.channel_info.medium=S(this.channel_info.medium||""),this.channel_info.source=S(this.channel_info.source||""),this.channel_info.sub_source=S(this.channel_info.sub_source||""),this.channel_info.content=S(this.channel_info.content||""),this.channel_info.term=S(this.channel_info.term||""),this.channel_info.campaign=S(this.channel_info.campaign||"")}_parseUTMParams(){const{utm_medium:e,utm_source:t,utm_campaign:r,utm_content:n,utm_term:i,keyword_name:s}=this.parsed;return e===h.Paidads.toLocaleLowerCase()?this._parsePaidadsParams():e?{context:"UTM",medium:e||"Referral",source:t,campaign:r||"",content:n||"",term:i||s||"",campaign_id:""}:null}_parsePaidadsParams(){const{utm_medium:e,utm_source:t,pid:r,af_adset_id:n,af_c_id:i,keyword_name:s}=this.parsed;return e!==h.Paidads.toLocaleLowerCase()?null:{context:"Paidads",medium:h.Paidads,source:t,campaign:r||"",content:n||"",campaign_id:i||"",term:s||""}}_parseSEMParams(){const{gclid:e,msclkid:t,ad_platform_id:r,pid:n,af_adset_id:i,af_c_id:s,keyword_name:o}=this.parsed;if(!e&&!t)return null;return{context:"SEM",medium:h.SEM,source:"string"==typeof r&&{googleadwords_int:"google",bingads_int:"bing"}[r]||r,campaign:n||"",content:i||"",campaign_id:s||"",term:o||""}}_parseReferer(){return this.referer?{context:"Referer",medium:_(this.referer),source:v(this.referer),campaign:"",campaign_id:"",term:""}:{context:"Referer",medium:h.Direct,source:"enter_url",campaign:"",campaign_id:"",term:""}}_setCookie(e){n.A.set(O,encodeURIComponent(Object.keys(e).reduce(((t,r)=>{const n=e[r];return n&&(t+=`${0===t.length?"":"&"}${r}=${n}`),t}),"")),{path:"/",sameSite:"Strict"})}_getParamsNotByCookie(){return this._parseUTMParams()??this._parseSEMParams()??this._parseReferer()}hasException(e){const t=[e.source&&e.medium===h.CapCut&&this.seoChannelMap.includes(e.source),e.medium!==h.CapCut&&["capcut.com","capcut.net"].some((t=>{var r;return null==(r=e.source)?void 0:r.includes(t)})),["tiktok_anchor","product"].includes(e.medium||"")].includes(!0);return t&&(b(JSON.stringify({errorName:"hasException",channel:{...e}}),"info"),R(O,""),n.A.set(O,"")),t}}const N=(()=>{let e=null;return()=>(e||(e=new H),e)})()},80680:function(e,t,r){"use strict";r.d(t,{JR:function(){return p},Sj:function(){return R}});var n=Object.prototype.toString;function i(e){return"[object Array]"===n.call(e)}function s(e){return"[object Object]"===n.call(e)}function o(e){return"[object String]"===n.call(e)}function a(e){return"[object Function]"===n.call(e)}function c(e){return null==e||""===e}function l(e){return i(e)&&!e.length}var u=function(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(a(e)&&a(t))return e===t||e.toString()===t.toString();if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!u(e[r],t[r]))return!1}return!0},d=function(e,t){var r=Object.assign({},e);return Object.keys(t||{}).forEach((function(e){var n=r[e],i=null==t?void 0:t[e];r[e]=s(n)?Object.assign(Object.assign({},n),i):i||n})),r},h="#{field} is not a #{type} type",p={required:"#{field} is required",type:{ip:h,email:h,url:h,string:h,number:h,array:h,object:h,boolean:h},number:{min:"`#{value}` is not greater than `#{min}`",max:"`#{value}` is not less than `#{max}`",equal:"`#{value}` is not equal to `#{equal}`",range:"`#{value}` is not in range `#{min} ~ #{max}`",positive:"`#{value}` is not a positive number",negative:"`#{value}` is not a negative number"},string:{maxLength:"#{field} cannot be longer than #{maxLength} characters",minLength:"#{field} must be at least #{minLength} characters",length:"#{field} must be exactly #{length} characters",match:"`#{value}` does not match pattern #{pattern}",uppercase:"`#{value}` must be all uppercase",lowercase:"`#{value}` must be all lowercased"},array:{length:"#{field} must be exactly #{length} in length",minLength:"#{field} cannot be less than #{minLength} in length",maxLength:"#{field} cannot be greater than #{maxLength} in length",includes:"#{field} is not includes #{includes}",deepEqual:"#{field} is not deep equal with #{deepEqual}",empty:"#{field} is not an empty array"},object:{deepEqual:"#{field} is not deep equal to expected value",hasKeys:"#{field} does not contain required fields",empty:"#{field} is not an empty object"},boolean:{true:"Expect true but got `#{value}`",false:"Expect false but got `#{value}`"}},f=function(e,t){var r=this;this.getValidateMsg=function(e,t){void 0===t&&(t={});var n=Object.assign(Object.assign({},t),{value:r.obj,field:r.field,type:r.type}),c=function(e,t){for(var r=t.split("."),n=e,i=0;i<r.length;i++)if(void 0===(n=n&&n[r[i]]))return n;return n}(r.validateMessages,e);return a(c)?c(n):o(c)?c.replace(/\#\{.+?\}/g,(function(e){var t=e.slice(2,-1);if(t in n){if(s(n[t])||i(n[t]))try{return JSON.stringify(n[t])}catch(r){return n[t]}return String(n[t])}return e})):c},s(t)&&o(e)&&t.trim?this.obj=e.trim():s(t)&&t.ignoreEmptyString&&""===e?this.obj=void 0:this.obj=e,this.message=t.message,this.type=t.type,this.error=null,this.field=t.field||t.type,this.validateMessages=d(p,t.validateMessages)},g={not:{configurable:!0},isRequired:{configurable:!0},end:{configurable:!0}};g.not.get=function(){return this._not=!this._not,this},g.isRequired.get=function(){if(c(this.obj)||l(this.obj)){var e=this.getValidateMsg("required");this.error={value:this.obj,type:this.type,requiredError:!0,message:this.message||(s(e)?e:(this._not?"[NOT MODE]:":"")+e)}}return this},g.end.get=function(){return this.error},f.prototype.addError=function(e){!this.error&&e&&(this.error={value:this.obj,type:this.type,message:this.message||(s(e)?e:(this._not?"[NOT MODE]:":"")+e)})},f.prototype.validate=function(e,t){return(this._not?e:!e)&&this.addError(t),this},f.prototype.collect=function(e){e&&e(this.error)},Object.defineProperties(f.prototype,g);var m=function(e){function t(t,r){e.call(this,t,Object.assign(Object.assign({},r),{type:"string"})),this.validate(!r||!r.strict||o(this.obj),this.getValidateMsg("type.string"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={uppercase:{configurable:!0},lowercase:{configurable:!0}};return t.prototype.maxLength=function(e){return this.obj?this.validate(this.obj.length<=e,this.getValidateMsg("string.maxLength",{maxLength:e})):this},t.prototype.minLength=function(e){return this.obj?this.validate(this.obj.length>=e,this.getValidateMsg("string.minLength",{minLength:e})):this},t.prototype.length=function(e){return this.obj?this.validate(this.obj.length===e,this.getValidateMsg("string.length",{length:e})):this},t.prototype.match=function(e){var t=e instanceof RegExp;return t&&(e.lastIndex=0),this.validate(void 0===this.obj||t&&e.test(this.obj),this.getValidateMsg("string.match",{pattern:e}))},r.uppercase.get=function(){return this.obj?this.validate(this.obj.toUpperCase()===this.obj,this.getValidateMsg("string.uppercase")):this},r.lowercase.get=function(){return this.obj?this.validate(this.obj.toLowerCase()===this.obj,this.getValidateMsg("string.lowercase")):this},Object.defineProperties(t.prototype,r),t}(f),v=function(e){function t(t,r){e.call(this,t,Object.assign(Object.assign({},r),{type:"number"})),this.validate(!r||!r.strict||function(e){return"[object Number]"===n.call(e)&&e==e}(this.obj),this.getValidateMsg("type.number"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={positive:{configurable:!0},negative:{configurable:!0}};return t.prototype.min=function(e){return c(this.obj)?this:this.validate(this.obj>=e,this.getValidateMsg("number.min",{min:e}))},t.prototype.max=function(e){return c(this.obj)?this:this.validate(this.obj<=e,this.getValidateMsg("number.max",{max:e}))},t.prototype.equal=function(e){return c(this.obj)?this:this.validate(this.obj===e,this.getValidateMsg("number.equal",{equal:e}))},t.prototype.range=function(e,t){return c(this.obj)?this:this.validate(this.obj>=e&&this.obj<=t,this.getValidateMsg("number.range",{min:e,max:t}))},r.positive.get=function(){return c(this.obj)?this:this.validate(this.obj>0,this.getValidateMsg("number.positive"))},r.negative.get=function(){return c(this.obj)?this:this.validate(this.obj<0,this.getValidateMsg("number.negative"))},Object.defineProperties(t.prototype,r),t}(f),_=function(e){function t(t,r){e.call(this,t,Object.assign(Object.assign({},r),{type:"array"})),this.validate(!r||!r.strict||i(this.obj),this.getValidateMsg("type.array",{value:this.obj,type:this.type}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={empty:{configurable:!0}};return t.prototype.length=function(e){return this.obj?this.validate(this.obj.length===e,this.getValidateMsg("array.length",{value:this.obj,length:e})):this},t.prototype.minLength=function(e){return this.obj?this.validate(this.obj.length>=e,this.getValidateMsg("array.minLength",{value:this.obj,minLength:e})):this},t.prototype.maxLength=function(e){return this.obj?this.validate(this.obj.length<=e,this.getValidateMsg("array.maxLength",{value:this.obj,maxLength:e})):this},t.prototype.includes=function(e){var t=this;return this.obj?this.validate(e.every((function(e){return-1!==t.obj.indexOf(e)})),this.getValidateMsg("array.includes",{value:this.obj,includes:e})):this},t.prototype.deepEqual=function(e){return this.obj?this.validate(u(this.obj,e),this.getValidateMsg("array.deepEqual",{value:this.obj,deepEqual:e})):this},r.empty.get=function(){return this.validate(l(this.obj),this.getValidateMsg("array.empty",{value:this.obj}))},Object.defineProperties(t.prototype,r),t}(f),y=function(e){function t(t,r){e.call(this,t,Object.assign(Object.assign({},r),{type:"object"})),this.validate(!r||!r.strict||s(this.obj),this.getValidateMsg("type.object"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={empty:{configurable:!0}};return t.prototype.deepEqual=function(e){return this.obj?this.validate(u(this.obj,e),this.getValidateMsg("object.deepEqual",{deepEqual:e})):this},t.prototype.hasKeys=function(e){var t=this;return this.obj?this.validate(e.every((function(e){return t.obj[e]})),this.getValidateMsg("object.hasKeys",{keys:e})):this},r.empty.get=function(){return this.validate(s(e=this.obj)&&0===Object.keys(e).length,this.getValidateMsg("object.empty"));var e},Object.defineProperties(t.prototype,r),t}(f),w=function(e){function t(t,r){e.call(this,t,Object.assign(Object.assign({},r),{type:"boolean"})),this.validate(!r||!r.strict||function(e){return"[object Boolean]"===n.call(e)}(this.obj),this.getValidateMsg("type.boolean"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={true:{configurable:!0},false:{configurable:!0}};return r.true.get=function(){return this.validate(!0===this.obj,this.getValidateMsg("boolean.true"))},r.false.get=function(){return this.validate(!1===this.obj,this.getValidateMsg("boolean.false"))},Object.defineProperties(t.prototype,r),t}(f),A=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,E=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),L=/^(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}$/,T=function(e){function t(t,r){e.call(this,t,Object.assign(Object.assign({},r),{type:"type"}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={email:{configurable:!0},url:{configurable:!0},ip:{configurable:!0}};return r.email.get=function(){return this.type="email",this.validate(void 0===this.obj||A.test(this.obj),this.getValidateMsg("type.email"))},r.url.get=function(){return this.type="url",this.validate(void 0===this.obj||E.test(this.obj),this.getValidateMsg("type.url"))},r.ip.get=function(){return this.type="ip",this.validate(void 0===this.obj||L.test(this.obj),this.getValidateMsg("type.ip"))},Object.defineProperties(t.prototype,r),t}(f),P=function(e){function t(t,r){e.call(this,t,Object.assign(Object.assign({},r),{type:"custom"}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={validate:{configurable:!0}};return r.validate.get=function(){var e=this;return function(t,r){var n;if(t)return(n=t(e.obj,e.addError.bind(e)))&&n.then?(r&&n.then((function(){r&&r(e.error)}),(function(e){console.error(e)})),[n,e]):(r&&r(e.error),e.error)}},Object.defineProperties(t.prototype,r),t}(f),C=function(e,t){return new b(e,Object.assign({field:"value"},t))};C.globalConfig={},C.setGlobalConfig=function(e){C.globalConfig=e||{}};var b=function(e,t){var r=C.globalConfig,n=Object.assign(Object.assign(Object.assign({},r),t),{validateMessages:d(r.validateMessages,t.validateMessages)});this.string=new m(e,n),this.number=new v(e,n),this.array=new _(e,n),this.object=new y(e,n),this.boolean=new w(e,n),this.type=new T(e,n),this.custom=new P(e,n)},R=function(e,t){void 0===t&&(t={}),this.schema=e,this.options=t};R.prototype.messages=function(e){this.options=Object.assign(Object.assign({},this.options),{validateMessages:d(this.options.validateMessages,e)})},R.prototype.validate=function(e,t){var r=this;if(s(e)){var n=[],o=null;this.schema&&Object.keys(this.schema).forEach((function(t){if(i(r.schema[t]))for(var s=function(i){var s=r.schema[t][i],c=s.type,l=s.message;if(!c&&!s.validator)throw"You must specify a type to field "+t+"!";var u=Object.assign(Object.assign({},r.options),{message:l,field:t});"ignoreEmptyString"in s&&(u.ignoreEmptyString=s.ignoreEmptyString),"strict"in s&&(u.strict=s.strict);var d=new b(e[t],u),h=d.type[c]||null;if(!h){if(s.validator)return h=d.custom.validate(s.validator),void("[object Array]"===Object.prototype.toString.call(h)&&h[0].then?n.push({function:h[0],_this:h[1],key:t}):h&&a(t,h));h=d[c]}if(Object.keys(s).forEach((function(e){s.required&&(h=h.isRequired),"message"!==e&&h[e]&&s[e]&&"object"==typeof h[e]&&(h=h[e]),h[e]&&void 0!==s[e]&&"function"==typeof h[e]&&(h=h[e](s[e]))})),h.collect((function(e){e&&a(t,e)})),o)return"break"},c=0;c<r.schema[t].length;c++){if("break"===s(c))break}})),n.length>0?Promise.all(n.map((function(e){return e.function}))).then((function(){n.forEach((function(e){e._this.error&&a(e.key,e._this.error)})),t&&t(o)})):t&&t(o)}function a(e,t){o||(o={}),o[e]&&!t.requiredError||(o[e]=t)}}},63303:function(e,t,r){var n;!function(i){"use strict";var s,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,l="[BigNumber Error] ",u=l+"Number primitive has more than 15 significant digits: ",d=1e14,h=14,p=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,m=1e9;function v(e){var t=0|e;return e>0||e===t?t:t-1}function _(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(t=e[n++]+"",r=h-t.length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function y(e,t){var r,n,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,l=t.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==l,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function w(e,t,r,n){if(e<t||e>r||e!==c(e))throw Error(l+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function A(e){var t=e.c.length-1;return v(e.e/h)==t&&e.c[t]%2!=0}function E(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function L(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}s=function e(t){var r,n,i,s,T,P,C,b,R,S,I=$.prototype={constructor:$,toString:null,valueOf:null},O=new $(1),k=20,H=4,N=-7,D=21,M=-1e7,F=1e7,x=!1,B=1,j=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz",X=!0;function $(e,t){var r,s,a,l,d,f,g,m,v=this;if(!(v instanceof $))return new $(e,t);if(null==t){if(e&&!0===e._isBigNumber)return v.s=e.s,void(!e.c||e.e>F?v.c=v.e=null:e.e<M?v.c=[v.e=0]:(v.e=e.e,v.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(v.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,d=e;d>=10;d/=10,l++);return void(l>F?v.c=v.e=null:(v.e=l,v.c=[e]))}m=String(e)}else{if(!o.test(m=String(e)))return i(v,m,f);v.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(l=m.indexOf("."))>-1&&(m=m.replace(".","")),(d=m.search(/e/i))>0?(l<0&&(l=d),l+=+m.slice(d+1),m=m.substring(0,d)):l<0&&(l=m.length)}else{if(w(t,2,G.length,"Base"),10==t&&X)return q(v=new $(e),k+v.e+1,H);if(m=String(e),f="number"==typeof e){if(0*e!=0)return i(v,m,f,t);if(v.s=1/e<0?(m=m.slice(1),-1):1,$.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else v.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(r=G.slice(0,t),l=d=0,g=m.length;d<g;d++)if(r.indexOf(s=m.charAt(d))<0){if("."==s){if(d>l){l=g;continue}}else if(!a&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){a=!0,d=-1,l=0;continue}return i(v,String(e),f,t)}f=!1,(l=(m=n(m,t,10,v.s)).indexOf("."))>-1?m=m.replace(".",""):l=m.length}for(d=0;48===m.charCodeAt(d);d++);for(g=m.length;48===m.charCodeAt(--g););if(m=m.slice(d,++g)){if(g-=d,f&&$.DEBUG&&g>15&&(e>p||e!==c(e)))throw Error(u+v.s*e);if((l=l-d-1)>F)v.c=v.e=null;else if(l<M)v.c=[v.e=0];else{if(v.e=l,v.c=[],d=(l+1)%h,l<0&&(d+=h),d<g){for(d&&v.c.push(+m.slice(0,d)),g-=h;d<g;)v.c.push(+m.slice(d,d+=h));d=h-(m=m.slice(d)).length}else d-=g;for(;d--;m+="0");v.c.push(+m)}}else v.c=[v.e=0]}function V(e,t,r,n){var i,s,o,a,c;if(null==r?r=H:w(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=_(e.c),c=1==n||2==n&&(o<=N||o>=D)?E(c,o):L(c,o,"0");else if(s=(e=q(new $(e),t,r)).e,a=(c=_(e.c)).length,1==n||2==n&&(t<=s||s<=N)){for(;a<t;c+="0",a++);c=E(c,s)}else if(t-=o,c=L(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function Y(e,t){for(var r,n,i=1,s=new $(e[0]);i<e.length;i++)(!(n=new $(e[i])).s||(r=y(s,n))===t||0===r&&s.s===t)&&(s=n);return s}function z(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*h-1)>F?e.c=e.e=null:r<M?e.c=[e.e=0]:(e.e=r,e.c=t),e}function q(e,t,r,n){var i,s,o,l,u,p,g,m=e.c,v=f;if(m){e:{for(i=1,l=m[0];l>=10;l/=10,i++);if((s=t-i)<0)s+=h,o=t,u=m[p=0],g=c(u/v[i-o-1]%10);else if((p=a((s+1)/h))>=m.length){if(!n)break e;for(;m.length<=p;m.push(0));u=g=0,i=1,o=(s%=h)-h+1}else{for(u=l=m[p],i=1;l>=10;l/=10,i++);g=(o=(s%=h)-h+i)<0?0:c(u/v[i-o-1]%10)}if(n=n||t<0||null!=m[p+1]||(o<0?u:u%v[i-o-1]),n=r<4?(g||n)&&(0==r||r==(e.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(s>0?o>0?u/v[i-o]:0:m[p-1])%10&1||r==(e.s<0?8:7)),t<1||!m[0])return m.length=0,n?(t-=e.e+1,m[0]=v[(h-t%h)%h],e.e=-t||0):m[0]=e.e=0,e;if(0==s?(m.length=p,l=1,p--):(m.length=p+1,l=v[h-s],m[p]=o>0?c(u/v[i-o]%v[o])*l:0),n)for(;;){if(0==p){for(s=1,o=m[0];o>=10;o/=10,s++);for(o=m[0]+=l,l=1;o>=10;o/=10,l++);s!=l&&(e.e++,m[0]==d&&(m[0]=1));break}if(m[p]+=l,m[p]!=d)break;m[p--]=0,l=1}for(s=m.length;0===m[--s];m.pop());}e.e>F?e.c=e.e=null:e.e<M&&(e.c=[e.e=0])}return e}function K(e){var t,r=e.e;return null===r?e.toString():(t=_(e.c),t=r<=N||r>=D?E(t,r):L(t,r,"0"),e.s<0?"-"+t:t)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(w(r=e[t],0,m,t),k=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(w(r=e[t],0,8,t),H=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(w(r[0],-m,0,t),w(r[1],0,m,t),N=r[0],D=r[1]):(w(r,-m,m,t),N=-(D=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)w(r[0],-m,-1,t),w(r[1],1,m,t),M=r[0],F=r[1];else{if(w(r,-m,m,t),!r)throw Error(l+t+" cannot be zero: "+r);M=-(F=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(l+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw x=!r,Error(l+"crypto unavailable");x=r}else x=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(w(r=e[t],0,9,t),B=r),e.hasOwnProperty(t="POW_PRECISION")&&(w(r=e[t],0,m,t),j=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(l+t+" not an object: "+r);U=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(l+t+" invalid: "+r);X="0123456789"==r.slice(0,10),G=r}}return{DECIMAL_PLACES:k,ROUNDING_MODE:H,EXPONENTIAL_AT:[N,D],RANGE:[M,F],CRYPTO:x,MODULO_MODE:B,POW_PRECISION:j,FORMAT:U,ALPHABET:G}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&i>=-m&&i<=m&&i===c(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%h)<1&&(t+=h),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=d||r!==c(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(l+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return Y(arguments,-1)},$.minimum=$.min=function(){return Y(arguments,1)},$.random=(s=9007199254740992,T=Math.random()*s&2097151?function(){return c(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,s,o=0,u=[],d=new $(O);if(null==e?e=k:w(e,0,m),i=a(e/h),x)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));o<i;)(s=131072*t[o]+(t[o+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[o]=r[0],t[o+1]=r[1]):(u.push(s%1e14),o+=2);o=i/2}else{if(!crypto.randomBytes)throw x=!1,Error(l+"crypto unavailable");for(t=crypto.randomBytes(i*=7);o<i;)(s=281474976710656*(31&t[o])+1099511627776*t[o+1]+4294967296*t[o+2]+16777216*t[o+3]+(t[o+4]<<16)+(t[o+5]<<8)+t[o+6])>=9e15?crypto.randomBytes(7).copy(t,o):(u.push(s%1e14),o+=7);o=i/7}if(!x)for(;o<i;)(s=T())<9e15&&(u[o++]=s%1e14);for(i=u[--o],e%=h,i&&e&&(s=f[h-e],u[o]=c(i/s)*s);0===u[o];u.pop(),o--);if(o<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=h);for(o=1,s=u[0];s>=10;s/=10,o++);o<h&&(n-=h-o)}return d.e=n,d.c=u,d}),$.sum=function(){for(var e=1,t=arguments,r=new $(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,a){var c,l,u,d,h,p,f,g,m=n.indexOf("."),v=k,y=H;for(m>=0&&(d=j,j=0,n=n.replace(".",""),p=(g=new $(i)).pow(n.length-m),j=d,g.c=t(L(_(p.c),p.e,"0"),10,s,e),g.e=g.c.length),u=d=(f=t(n,i,s,a?(c=G,e):(c=e,G))).length;0==f[--d];f.pop());if(!f[0])return c.charAt(0);if(m<0?--u:(p.c=f,p.e=u,p.s=o,f=(p=r(p,g,v,y,s)).c,h=p.r,u=p.e),m=f[l=u+v+1],d=s/2,h=h||l<0||null!=f[l+1],h=y<4?(null!=m||h)&&(0==y||y==(p.s<0?3:2)):m>d||m==d&&(4==y||h||6==y&&1&f[l-1]||y==(p.s<0?8:7)),l<1||!f[0])n=h?L(c.charAt(1),-v,c.charAt(0)):c.charAt(0);else{if(f.length=l,h)for(--s;++f[--l]>s;)f[l]=0,l||(++u,f=[1].concat(f));for(d=f.length;!f[--d];);for(m=0,n="";m<=d;n+=c.charAt(f[m++]));n=L(n,u,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,s,o,a=0,c=e.length,l=t%g,u=t/g|0;for(e=e.slice();c--;)a=((i=l*(s=e[c]%g)+(n=u*s+(o=e[c]/g|0)*l)%g*g+a)/r|0)+(n/g|0)+u*o,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,o,a){var l,u,p,f,g,m,_,y,w,A,E,L,T,P,C,b,R,S=n.s==i.s?1:-1,I=n.c,O=i.c;if(!(I&&I[0]&&O&&O[0]))return new $(n.s&&i.s&&(I?!O||I[0]!=O[0]:O)?I&&0==I[0]||!O?0*S:S/0:NaN);for(w=(y=new $(S)).c=[],S=s+(u=n.e-i.e)+1,a||(a=d,u=v(n.e/h)-v(i.e/h),S=S/h|0),p=0;O[p]==(I[p]||0);p++);if(O[p]>(I[p]||0)&&u--,S<0)w.push(1),f=!0;else{for(P=I.length,b=O.length,p=0,S+=2,(g=c(a/(O[0]+1)))>1&&(O=e(O,g,a),I=e(I,g,a),b=O.length,P=I.length),T=b,E=(A=I.slice(0,b)).length;E<b;A[E++]=0);R=O.slice(),R=[0].concat(R),C=O[0],O[1]>=a/2&&C++;do{if(g=0,(l=t(O,A,b,E))<0){if(L=A[0],b!=E&&(L=L*a+(A[1]||0)),(g=c(L/C))>1)for(g>=a&&(g=a-1),_=(m=e(O,g,a)).length,E=A.length;1==t(m,A,_,E);)g--,r(m,b<_?R:O,_,a),_=m.length,l=1;else 0==g&&(l=g=1),_=(m=O.slice()).length;if(_<E&&(m=[0].concat(m)),r(A,m,E,a),E=A.length,-1==l)for(;t(O,A,b,E)<1;)g++,r(A,b<E?R:O,E,a),E=A.length}else 0===l&&(g++,A=[0]);w[p++]=g,A[0]?A[E++]=I[T]||0:(A=[I[T]],E=1)}while((T++<P||null!=A[0])&&S--);f=null!=A[0],w[0]||w.splice(0,1)}if(a==d){for(p=1,S=w[0];S>=10;S/=10,p++);q(y,s+(y.e=p+u*h-1)+1,o,f)}else y.e=u,y.r=+f;return y}}(),P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,b=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,r,n){var i,s=r?t:t.replace(S,"");if(R.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(P,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,s=s.replace(C,"$1").replace(b,"0.$1")),t!=s))return new $(s,i);if($.DEBUG)throw Error(l+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},I.absoluteValue=I.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},I.comparedTo=function(e,t){return y(this,new $(e,t))},I.decimalPlaces=I.dp=function(e,t){var r,n,i,s=this;if(null!=e)return w(e,0,m),null==t?t=H:w(t,0,8),q(new $(s),e+s.e+1,t);if(!(r=s.c))return null;if(n=((i=r.length-1)-v(this.e/h))*h,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},I.dividedBy=I.div=function(e,t){return r(this,new $(e,t),k,H)},I.dividedToIntegerBy=I.idiv=function(e,t){return r(this,new $(e,t),0,1)},I.exponentiatedBy=I.pow=function(e,t){var r,n,i,s,o,u,d,p,f=this;if((e=new $(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+K(e));if(null!=t&&(t=new $(t)),o=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return p=new $(Math.pow(+K(f),o?e.s*(2-A(e)):+K(e))),t?p.mod(t):p;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new $(NaN);(n=!u&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||o&&f.c[1]>=24e7:f.c[0]<8e13||o&&f.c[0]<=9999975e7)))return s=f.s<0&&A(e)?-0:0,f.e>-1&&(s=1/s),new $(u?1/s:s);j&&(s=a(j/h+2))}for(o?(r=new $(.5),u&&(e.s=1),d=A(e)):d=(i=Math.abs(+K(e)))%2,p=new $(O);;){if(d){if(!(p=p.times(f)).c)break;s?p.c.length>s&&(p.c.length=s):n&&(p=p.mod(t))}if(i){if(0===(i=c(i/2)))break;d=i%2}else if(q(e=e.times(r),e.e+1,1),e.e>14)d=A(e);else{if(0===(i=+K(e)))break;d=i%2}f=f.times(f),s?f.c&&f.c.length>s&&(f.c.length=s):n&&(f=f.mod(t))}return n?p:(u&&(p=O.div(p)),t?p.mod(t):s?q(p,j,H,undefined):p)},I.integerValue=function(e){var t=new $(this);return null==e?e=H:w(e,0,8),q(t,t.e+1,e)},I.isEqualTo=I.eq=function(e,t){return 0===y(this,new $(e,t))},I.isFinite=function(){return!!this.c},I.isGreaterThan=I.gt=function(e,t){return y(this,new $(e,t))>0},I.isGreaterThanOrEqualTo=I.gte=function(e,t){return 1===(t=y(this,new $(e,t)))||0===t},I.isInteger=function(){return!!this.c&&v(this.e/h)>this.c.length-2},I.isLessThan=I.lt=function(e,t){return y(this,new $(e,t))<0},I.isLessThanOrEqualTo=I.lte=function(e,t){return-1===(t=y(this,new $(e,t)))||0===t},I.isNaN=function(){return!this.s},I.isNegative=function(){return this.s<0},I.isPositive=function(){return this.s>0},I.isZero=function(){return!!this.c&&0==this.c[0]},I.minus=function(e,t){var r,n,i,s,o=this,a=o.s;if(t=(e=new $(e,t)).s,!a||!t)return new $(NaN);if(a!=t)return e.s=-t,o.plus(e);var c=o.e/h,l=e.e/h,u=o.c,p=e.c;if(!c||!l){if(!u||!p)return u?(e.s=-t,e):new $(p?o:NaN);if(!u[0]||!p[0])return p[0]?(e.s=-t,e):new $(u[0]?o:3==H?-0:0)}if(c=v(c),l=v(l),u=u.slice(),a=c-l){for((s=a<0)?(a=-a,i=u):(l=c,i=p),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(s=(a=u.length)<(t=p.length))?a:t,a=t=0;t<n;t++)if(u[t]!=p[t]){s=u[t]<p[t];break}if(s&&(i=u,u=p,p=i,e.s=-e.s),(t=(n=p.length)-(r=u.length))>0)for(;t--;u[r++]=0);for(t=d-1;n>a;){if(u[--n]<p[n]){for(r=n;r&&!u[--r];u[r]=t);--u[r],u[n]+=d}u[n]-=p[n]}for(;0==u[0];u.splice(0,1),--l);return u[0]?z(e,u,l):(e.s=3==H?-1:1,e.c=[e.e=0],e)},I.modulo=I.mod=function(e,t){var n,i,s=this;return e=new $(e,t),!s.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||s.c&&!s.c[0]?new $(s):(9==B?(i=e.s,e.s=1,n=r(s,e,0,3),e.s=i,n.s*=i):n=r(s,e,0,B),(e=s.minus(n.times(e))).c[0]||1!=B||(e.s=s.s),e)},I.multipliedBy=I.times=function(e,t){var r,n,i,s,o,a,c,l,u,p,f,m,_,y,w,A=this,E=A.c,L=(e=new $(e,t)).c;if(!(E&&L&&E[0]&&L[0]))return!A.s||!e.s||E&&!E[0]&&!L||L&&!L[0]&&!E?e.c=e.e=e.s=null:(e.s*=A.s,E&&L?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=v(A.e/h)+v(e.e/h),e.s*=A.s,(c=E.length)<(p=L.length)&&(_=E,E=L,L=_,i=c,c=p,p=i),i=c+p,_=[];i--;_.push(0));for(y=d,w=g,i=p;--i>=0;){for(r=0,f=L[i]%w,m=L[i]/w|0,s=i+(o=c);s>i;)r=((l=f*(l=E[--o]%w)+(a=m*l+(u=E[o]/w|0)*f)%w*w+_[s]+r)/y|0)+(a/w|0)+m*u,_[s--]=l%y;_[s]=r}return r?++n:_.splice(0,1),z(e,_,n)},I.negated=function(){var e=new $(this);return e.s=-e.s||null,e},I.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new $(e,t)).s,!i||!t)return new $(NaN);if(i!=t)return e.s=-t,n.minus(e);var s=n.e/h,o=e.e/h,a=n.c,c=e.c;if(!s||!o){if(!a||!c)return new $(i/0);if(!a[0]||!c[0])return c[0]?e:new $(a[0]?n:0*i)}if(s=v(s),o=v(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=c):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=c.length)<0&&(r=c,c=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/d|0,a[t]=d===a[t]?0:a[t]%d;return i&&(a=[i].concat(a),++o),z(e,a,o)},I.precision=I.sd=function(e,t){var r,n,i,s=this;if(null!=e&&e!==!!e)return w(e,1,m),null==t?t=H:w(t,0,8),q(new $(s),e,t);if(!(r=s.c))return null;if(n=(i=r.length-1)*h+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&s.e+1>n&&(n=s.e+1),n},I.shiftedBy=function(e){return w(e,-9007199254740991,p),this.times("1e"+e)},I.squareRoot=I.sqrt=function(){var e,t,n,i,s,o=this,a=o.c,c=o.s,l=o.e,u=k+4,d=new $("0.5");if(1!==c||!a||!a[0])return new $(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+K(o)))||c==1/0?(((t=_(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=v((l+1)/2)-(l<0||l%2),n=new $(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new $(c+""),n.c[0])for((c=(l=n.e)+u)<3&&(c=0);;)if(s=n,n=d.times(s.plus(r(o,s,u,1))),_(s.c).slice(0,c)===(t=_(n.c)).slice(0,c)){if(n.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(n,n.e+k+2,1),e=!n.times(n).eq(o));break}if(!i&&(q(s,s.e+k+2,0),s.times(s).eq(o))){n=s;break}u+=4,c+=4,i=1}return q(n,n.e+k+1,H,e)},I.toExponential=function(e,t){return null!=e&&(w(e,0,m),e++),V(this,e,t,1)},I.toFixed=function(e,t){return null!=e&&(w(e,0,m),e=e+this.e+1),V(this,e,t)},I.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=U;else if("object"!=typeof r)throw Error(l+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var s,o=n.split("."),a=+r.groupSize,c=+r.secondaryGroupSize,u=r.groupSeparator||"",d=o[0],h=o[1],p=i.s<0,f=p?d.slice(1):d,g=f.length;if(c&&(s=a,a=c,c=s,g-=s),a>0&&g>0){for(s=g%a||a,d=f.substr(0,s);s<g;s+=a)d+=u+f.substr(s,a);c>0&&(d+=u+f.slice(s)),p&&(d="-"+d)}n=h?d+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):d}return(r.prefix||"")+n+(r.suffix||"")},I.toFraction=function(e){var t,n,i,s,o,a,c,u,d,p,g,m,v=this,y=v.c;if(null!=e&&(!(c=new $(e)).isInteger()&&(c.c||1!==c.s)||c.lt(O)))throw Error(l+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+K(c));if(!y)return new $(v);for(t=new $(O),d=n=new $(O),i=u=new $(O),m=_(y),o=t.e=m.length-v.e-1,t.c[0]=f[(a=o%h)<0?h+a:a],e=!e||c.comparedTo(t)>0?o>0?t:d:c,a=F,F=1/0,c=new $(m),u.c[0]=0;p=r(c,t,0,1),1!=(s=n.plus(p.times(i))).comparedTo(e);)n=i,i=s,d=u.plus(p.times(s=d)),u=s,t=c.minus(p.times(s=t)),c=s;return s=r(e.minus(n),i,0,1),u=u.plus(s.times(d)),n=n.plus(s.times(i)),u.s=d.s=v.s,g=r(d,i,o*=2,H).minus(v).abs().comparedTo(r(u,n,o,H).minus(v).abs())<1?[d,i]:[u,n],F=a,g},I.toNumber=function(){return+K(this)},I.toPrecision=function(e,t){return null!=e&&w(e,1,m),V(this,e,t,2)},I.toString=function(e){var t,r=this,i=r.s,s=r.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=N||s>=D?E(_(r.c),s):L(_(r.c),s,"0"):10===e&&X?t=L(_((r=q(new $(r),k+s+1,H)).c),r.e,"0"):(w(e,2,G.length,"Base"),t=n(L(_(r.c),s,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},I.valueOf=I.toJSON=function(){return K(this)},I._isBigNumber=!0,null!=t&&$.set(t),$}(),s.default=s.BigNumber=s,void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},82661:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var n=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())}},47922:function(e,t,r){"use strict";r.d(t,{Lw:function(){return o},Xf:function(){return a},ZA:function(){return s},dt:function(){return n},iY:function(){return i}});var n="data-focus-lock",i="data-focus-lock-disabled",s="data-no-focus-lock",o="data-autofocus-inside",a="data-no-autofocus"},81439:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var n=r(21496),i=r(64495),s=r(99240),o=r(16351),a=function(e,t){return void 0===t&&(t=(0,o.b)((0,s.dH)(e).ownerDocument)),!(!t||t.dataset&&t.dataset.focusGuard)&&(0,i.r)(e).some((function(e){return(0,n.gR)(e,t)||function(e,t){return Boolean((0,s.$r)(e.querySelectorAll("iframe")).some((function(e){return function(e,t){return e===t}(e,t)})))}(e,t)}))}},39303:function(e,t,r){"use strict";r.d(t,{X:function(){return a}});var n=r(47922),i=r(21496),s=r(99240),o=r(16351),a=function(e){void 0===e&&(e=document);var t=(0,o.b)(e);return!!t&&(0,s.$r)(e.querySelectorAll("[".concat(n.ZA,"]"))).some((function(e){return(0,i.gR)(e,t)}))}},38238:function(e,t,r){"use strict";r.d(t,{I:function(){return c}});var n=r(64495),i=r(76457),s=r(36201),o=r(78752),a=r(84854),c=function(e){var t=(0,n.r)(e).filter(i.AM),r=(0,s.Jl)(e,e,t),c=(0,o.H)((0,a.i)([r],!0),!0,!0),l=(0,a.i)(t,!1);return c.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:l.indexOf(t)>=0,guard:(0,i.Mw)(t)}}))}},76300:function(e,t,r){"use strict";r.d(t,{O:function(){return y}});var n=r(82661),i=r(76457),s=function(e,t){return(0,i.Mv)(e)&&e.name?function(e,t){return t.filter(i.Mv).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},o=function(e){return e[0]&&e.length>1?s(e[0],e):e[0]},a=function(e,t){return e.indexOf(s(t,e))},c="NEW_FOCUS",l=function(e,t,r,n,o){var l=e.length,u=e[0],d=e[l-1],h=(0,i.Mw)(n);if(!(n&&e.indexOf(n)>=0)){var p=void 0!==n?r.indexOf(n):-1,f=o?r.indexOf(o):p,g=o?e.indexOf(o):-1;if(-1===p)return-1!==g?g:c;if(-1===g)return c;var m,v,_=p-f,y=r.indexOf(u),w=r.indexOf(d),A=(m=r,v=new Set,m.forEach((function(e){return v.add(s(e,m))})),m.filter((function(e){return v.has(e)}))),E=(void 0!==n?A.indexOf(n):-1)-(o?A.indexOf(o):p);if(!_&&g>=0)return g;if(0===t.length)return g;var L=a(e,t[0]),T=a(e,t[t.length-1]);return p<=y&&h&&Math.abs(_)>1?T:p>=w&&h&&Math.abs(_)>1?L:_&&Math.abs(E)>1?g:p<=y?T:p>w?L:_?Math.abs(_)>1?g:(l+g+_)%l:void 0}},u=r(21496),d=r(64495),h=r(99240),p=function(e,t,r){var n,s=e.map((function(e){return e.node})),a=(0,u.y2)(s.filter((n=r,function(e){var t,r=null===(t=(0,i.vh)(e))||void 0===t?void 0:t.autofocus;return e.autofocus||void 0!==r&&"false"!==r||n.indexOf(e)>=0})));return a&&a.length?o(a):o((0,u.y2)(t))},f=r(16351),g=r(36201),m=function(e,t){var r=(0,f.b)((0,h._j)(e).length>0?document:(0,h.dH)(e).ownerDocument),n=(0,d.r)(e).filter(i.AM),s=(0,g.Jl)(r||e,e,n),o=new Map,a=(0,u.QK)(n,o),m=a.filter((function(e){var t=e.node;return(0,i.AM)(t)}));if(m[0]){var v,_,y,w=(0,u.QK)([s],o).map((function(e){return e.node})),A=(v=w,_=m,y=new Map,_.forEach((function(e){return y.set(e.node,e)})),v.map((function(e){return y.get(e)})).filter(i.O9)),E=A.map((function(e){return e.node})),L=A.filter((function(e){return e.tabIndex>=0})).map((function(e){return e.node})),T=l(E,L,w,r,t);if(T===c){var P=p(a,L,(0,g.a1)(n,o))||p(a,E,(0,g.a1)(n,o));return P?{node:P}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===T?T:A[T]}},v=0,_=!1,y=function(e,t,r){void 0===r&&(r={});var i=m(e,t);if(!_&&i){if(v>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),_=!0,void setTimeout((function(){_=!1}),1);v++,(0,n.s)(i.node,r.focusOptions),v--}}},81720:function(e,t,r){"use strict";r.d(t,{f:function(){return s}});var n=r(21496);function i(e){if(!e)return null;var t=e?new WeakRef(e):null;return function(){return(null==t?void 0:t.deref())||null}}var s=function(e){var t=function(e){if(!e)return null;for(var t=[],r=e;r&&r!==document.body;)t.push({current:i(r),parent:i(r.parentElement),left:i(r.previousElementSibling),right:i(r.nextElementSibling)}),r=r.parentElement;return{element:i(e),stack:t,ownerDocument:e.ownerDocument}}(e);return function(){return function(e){var t,r,i,s,o;if(e)for(var a=e.stack,c=e.ownerDocument,l=new Map,u=0,d=a;u<d.length;u++){var h=d[u],p=null===(t=h.parent)||void 0===t?void 0:t.call(h);if(p&&c.contains(p)){for(var f=null===(r=h.left)||void 0===r?void 0:r.call(h),g=null===(i=h.right)||void 0===i?void 0:i.call(h),m=(0,n.hQ)([p],l),v=null!==(o=null!==(s=null==f?void 0:f.nextElementSibling)&&void 0!==s?s:g)&&void 0!==o?o:f;v;){for(var _=0,y=m;_<y.length;_++){var w=y[_];if(null==v?void 0:v.contains(w.node))return w.node}v=v.nextElementSibling}if(m.length)return m[0].node}}}(t)}}},24449:function(e,t,r){"use strict";r.d(t,{IO:function(){return c},Mi:function(){return a},Ry:function(){return u},bL:function(){return d}});var n=r(82661),i=r(21496),s=r(99240),o=function(e,t,r){void 0===t&&(t={});var o=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)}(t),a=function(e,t,r){if(!e||!t)return console.error("no element or scope given"),{};var n=(0,s._j)(t);if(n.every((function(t){return!(0,i.gR)(t,e)})))return console.error("Active element is not contained in the scope"),{};var o=r?(0,i.hQ)(n,new Map):(0,i.QK)(n,new Map),a=o.findIndex((function(t){return t.node===e}));return-1!==a?{prev:o[a-1],next:o[a+1],first:o[0],last:o[o.length-1]}:void 0}(e,o.scope,o.onlyTabbable);if(a){var c=r(a,o.cycle);c&&(0,n.s)(c.node,o.focusOptions)}},a=function(e,t){void 0===t&&(t={}),o(e,t,(function(e,t){var r=e.next,n=e.first;return r||t&&n}))},c=function(e,t){void 0===t&&(t={}),o(e,t,(function(e,t){var r=e.prev,n=e.last;return r||t&&n}))},l=function(e,t,r){var o,a,c,l,u=(a=e,c=null===(o=t.onlyTabbable)||void 0===o||o,{first:(l=c?(0,i.hQ)((0,s._j)(a),new Map):(0,i.QK)((0,s._j)(a),new Map))[0],last:l[l.length-1]})[r];u&&(0,n.s)(u.node,t.focusOptions)},u=function(e,t){void 0===t&&(t={}),l(e,t,"first")},d=function(e,t){void 0===t&&(t={}),l(e,t,"last")}},21496:function(e,t,r){"use strict";r.d(t,{QK:function(){return u},gR:function(){return h},hQ:function(){return l},xz:function(){return d},y2:function(){return c}});var n=r(99240),i=r(76457),s=r(78752),o=r(84854),a=function(e,t){return(0,n.$r)(e).filter((function(e){return(0,i.bQ)(t,e)})).filter((function(e){return(0,i.yF)(e)}))},c=function(e,t){return void 0===t&&(t=new Map),(0,n.$r)(e).filter((function(e){return(0,i.ie)(t,e)}))},l=function(e,t,r){return(0,s.H)(a((0,o.i)(e,r),t),!0,r)},u=function(e,t){return(0,s.H)(a((0,o.i)(e),t),!1)},d=function(e,t){return a((0,o.R)(e),t)},h=function(e,t){return e.shadowRoot?h(e.shadowRoot,t):!(void 0===Object.getPrototypeOf(e).contains||!Object.getPrototypeOf(e).contains.call(e,t))||(0,n.$r)(e.children).some((function(e){var r;if(e instanceof HTMLIFrameElement){var n=null===(r=e.contentDocument)||void 0===r?void 0:r.body;return!!n&&h(n,t)}return h(e,t)}))}},64495:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var n=r(47922),i=r(99240),s=function(e){return e.parentNode?s(e.parentNode):e},o=function(e){return(0,i._j)(e).filter(Boolean).reduce((function(e,t){var r=t.getAttribute(n.dt);return e.push.apply(e,r?function(e){for(var t=new Set,r=e.length,n=0;n<r;n+=1)for(var i=n+1;i<r;i+=1){var s=e[n].compareDocumentPosition(e[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(n)}return e.filter((function(e,r){return!t.has(r)}))}((0,i.$r)(s(t).querySelectorAll("[".concat(n.dt,'="').concat(r,'"]:not([').concat(n.iY,'="disabled"])')))):[t]),e}),[])}},99240:function(e,t,r){"use strict";r.d(t,{$r:function(){return n},_j:function(){return i},dH:function(){return s}});var n=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},i=function(e){return Array.isArray(e)?e:[e]},s=function(e){return Array.isArray(e)?e[0]:e}},16351:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});var n=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?n(t.shadowRoot):t instanceof HTMLIFrameElement&&function(e){try{return e()}catch(t){return}}((function(){return t.contentWindow.document}))?n(t.contentWindow.document):t}}},76457:function(e,t,r){"use strict";r.d(t,{AM:function(){return g},Mv:function(){return d},Mw:function(){return f},O9:function(){return m},bQ:function(){return a},ie:function(){return c},vh:function(){return l},yF:function(){return h}});var n=r(47922),i=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},s=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},o=function(e,t){return!e||s(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue||"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility"))}(e)&&!function(e){return e.hasAttribute("inert")}(e)&&t(i(e))},a=function(e,t){var r=e.get(t);if(void 0!==r)return r;var n=o(t,a.bind(void 0,e));return e.set(t,n),n},c=function(e,t){var r=e.get(t);if(void 0!==r)return r;var n=function(e,t){return!(e&&!s(e))||!!p(e)&&t(i(e))}(t,c.bind(void 0,e));return e.set(t,n),n},l=function(e){return e.dataset},u=function(e){return"INPUT"===e.tagName},d=function(e){return u(e)&&"radio"===e.type},h=function(e){return!((u(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))},p=function(e){var t=e.getAttribute(n.Xf);return![!0,"true",""].includes(t)},f=function(e){var t;return Boolean(e&&(null===(t=l(e))||void 0===t?void 0:t.focusGuard))},g=function(e){return!f(e)},m=function(e){return Boolean(e)}},36201:function(e,t,r){"use strict";r.d(t,{Jl:function(){return a},a1:function(){return c}});var n=r(21496),i=r(99240),s=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&s(e.parentNode.host||e.parentNode,t),t},o=function(e,t){for(var r=s(e),n=s(t),i=0;i<r.length;i+=1){var o=r[i];if(n.indexOf(o)>=0)return o}return!1},a=function(e,t,r){var s=(0,i._j)(e),a=(0,i._j)(t),c=s[0],l=!1;return a.filter(Boolean).forEach((function(e){l=o(l||e,e)||l,r.filter(Boolean).forEach((function(e){var t=o(c,e);t&&(l=!l||(0,n.gR)(t,l)?t:o(t,l))}))})),l},c=function(e,t){return e.reduce((function(e,r){return e.concat((0,n.xz)(r,t))}),[])}},78752:function(e,t,r){"use strict";r.d(t,{H:function(){return s}});var n=r(99240),i=function(e,t){var r=Math.max(0,e.tabIndex),n=Math.max(0,t.tabIndex),i=r-n,s=e.index-t.index;if(i){if(!r)return 1;if(!n)return-1}return i||s},s=function(e,t,r){return(0,n.$r)(e).map((function(e,t){var n=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex}(e);return{node:e,index:t,tabIndex:r&&-1===n?(e.dataset||{}).focusGuard?0:-1:n}})).filter((function(e){return!t||e.tabIndex>=0})).sort(i)}},84854:function(e,t,r){"use strict";r.d(t,{i:function(){return c},R:function(){return l}});var n=r(47922),i=r(99240),s=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),o="".concat(s,", [data-focus-guard]"),a=function(e,t){return(0,i.$r)((e.shadowRoot||e).children).reduce((function(e,r){return e.concat(r.matches(t?o:s)?[r]:[],a(r))}),[])},c=function(e,t){return e.reduce((function(e,r){var n,o=a(r,t),l=(n=[]).concat.apply(n,o.map((function(e){return function(e,t){var r;return e instanceof HTMLIFrameElement&&(null===(r=e.contentDocument)||void 0===r?void 0:r.body)?c([e.contentDocument.body],t):[e]}(e,t)})));return e.concat(l,r.parentNode?(0,i.$r)(r.parentNode.querySelectorAll(s)).filter((function(e){return e===r})):[])}),[])},l=function(e){var t=e.querySelectorAll("[".concat(n.Lw,"]"));return(0,i.$r)(t).map((function(e){return c([e])})).reduce((function(e,t){return e.concat(t)}),[])}},63487:function(module,exports,__webpack_require__){var process=__webpack_require__(85409),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var r=OUTPUT_TYPES[t];e[r]=createOutputMethod(r)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var n,i,s=0,o=e.length,a=this.blocks,c=this.buffer8;s<o;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)if(ARRAY_BUFFER)for(i=this.start;s<o&&i<64;++s)c[i++]=e[s];else for(i=this.start;s<o&&i<64;++s)a[i>>2]|=e[s]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;s<o&&i<64;++s)(n=e.charCodeAt(s))<128?c[i++]=n:n<2048?(c[i++]=192|n>>6,c[i++]=128|63&n):n<55296||n>=57344?(c[i++]=224|n>>12,c[i++]=128|n>>6&63,c[i++]=128|63&n):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++s)),c[i++]=240|n>>18,c[i++]=128|n>>12&63,c[i++]=128|n>>6&63,c[i++]=128|63&n);else for(i=this.start;s<o&&i<64;++s)(n=e.charCodeAt(s))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++s)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,r,n,i,s,o=this.blocks;this.first?t=((t=((e=((e=o[0]-680876937)<<7|e>>>25)-271733879<<0)^(r=((r=(-271733879^(n=((n=(-1732584194^2004318071&e)+o[1]-117830708)<<12|n>>>20)+e<<0)&(-271733879^e))+o[2]-1126478375)<<17|r>>>15)+n<<0)&(n^e))+o[3]-1316259209)<<22|t>>>10)+r<<0:(e=this.h0,t=this.h1,r=this.h2,t=((t+=((e=((e+=((n=this.h3)^t&(r^n))+o[0]-680876936)<<7|e>>>25)+t<<0)^(r=((r+=(t^(n=((n+=(r^e&(t^r))+o[1]-389564586)<<12|n>>>20)+e<<0)&(e^t))+o[2]+606105819)<<17|r>>>15)+n<<0)&(n^e))+o[3]-1044525330)<<22|t>>>10)+r<<0),t=((t+=((e=((e+=(n^t&(r^n))+o[4]-176418897)<<7|e>>>25)+t<<0)^(r=((r+=(t^(n=((n+=(r^e&(t^r))+o[5]+1200080426)<<12|n>>>20)+e<<0)&(e^t))+o[6]-1473231341)<<17|r>>>15)+n<<0)&(n^e))+o[7]-45705983)<<22|t>>>10)+r<<0,t=((t+=((e=((e+=(n^t&(r^n))+o[8]+1770035416)<<7|e>>>25)+t<<0)^(r=((r+=(t^(n=((n+=(r^e&(t^r))+o[9]-1958414417)<<12|n>>>20)+e<<0)&(e^t))+o[10]-42063)<<17|r>>>15)+n<<0)&(n^e))+o[11]-1990404162)<<22|t>>>10)+r<<0,t=((t+=((e=((e+=(n^t&(r^n))+o[12]+1804603682)<<7|e>>>25)+t<<0)^(r=((r+=(t^(n=((n+=(r^e&(t^r))+o[13]-40341101)<<12|n>>>20)+e<<0)&(e^t))+o[14]-1502002290)<<17|r>>>15)+n<<0)&(n^e))+o[15]+1236535329)<<22|t>>>10)+r<<0,t=((t+=((n=((n+=(t^r&((e=((e+=(r^n&(t^r))+o[1]-165796510)<<5|e>>>27)+t<<0)^t))+o[6]-1069501632)<<9|n>>>23)+e<<0)^e&((r=((r+=(e^t&(n^e))+o[11]+643717713)<<14|r>>>18)+n<<0)^n))+o[0]-373897302)<<20|t>>>12)+r<<0,t=((t+=((n=((n+=(t^r&((e=((e+=(r^n&(t^r))+o[5]-701558691)<<5|e>>>27)+t<<0)^t))+o[10]+38016083)<<9|n>>>23)+e<<0)^e&((r=((r+=(e^t&(n^e))+o[15]-660478335)<<14|r>>>18)+n<<0)^n))+o[4]-405537848)<<20|t>>>12)+r<<0,t=((t+=((n=((n+=(t^r&((e=((e+=(r^n&(t^r))+o[9]+568446438)<<5|e>>>27)+t<<0)^t))+o[14]-1019803690)<<9|n>>>23)+e<<0)^e&((r=((r+=(e^t&(n^e))+o[3]-187363961)<<14|r>>>18)+n<<0)^n))+o[8]+1163531501)<<20|t>>>12)+r<<0,t=((t+=((n=((n+=(t^r&((e=((e+=(r^n&(t^r))+o[13]-1444681467)<<5|e>>>27)+t<<0)^t))+o[2]-51403784)<<9|n>>>23)+e<<0)^e&((r=((r+=(e^t&(n^e))+o[7]+1735328473)<<14|r>>>18)+n<<0)^n))+o[12]-1926607734)<<20|t>>>12)+r<<0,t=((t+=((s=(n=((n+=((i=t^r)^(e=((e+=(i^n)+o[5]-378558)<<4|e>>>28)+t<<0))+o[8]-2022574463)<<11|n>>>21)+e<<0)^e)^(r=((r+=(s^t)+o[11]+1839030562)<<16|r>>>16)+n<<0))+o[14]-35309556)<<23|t>>>9)+r<<0,t=((t+=((s=(n=((n+=((i=t^r)^(e=((e+=(i^n)+o[1]-1530992060)<<4|e>>>28)+t<<0))+o[4]+1272893353)<<11|n>>>21)+e<<0)^e)^(r=((r+=(s^t)+o[7]-155497632)<<16|r>>>16)+n<<0))+o[10]-1094730640)<<23|t>>>9)+r<<0,t=((t+=((s=(n=((n+=((i=t^r)^(e=((e+=(i^n)+o[13]+681279174)<<4|e>>>28)+t<<0))+o[0]-358537222)<<11|n>>>21)+e<<0)^e)^(r=((r+=(s^t)+o[3]-722521979)<<16|r>>>16)+n<<0))+o[6]+76029189)<<23|t>>>9)+r<<0,t=((t+=((s=(n=((n+=((i=t^r)^(e=((e+=(i^n)+o[9]-640364487)<<4|e>>>28)+t<<0))+o[12]-421815835)<<11|n>>>21)+e<<0)^e)^(r=((r+=(s^t)+o[15]+530742520)<<16|r>>>16)+n<<0))+o[2]-995338651)<<23|t>>>9)+r<<0,t=((t+=((n=((n+=(t^((e=((e+=(r^(t|~n))+o[0]-198630844)<<6|e>>>26)+t<<0)|~r))+o[7]+1126891415)<<10|n>>>22)+e<<0)^((r=((r+=(e^(n|~t))+o[14]-1416354905)<<15|r>>>17)+n<<0)|~e))+o[5]-57434055)<<21|t>>>11)+r<<0,t=((t+=((n=((n+=(t^((e=((e+=(r^(t|~n))+o[12]+1700485571)<<6|e>>>26)+t<<0)|~r))+o[3]-1894986606)<<10|n>>>22)+e<<0)^((r=((r+=(e^(n|~t))+o[10]-1051523)<<15|r>>>17)+n<<0)|~e))+o[1]-2054922799)<<21|t>>>11)+r<<0,t=((t+=((n=((n+=(t^((e=((e+=(r^(t|~n))+o[8]+1873313359)<<6|e>>>26)+t<<0)|~r))+o[15]-30611744)<<10|n>>>22)+e<<0)^((r=((r+=(e^(n|~t))+o[6]-1560198380)<<15|r>>>17)+n<<0)|~e))+o[13]+1309151649)<<21|t>>>11)+r<<0,t=((t+=((n=((n+=(t^((e=((e+=(r^(t|~n))+o[4]-145523070)<<6|e>>>26)+t<<0)|~r))+o[11]-1120210379)<<10|n>>>22)+e<<0)^((r=((r+=(e^(n|~t))+o[2]+718787259)<<15|r>>>17)+n<<0)|~e))+o[9]-343485551)<<21|t>>>11)+r<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=r-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,r,n="",i=this.array(),s=0;s<15;)e=i[s++],t=i[s++],r=i[s++],n+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|r>>>6)]+BASE64_ENCODE_CHAR[63&r];return e=i[s],n+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},82724:function(e,t,r){e.exports=r(47386)},26211:function(e,t,r){e.exports=r(39949)},48911:function(e,t,r){e.exports=r(17989)},71757:function(e,t,r){e.exports=r(57183)},70952:function(e,t,r){e.exports=r(23130)},8407:function(e,t,r){e.exports=r(51841)},78470:function(e,t,r){e.exports=r(36940)},32846:function(e,t,r){var n=r(19837).default;function i(){"use strict";e.exports=i=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function h(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,s=Object.create(i.prototype),o=new H(n||[]);return a(s,"_invoke",{value:S(e,r,o)}),s}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var g="suspendedStart",m="suspendedYield",v="executing",_="completed",y={};function w(){}function A(){}function E(){}var L={};h(L,l,(function(){return this}));var T=Object.getPrototypeOf,P=T&&T(T(N([])));P&&P!==s&&o.call(P,l)&&(L=P);var C=E.prototype=w.prototype=Object.create(L);function b(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,s,a,c){var l=f(e[i],e,s);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var i;a(this,"_invoke",{value:function(e,n){function s(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(s,s):s()}})}function S(e,r,n){var i=g;return function(s,o){if(i===v)throw new Error("Generator is already running");if(i===_){if("throw"===s)throw o;return{value:t,done:!0}}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===g)throw i=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var l=f(e,r,n);if("normal"===l.type){if(i=n.done?_:m,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=_,n.method="throw",n.arg=l.arg)}}}function I(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var s=f(i,e.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,y;var o=s.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function H(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[l];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){for(;++i<e.length;)if(o.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw new TypeError(n(e)+" is not iterable")}return A.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:A,configurable:!0}),A.displayName=h(E,d,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,h(e,d,"GeneratorFunction")),e.prototype=Object.create(C),e},r.awrap=function(e){return{__await:e}},b(R.prototype),h(R.prototype,u,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,i,s){void 0===s&&(s=Promise);var o=new R(p(e,t,n,i),s);return r.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(C),h(C,d,"Generator"),h(C,l,(function(){return this})),h(C,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=N,H.prototype={constructor:H,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return a.type="throw",a.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},19837:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2797:function(e,t,r){var n=r(32846)();e.exports=n;try{regeneratorRuntime=n}catch(i){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},57223:function(e,t,r){"use strict";r.d(t,{A:function(){return l}});var n=r(17989),i=r(40865),s=r(82103);function o(e){return o="function"==typeof i&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e},o(e)}var a=r(27792);function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[a];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:String(t)}function l(e,t,r){return(t=c(t))in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},6834:function(e,t,r){"use strict";r.d(t,{A:function(){return o}});var n=r(51841),i=r(6154),s=r(36940);function o(e,t){if(null==e)return{};var r,o,a=function(e,t){if(null==e)return{};var r,n,o={},a=s(e);for(n=0;n<a.length;n++)r=a[n],i(t).call(t,r)>=0||(o[r]=e[r]);return o}(e,t);if(n){var c=n(e);for(o=0;o<c.length;o++)r=c[o],i(t).call(t,r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}},32595:function(e,t,r){"use strict";r.d(t,{A:function(){return u}});var n=r(42924);var i=r(40865),s=r(7541),o=r(49568);var a=r(59916),c=r(77236);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){return function(e){if(n(e))return e}(e)||function(e,t){var r=null==e?null:void 0!==i&&s(e)||e["@@iterator"];if(null!=r){var n,a,c,l,u=[],d=!0,h=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=c.call(r)).done)&&(o(u).call(u,n.value),u.length!==t);d=!0);}catch(e){h=!0,a=e}finally{try{if(!d&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}(e,t)||function(e,t){var r;if(e){if("string"==typeof e)return l(e,t);var n=a(r=Object.prototype.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?c(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},94185:function(e,t,r){"use strict";function n(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}r.d(t,{A:function(){return n}})},65138:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:function(){return n}})},81508:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{A:function(){return n}})},30596:function(e,t,r){"use strict";function n(e,t,r,n,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void r(l)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var o=e.apply(t,r);function a(e){n(o,i,s,a,c,"next",e)}function c(e){n(o,i,s,a,c,"throw",e)}a(void 0)}))}}r.d(t,{A:function(){return i}})},76978:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{A:function(){return n}})},64964:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(74489);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,n.A)(i.key),i)}}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},45764:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(23307);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=(0,n.A)(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}},40492:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(74489);function i(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},32913:function(e,t,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{A:function(){return n}})},78417:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{A:function(){return n}})},47602:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(82509);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.A)(e,t)}},53382:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(82509);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.A)(e,t)}},38690:function(e,t,r){"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.d(t,{A:function(){return n}})},5178:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(40492);function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach((function(t){(0,n.A)(e,t,r[t])}))}return e}},8762:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(40492);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},27684:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(75856);function i(e,t){if(null==e)return{};var r,i,s=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}},75856:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,{A:function(){return n}})},18875:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(8599),i=r(81508);function s(e,t){if(t&&("object"===(0,n.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.A)(e)}},33552:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(8599);function i(){i=function(){return t};var e,t={},r=Object.prototype,s=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new k(n||[]);return o(s,"_invoke",{value:R(e,r,a)}),s}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var f="suspendedStart",g="suspendedYield",m="executing",v="completed",_={};function y(){}function w(){}function A(){}var E={};d(E,c,(function(){return this}));var L=Object.getPrototypeOf,T=L&&L(L(H([])));T&&T!==r&&s.call(T,c)&&(E=T);var P=A.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,o,a,c){var l=p(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==(0,n.A)(d)&&s.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function s(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(s,s):s()}})}function R(t,r,n){var i=f;return function(s,o){if(i===m)throw new Error("Generator is already running");if(i===v){if("throw"===s)throw o;return{value:e,done:!0}}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var c=S(a,n);if(c){if(c===_)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var l=p(t,r,n);if("normal"===l.type){if(i=n.done?v:g,l.arg===_)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=v,n.method="throw",n.arg=l.arg)}}}function S(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var s=p(i,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,_;var o=s.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function H(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(s.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError((0,n.A)(t)+" is not iterable")}return w.prototype=A,o(P,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=d(A,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,d(e,u,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},C(b.prototype),d(b.prototype,l,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,s){void 0===s&&(s=Promise);var o=new b(h(e,r,n,i),s);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(P),d(P,u,"Generator"),d(P,c,(function(){return this})),d(P,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=H,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return a.type="throw",a.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),l=s.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:H(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),_}},t}},82509:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{A:function(){return n}})},99415:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(23307);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,s,o,a=[],c=!0,l=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(e,t)||(0,n.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},58042:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(65138);var i=r(23307);function s(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},74489:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(8599);function i(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=(0,n.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:String(t)}},8599:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:function(){return n}})},23307:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(65138);function i(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}},71743:function(e,t,r){"use strict";r.d(t,{A:function(){return o}});var n=r(8599),i=r(82509),s=r(47602);function o(){o=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,s){var o=new RegExp(e,n);return t.set(o,s||t.get(e)),(0,i.A)(o,r.prototype)}function a(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){var i=n[r];if("number"==typeof i)t[r]=e[i];else{for(var s=0;void 0===e[i[s]]&&s+1<i.length;)s++;t[r]=e[i[s]]}return t}),Object.create(null))}return(0,s.A)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);if(r){r.groups=a(r,this);var n=r.indices;n&&(n.groups=a(n,this))}return r},r.prototype[Symbol.replace]=function(r,i){if("string"==typeof i){var s=t.get(this);return e[Symbol.replace].call(this,r,i.replace(/\$<([^>]+)>/g,(function(e,t){var r=s[t];return"$"+(Array.isArray(r)?r.join("$"):r)})))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=(0,n.A)(e[e.length-1])&&(e=[].slice.call(e)).push(a(e,o)),i.apply(this,e)}))}return e[Symbol.replace].call(this,r,i)},o.apply(this,arguments)}},41048:function(e,t,r){"use strict";function n(e){return new Promise(((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)}))}function i(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const i=n(r);return(e,r)=>i.then((n=>r(n.transaction(t,e).objectStore(t))))}let s;function o(){return s||(s=i("keyval-store","keyval")),s}function a(e,t=o()){return t("readonly",(t=>n(t.get(e))))}function c(e,t,r=o()){return r("readwrite",(r=>(r.put(t,e),n(r.transaction))))}function l(e,t=o()){return t("readwrite",(t=>(t.delete(e),n(t.transaction))))}r.d(t,{Jt:function(){return a},hZ:function(){return c},y$:function(){return i},yH:function(){return l}})}}]);
//# sourceMappingURL=common_vendors-7f6d9603.f9e4f8f5.js.map