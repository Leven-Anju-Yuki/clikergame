/*! For license information please see main-42f9d7e6.406af7c3.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},t.apply(this,arguments)};function o(e,t,o){if(o||2===arguments.length)for(var i,a=0,r=t.length;a<r;a++)!i&&a in t||(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var i=/[^a-zA-Z0-9\\_:.-]/gim,a=/</g,r=/>/g,l=/&#([a-zA-Z0-9]*);?/gim,n=/&quot;/g,s=/&colon;?/gim,c=/&newline;?/gim,d=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,u=/u\s*r\s*l\s*\(.*/gi,p=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,g=/"/g,m=function(e){return e.replace(a,"&lt;").replace(r,"&gt;")},f={indexOf:function(e,t){var o,i;for(o=0,i=e.length;o<i;o++)if(e[o]===t)return o;return-1},forEach:function(e,t,o){var i,a;for(i=0,a=e.length;i<a;i++)t.call(o,e[i],i,e)},some:function(e,t,o){var i,a;for(i=0,a=e.length;i<a;i++)if(t.call(o,e[i],i,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(e){return e instanceof Array},includes:function(e,t){if("string"==typeof e)return-1!==e.indexOf(t);for(var o=0;o<e.length;o++)if(e[o]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},o=[],i=0;i<e.length;i++)t[e[i]]||(o.push(e[i]),t[e[i]]=!0);return o},from:function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o]);return t},keys:function(e){var t=[];for(var o in e)t.push(o);return t}};function h(e){return null==e}function _(e){var t,o=f.spaceIndex(e);return t=-1===o?e.slice(1,-1):e.slice(1,o+1),"/"===(t=f.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function v(e,t){for(;t<e.length;t++){var o=e[t];if(" "!==o)return"="===o?t:-1}return-1}function b(e,t){for(;t>0;t--){var o=e[t];if(" "!==o)return"="===o?t:-1}return-1}function y(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}function x(e,t){for(;t<e.length;t++){var o=e[t];if(" "!==o)return"'"===o||'"'===o?t:-1}return-1}function w(e){var t,o,i,a,r,l,n,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",d=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e);d<e.length;)a=(t=e.charCodeAt(d++))>>2,r=(3&t)<<4|(o=e.charCodeAt(d++))>>4,l=(15&o)<<2|(i=e.charCodeAt(d++))>>6,n=63&i,isNaN(o)?l=n=64:isNaN(i)&&(n=64),c=c+s.charAt(a)+s.charAt(r)+s.charAt(l)+s.charAt(n);return c}function T(e){var t,o,i,a,r,l,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=n.indexOf(e.charAt(c++))<<2|(a=n.indexOf(e.charAt(c++)))>>4,o=(15&a)<<4|(r=n.indexOf(e.charAt(c++)))>>2,i=(3&r)<<6|(l=n.indexOf(e.charAt(c++))),s+=String.fromCharCode(t),64!==r&&(s+=String.fromCharCode(o)),64!==l&&(s+=String.fromCharCode(i));return s=function(e){for(var t="",o=0,i=0,a=0,r=0;o<e.length;)(i=e.charCodeAt(o))<128?(t+=String.fromCharCode(i),o++):i>191&&i<224?(r=e.charCodeAt(o+1),t+=String.fromCharCode((31&i)<<6|63&r),o+=2):(r=e.charCodeAt(o+1),a=e.charCodeAt(o+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&a),o+=3);return t}(s),s}function j(e){return"</"===e.slice(0,2)}function C(e,t,o){var i="",a=0,r=!1,l=!1,n=0,s=e.length,c="",d="";e:for(n=0;n<s;n++){var u=e.charAt(n);if(!1===r){if("<"===u){r=n;continue}}else if(!1===l){if("<"===u){i+=o(e.slice(a,n)),r=n,a=n;continue}if(">"===u||n===s-1){i+=o(e.slice(a,r)),c=_(d=e.slice(r,n+1)),i+=t(r,i.length,c,d,j(d)),a=n+1,r=!1;continue}if('"'===u||"'"===u)for(var p=1,g=e.charAt(n-p);""===g.trim()||"="===g;){if("="===g){l=u;continue e}g=e.charAt(n-++p)}}else if(u===l){l=!1;continue}}return a<s&&(i+=o(e.substr(a))),i}function k(e,t){var o=0,a=0,r=[],l=!1,n=e.length;function s(e,o){if(!((e=(e=f.trim(e)).replace(i,"").toLowerCase()).length<1)){var a=t(e,o||"");a&&r.push(a)}}for(var c=0;c<n;c++){var d=e.charAt(c),u=void 0;if(!1!==l||"="!==d)if(!1===l||c!==a){if(/\s|\n|\t/.test(d)){if(e=e.replace(/\s|\n|\t/g," "),!1===l){if(-1===(u=v(e,c))){s(f.trim(e.slice(o,c))),l=!1,o=c+1;continue}c=u-1;continue}if(-1===(u=b(e,c-1))){s(l,y(f.trim(e.slice(o,c)))),l=!1,o=c+1;continue}}}else{if(-1===(u=e.indexOf(d,c+1)))break;s(l,f.trim(e.slice(a+1,u))),l=!1,o=(c=u)+1}else l=e.slice(o,c),o=c+1,a='"'===e.charAt(o)||"'"===e.charAt(o)?o:x(e,c+1)}return o<e.length&&(!1===l?s(e.slice(o)):s(l,y(f.trim(e.slice(o))))),f.trim(r.join(" "))}function A(e,t,o){if(o=function(e){return function(e){for(var t="",o=0,i=e.length;o<i;o++)t+=e.charCodeAt(o)<32?" ":e.charAt(o);return f.trim(t)}(e=function(e){return e.replace(s,":").replace(c," ")}(e=function(e){return e.replace(l,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}(e=function(e){return e.replace(n,'"')}(e))))}(o),"href"===t||"src"===t){if("#"===(o=f.trim(o)))return"#";if("http://"!==o.substr(0,7)&&"https://"!==o.substr(0,8)&&"mailto:"!==o.substr(0,7)&&"tel:"!==o.substr(0,4)&&"data:image/"!==o.substr(0,11)&&"ftp://"!==o.substr(0,6)&&"./"!==o.substr(0,2)&&"../"!==o.substr(0,3)&&"#"!==o[0]&&"/"!==o[0])return""}else if("background"===t){if(d.lastIndex=0,d.test(o))return""}else if("style"===t){if(p.lastIndex=0,p.test(o))return"";if(u.lastIndex=0,u.test(o)&&(d.lastIndex=0,d.test(o)))return""}return function(e){return e=function(e){return e.replace(g,"&quot;")}(e),m(e)}(o)}var N=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},S=function(){function e(e){var t=function(e){var t={};for(var o in e)t[o]=e[o];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=A,t.escapeHtml=m,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,o=t.whiteList,i=t.onTag,a=t.onIgnoreTag,r=t.onTagAttr,l=t.onIgnoreTagAttr,n=t.safeAttrValue,s=t.escapeHtml;t.stripBlankChar&&(e=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")}(e)),t.allowCommentTag||(e=function(e){for(var t="",o=0;o<e.length;){var i=e.indexOf("\x3c!--",o);if(-1===i){t+=e.slice(o);break}t+=e.slice(o,i);var a=e.indexOf("--\x3e",i);if(-1===a)break;o=a+3}return t}(e));var c=!1;t.stripIgnoreTagBody&&(c=function(e,t){"function"!=typeof t&&(t=function(){});var o=!Array.isArray(e),i=[],a=!1;return{onIgnoreTag:function(r,l,n){if(function(t){return!!o||-1!==f.indexOf(e,t)}(r)){if(n.isClosing){var s="[/removed]",c=n.position+10;return i.push([!1!==a?a:n.position,c]),a=!1,s}return a||(a=n.position),"[removed]"}return t(r,l,n)},remove:function(e){var t="",o=0;return f.forEach(i,(function(i){t+=e.slice(o,i[0]),o=i[1]})),t+=e.slice(o)}}}(t.stripIgnoreTagBody,a),a=c.onIgnoreTag);var d=C(e,(function(e,t,c,d,u){var p={sourcePosition:e,position:t,isClosing:u,isWhite:Object.prototype.hasOwnProperty.call(o,c)},g=i(c,d,p);if(!h(g))return g;if(p.isWhite){if(p.isClosing)return"</".concat(c,">");var m=function(e){var t=f.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var o="/"===(e=f.trim(e.slice(t+1,-1)))[e.length-1];return o&&(e=f.trim(e.slice(0,-1))),{html:e,closing:o}}(d),_=o[c],v=k(m.html,(function(e,t){var o=-1!==f.indexOf(_,e),i=r(c,e,t,o);return h(i)?o?(t=n(c,e,t,null))?"".concat(e,'="').concat(t,'"'):e:h(i=l(c,e,t,o))?void 0:i:i}));return d="<".concat(c),v&&(d+=" ".concat(v)),m.closing&&(d+=" /"),d+">"}return h(g=a(c,d,p))?s(d):g}),s);return c&&(d=c.remove(d)),d},e}(),I=!0,L=function(e){return e&&e.Math==Math&&e},E=L("object"==typeof globalThis&&globalThis)||L("object"==typeof window&&window)||L("object"==typeof self&&self)||L("object"==typeof global&&global)||Function("return this")();try{!0!==(I=!!(I=String(I)).startsWith("<%=")||JSON.parse(I))&&"true"!==I||(E=new Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var O=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,o,i="cc_web";if(!f.includes(i,"bid"))return i;if(e.config&&e.config.bid)return e.config.bid;var a=E;if(a&&a._xssBid)return a._xssBid;if(a&&a.slardar&&"function"==typeof a.slardar.config){var r=(a.slardar.config()||{}).bid;if(r)return r}if(a&&a.Slardar&&"function"==typeof a.Slardar.config){var l=(a.Slardar.config()||{}).bid;if(l)return l}return(null===(o=null===(t=null==a?void 0:a.Slardar)||void 0===t?void 0:t._baseParams)||void 0===o?void 0:o.bid)||"argus"},this.getConfigRegion=function(){var t;return f.includes("va","region")?e.config&&e.config.region?e.config.region:((null===(t=null==E?void 0:E.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"va"},this.gerReportUrl=function(){var t={cn:T("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:T("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:T("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:T("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:T("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:T("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:T("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseReport){var t=!1;t=String(t);try{if(!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)return}catch(e){console.log(e)}var o=this.gerReportUrl();!this.lock&&o&&0!==this.batchData.length&&(this.lock=!0,setTimeout((function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),E.fetch(o,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch((function(e){console.warn("xss defense report error",e)})),e.lock=!1,e.upload()}),this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t,o=this.generateKey(e);if(E.fetch&&e.collectKey){var i=(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.href)||"SSR";e.documentUrl=i;var a={age:Math.floor(Date.now()),type:"xss",url:i,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==i||(a.url=o),"SSR"===i&&(a.url="SSR___".concat(a.url),a.body.ssr=!0),this.push(a)}},e}());function F(e,t){return O.setConfig(t),new S(t).process(e)}var M=function(e){return-1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,(function(e,t,o,i){return String.fromCharCode(t?parseInt(o,16):parseInt(i))})).replace(/(\t|\n|\r)/g,"").toLowerCase()};function P(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=M(e),f.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!f.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var o=["expression(","behavior:","view-source:"];if(f.some(o,(function(t){return-1!==e.indexOf(t)})))return f.forEach(o,(function(o){-1!==e.indexOf(o)&&t&&t(o)})),!1;var i=["data:application","data:javascript","data:text/html","data:texthtml"];if(f.some(i,(function(t){return-1!==e.indexOf(t)})))return f.forEach(i,(function(o){-1!==e.indexOf(o)&&t&&t(o)})),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var a=e.slice(11).replace(/\s/g,"").trim();return!!f.some(["void","void(0)","void0","false","undefined",";"],(function(e){return e===a}))||(t&&t("javascript:"),!1)}return!0}var R=function(e,t){var o,i,a=!1;if(a=String(a),"string"!=typeof e)return e;if(o=e,i=Number(-1),"NaN"!==o.toString()&&-1!==i&&o.length>=i)return e;if(P(e,t))return e;try{if(!0===(a=!a.startsWith("<%=")&&JSON.parse(a))||"true"===a){var r=new URL(e);return r.origin+r.pathname}}catch(e){return console.log(e),"#"}return"#"};function V(e,t,i){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!P(e=M(e)))return!1;var a=function(e){var t=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[];return{url:t[0],scheme:t[1],slash:t[2],host:t[3],port:t[4],path:t[5],query:t[6],hash:t[7]}}(e),r=a.scheme,l=a.host;return i?Boolean(i(e)):!(!r||!l)&&(!f.includes(["http","https","file"],r)||("object"==typeof window&&window&&(t=o(o([],t,!0),[location.host],!1)),f.some(t,(function(e){return!!(e instanceof RegExp&&e.test(l))||e===l}))))}var U=V,z=V,H=function(e,t){for(var o={},i=0,a=f.keys(e);i<a.length;i++){var r=a[i];Array.isArray(e[r])?o[r]=f.from(e[r]):o[r]=H({},e[r])}for(var l=0,n=f.keys(t);l<n.length;l++)(r=n[l])in e?Array.isArray(e[r])?o[r]=e[r].concat(t[r]):o[r]=H(e[r],t[r]):Array.isArray(t[r])?o[r]=f.from(t[r]):o[r]=H({},t[r]);return o},D={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var B={};B.blackAttrRegExps&&(B.blackAttrRegExps=B.blackAttrRegExps.map((function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))})));var W="merge";f.includes(W,"override")&&(D=B),f.includes(W,"merge")&&(D=H(D,B))}catch(e){console.log(e)}var Z,K={mode:"black",whiteList:{},blackConfig:D,collect:null,initCollect:function(){K.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,o=function(o){Array.isArray(e[o])?0===e[o].length?delete e[o]:(e[o]=f.from(f.uniq(e[o])),t+=e[o].length):0===f.keys(e[o]).length?delete e[o]:f.keys(e[o]).forEach((function(i){e[o][i]=f.from(f.uniq(e[o][i])),t+=e[o][i].length}))},i=0,a=f.keys(e);i<a.length;i++)o(a[i]);return{count:t,ret:e}}(K.collect),t=e.count,o=e.ret;return K.collect=null,{collectKey:0===t?null:JSON.stringify(o),collectMode:"black"}},onIgnoreTag:function(e,t){var o;if(!f.includes(D.blackTags,e)){var i=C(t,(function(e,t,o,i,a){if(-1!==o.indexOf("/"))return m(i);if(a)return"</".concat(o,">");var r=function(e){var t,o=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===o)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=e.slice(o+1,-1).trim())[e.length-1];return i&&(e=e.slice(0,-1).trim()),{html:e,closing:i}}(i),l=k(r.html,(function(e,t){var i,a=0;if(D.blackList[o]&&f.includes(D.blackList[o],e)&&(K.collect.blackList[o]=K.collect.blackList[o]||[],K.collect.blackList[o].push(e),a++),D.blackAttrRegExps.length&&D.blackAttrRegExps.some((function(t){return t.test(e)}))&&f.forEach(D.blackAttrRegExps,(function(t){t.test(e)&&(K.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),a++)})),D.blackAttrs.length&&f.includes(D.blackAttrs,e)&&(D.blackAttrs.push(e),a++),!a){if(D.filterList&&D.filterList[o]&&f.includes(D.filterList[o],e)){var r=R(t,(function(e){var t;null===(t=K.collect)||void 0===t||t.filterProtocol.push(e)}));return r!==t&&(K.collect.filterList[o]=K.collect.filterList[o]||[],K.collect.filterList[o].push(e)),t?"".concat(e,"='").concat(r,"'"):e}return D.filterAttrs&&f.includes(D.filterAttrs,e)?(r=R(t,(function(e){var t;null===(t=K.collect)||void 0===t||t.filterProtocol.push(e)})),r!==t&&(null===(i=K.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(r,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}}));return i="<".concat(o),l&&(i+=" ".concat(l)),r.closing&&(i+=" /"),i+">"}),m);return i}null===(o=K.collect)||void 0===o||o.blackTags.push(e)}},G=function(e){var t=e.reportOnly,o=void 0===t||t,i=e.block;return o&&"all"===o?"report":("string"==typeof o&&("true"===o&&(o=!0),"false"===o&&(o=!1)),i?"enforce":o?"report":"enforce")},q=function(e){return function(o,i,a){if(!o||"string"!=typeof o)return o;var r=i;e===F&&(r=K).initCollect();var l=e(o,r);if(N(l)===N(o))return o;if(!a)return l;var n=a.logType,s=G(a),c=r.removeCollect();return O.report(t(t({type:n,disposition:s},c),{sourceText:w(o.replace(/'/g,'"')),filterText:w(l.replace(/'/g,'"'))})),"enforce"===s?l:o}},$=q((function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new S(t).process(e)})),Y=q(F),Q=(Z=R,function(e,t,o){var i=[],a=Z(e,(function(e){i.push(e)}));if(a===e)return e;i=f.from(f.uniq(i));var r=t||o||{};if(!r)return a;var l=r.logType,n=G(o);return O.report({type:l,disposition:n,collectKey:i.join("___"),collectData:JSON.stringify(i),collectMode:"black",sourceText:w(e),filterText:w(a)}),"enforce"===n?a:e}),J=E._xssProject||{},X=E.xssNamespace||{},ee="3.0.30",te={FilterXSS:S,version:ee,webpackPluginVersion:"3.0.39",reportOnly:"all",filterXSS:$,_filterXSS:Y,filterUrl:Q,BlackConfig:K,project:J,setProjectName:function(e){J[e]=this,E._xssProjectName=e}};X.cc_web_editor_smart_toolbox=te,E.xssNamespace=X,E.Math&&!E.Math.xssNamespace&&(E.Math.xssNamespace=X),J[ee]=te,E.globalThis=E,E.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:te},E.xss=te,E.isSafeUrl=U,E.isSafeDomain=z,E.isSafeProtocol=P,E._xssProject=J,E._xssProjectName&&(J[E._xssProjectName]=te);var oe=te.setProjectName.bind(te);e.BlackConfig=K,e.FilterXSS=S,e._filterXSS=Y,e.filterUrl=Q,e.filterXSS=$,e.isSafeDomain=z,e.isSafeProtocol=P,e.isSafeUrl=U,e.project=J,e.setProjectName=oe,e.setXssNamespace=function(e){var t=e.appId,o=e.bid,i=e.region,a=e.isCloseReport;X[t]=te;var r=K;r.bid=o,r.region=i,r.enabled=!0,r.isCloseReport=a},e.xssNamespace=X,Object.defineProperty(e,"__esModule",{value:!0})})),(window.webpackChunksmart_toolbox=window.webpackChunksmart_toolbox||[]).push([[1806],{2892:function(e,t,o){o.d(t,{A:function(){return Te}});var i=o(99415),a=(o(217),o(54504),o(77674),o(89243)),r=o(24070),l=o(44228),n=o(68605),s=o(67308),c=o(52882),d=o(57691),u=o(78106),p=o(95118),g=o(31399),m=o(62822),f=o(66805),h=o(69874),_=o(89097),v=o(36096),b=o(83105),y=o(7329),x=o(36060),w=o(14148),T=o(4716),j=o(30395),C=o.n(j),k=o(38e3);const A=h.A.SubMenu,N=h.A.Item;var S=(0,n.PA)((e=>{const t=(0,x.B)().i18n,o=(0,s.useContext)(c.xM),i=o.profile,a=o.expandModalInstance,r="",l=(0,s.useMemo)((()=>{const e=i||{},l=e.avatar,n=e.name,s=e.email,c=o.i18n.lvLocale.getSupportLocales(),p=w.F2.language;let g="English";return c.forEach((e=>{const t=e.locale,o=e.text;t===p&&(g=o)})),(0,k.jsxs)(h.A,{children:[(0,k.jsx)(N,{className:"user-info-item",children:(0,k.jsxs)("div",{className:"user-info-container",children:[(0,k.jsxs)("div",{className:"user-info",children:[(0,k.jsx)(u.A,{className:"avatar",alt:"avatar",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(l,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}),(0,k.jsxs)("div",{className:"user-info-detail",children:[(0,k.jsx)(_.A.Text,{className:"detail-item nickname",ellipsis:{cssEllipsis:!0,showTooltip:!0,rows:1},children:n}),s&&(0,k.jsx)(_.A.Text,{className:"detail-item email",ellipsis:{cssEllipsis:!0,showTooltip:!0,rows:1},children:s})]})]}),a&&(0,k.jsx)(T.L,{expandModalInstance:a,eventParams:{currentPage:"smart_tool_page"}})]})},"profile"),(0,k.jsx)(A,{triggerProps:{disabled:Boolean(r)},title:(0,k.jsx)("div",{className:"sub-menu-item__title",children:(0,k.jsx)(v.A,{disabled:!0,content:r,position:"bottom",children:(0,k.jsxs)("span",{className:"label-wrap",children:[(0,k.jsx)("span",{className:"icon-language",children:(0,k.jsx)(d.SRW,{fontSize:20})}),`${t.t("language_web",{},"Language")}: ${g}`]})})}),className:C()("sub-menu-item",{"forbiden-switch":r}),children:c.map((({locale:e,text:i})=>(0,k.jsx)(N,{onClick:()=>(e=>{const i=t.language;e!==i&&o.i18n.i18nSetLang(e).then((()=>{y.EH,y._n.editor,y._e.personalProfile,location.reload()}))})(e),className:"lang-dropdown-item",children:(0,k.jsxs)("div",{className:"lang-item",children:[(0,k.jsx)("span",{className:"check-icon-wrap",children:p===e?(0,k.jsx)(f.A,{className:"checked"}):null}),i]})},e)))},"language")]})}),[i,w.F2.language,r,a]);return(0,k.jsx)("div",{id:"__dropdownMenuComponent",children:(0,k.jsx)(b.A,{triggerProps:{blurToHide:!1,trigger:["click"]},unmountOnExit:!1,droplist:l,position:"bl",children:e.children})})})),I=(0,n.PA)((function(){const e=(0,s.useContext)(c.xM),t=e.profile,o=e.smartToolType,i=e.loginSdk,a=e.expandModalInstance,r=(0,s.useRef)(null),n=(0,s.useMemo)((()=>({pageEnterFrom:"page_header",statusEnterFrom:"page_header",toolType:g.Ww[(0,m.b0)(o)],currentPage:"smart_tool_page"})),[o]);return null!=t&&t.uid?(0,k.jsx)(S,{children:(0,k.jsx)("div",{className:"avatar-wrap",children:(0,k.jsx)(u.A,{className:"avatar",alt:"avatar",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(null==t?void 0:t.avatar,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),crossOrigin:"anonymous"})})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"placeholder-sdk",ref:r,onClick:e=>{var t;null!==(t=r.current)&&void 0!==t&&t.contains(e.target)&&(null==i||i._userService.send({type:"UPDATE_REPORT_PARAMS",params:{pageEnterFrom:"page_header",statusEnterFrom:"page_header",toolType:g.Ww[(0,m.b0)(o)],currentPage:"smart_tool_page"}}))},children:(0,k.jsx)(l.L,{expandModalInstance:a,params:n,signModalClosable:!0,enableReporter:!0,cookieConsent:p.F,afterModalClose:()=>{i.emit("behave:popup:close")}})})})}));const L="/my-edit";var E=o(56741),O=o(87176);const F=["US","GB","CA","AU","NZ"];var M=o(4020),P=o(68044),R=o(11888),V=o(46646),U=o(31635),z=o(46012),H=o(26719),D=o.n(H);const B=e=>Array.isArray(e)?e.map((e=>({...e,report_id:e.resource_id+D().generate()}))):{...e,report_id:e.resource_id+D().generate()};var W=(0,n.PA)((function(){const e=(0,x.B)().i18n,t=(0,s.useContext)(c.xM),o=t.pageLifeCycle,a=t.handleSyncAsset,r=t.isMigrating,l=t.handleExportStart,n=t.handleExportSuccess,d=t.handleExportFail,u=t.handleImageExportDone,p=t.filerCloud,f=t.setExportedVideoAsset,h=t._repotSmartToolPage,_=t._editingMore,b=t.loginSdk,y=t.smartToolType,w=t.profile,T=r||t.aiProcessLoadingForView||o!==c.$u.ViewingProduction||_,j=(0,s.useState)(!1),C=(0,i.A)(j,2),A=C[0],N=C[1],S=(0,s.useState)(!1),I=(0,i.A)(S,2),L=I[0],E=I[1];(0,s.useEffect)((()=>{E(!1)}),[A,T]);const F=e=>{var o;return(null==e?void 0:e.resource_name)||(null===(o=t.mainMaterial)||void 0===o?void 0:o.resourceName)||`Magic tool type ${t.smartToolType} | ${Date.now()}`};return(0,k.jsx)("div",{onMouseEnter:()=>{(T||A)&&E(!0)},onMouseLeave:()=>{E(!1)},children:(0,k.jsx)(v.A,{content:e.t("web_magicTools_text_wait_for_material",{},"Material is being processed. Try again later."),popupVisible:L,children:"video"===t.toolMaterialType?(0,k.jsx)(O.A,{loading:A,disabled:T,type:"primary",onClick:async()=>{if(h({action:"export"}),null!=w&&w.uid){var e;const r=B(null===(e=t.aiWorksList)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.works);t._reportExportTime(r[0]);try{var o;l();const e=await a(r,!0),t=await(null==p?void 0:p._sdk.getAssetByMd5(null===(o=e.sync_asset_state)||void 0===o?void 0:o[0].md5));f({...t._sourceData,duration:t._sourceData.duration||3e3,relatedPlayInfo:{key:t.previewKey,url:t.previewUrl}}),n()}catch(i){z.Zq.log("smart_toolbox","failed to sync on export",i,{scene:"handleExport"}),d()}finally{N(!1)}}else null==b||b.login({enter_from:"export",tool_type:g.Ww[(0,m.b0)(y)],current_page:"smart_tool_page"})},children:e.t("web_tool_Export",{},"Export")}):(0,k.jsx)(O.A,{loading:A,disabled:T,type:"primary",onClick:async()=>{var e,o;if(h({action:"export"}),null!=w&&w.uid){N(!0);try{let i;switch(l(),y){case g.K8.ImageToImage:case g.K8.TextToImage:i=B(t.aiWorksInView),i.forEach((e=>{t._reportExportTime(e),(0,m.G4)(e.image.url,F(e))})),await a(i,!0);break;case g.K8.ImageRestoration:case g.K8.ImageNightEnhance:case g.K8.ImageAiToning:i=B(null===(e=t.aiWorksList)||void 0===e?void 0:e[0].works.find((e=>e.level===t.attributes.level))),t._reportExportTime(i),(0,m.G4)(i.image.url,F(i)),await a([i],!0);break;case g.K8.ImageColoring:case g.K8.ImageStyleAvatar:case g.K8.ImageStyleConversion:case g.K8.ImageUpscaler:i=B(null===(o=t.aiWorksList)||void 0===o||null===(o=o[0].works)||void 0===o?void 0:o[0]),t._reportExportTime(i),(0,m.G4)(i.image.url,F(i)),await a([i],!0)}}catch(i){z.Zq.log("smart_toolbox","failed to sync on export",i,{scene:"handleExport"})}finally{u(),N(!1)}}else null==b||b.login({enter_from:"export",tool_type:g.Ww[(0,m.b0)(y)],current_page:"smart_tool_page"})},children:[g.K8.ImageToImage,g.K8.TextToImage].includes(y)?e.t("web_magictools_button_export_all",{},"Export all"):e.t("web_tool_Export",{},"Export")})})})})),Z=(0,n.PA)((function(){return null})),K=o(44390),G=o(53265),q=o(90157),$=o(62214),Y=(0,n.PA)((function(){const e=(0,s.useContext)(c.xM),t=e.aiWorksInView,o=e.aigcOutImageRatio,i=e._selectedAiMaterials,a=e.setSelectedAiMaterials;return(0,k.jsx)("div",{style:o>1?{display:"grid",gridTemplateRows:`repeat(${t.length}, 100px)`,rowGap:8}:t.length<=3?{display:"grid",gridTemplateColumns:`repeat(${t.length}, 100px)`,columnGap:8}:{display:"grid",gridTemplateRows:"repeat(2, 1fr)",gridTemplateColumns:"repeat(2, 1fr)",gap:8},children:t.map(((e,t)=>{var r;return(0,k.jsx)("div",{className:"edit-more-img-item",style:{backgroundImage:`url(${null==e||null===(r=e.image)||void 0===r?void 0:r.url})`,position:"relative",...o>1?{height:100,width:100*o}:{width:100,height:100/o}},children:(0,k.jsx)($.A,{checked:i.includes(e),className:-1!==i.indexOf(e)?void 0:"edit-more-checkbox",style:{position:"absolute",top:4,right:4},onChange:t=>{if(t)a([...i,e]);else{const t=[...i],o=t.indexOf(e);t.splice(o,1),a([...t])}}})},t)}))})})),Q=(0,n.PA)((function(){var e,t,o;const a=(0,s.useContext)(c.xM),r=a.pageLifeCycle,l=a.isMigrating,n=a.eventTracker,d=a._repotSmartToolPage,u=a._setEditingMore,p=a._selectedAiMaterials,f=a.handleEditMore,h=a.loginSdk,_=a.profile,b=a.smartToolType,y=l||a.aiProcessLoadingForView||r===c.$u.DefaultEmpty||r===c.$u.AIProcessing||r===c.$u.Uploading||r===c.$u.Transcoding||r===c.$u.Exporting,T=(0,s.useState)(!1),j=(0,i.A)(T,2),C=j[0],A=j[1],N=(0,x.B)().i18n,S="default",I=(0,s.useState)(!1),L=(0,i.A)(I,2),E=L[0],F=L[1];(0,s.useEffect)((()=>{F(!1)}),[C,y]);const M=async()=>{if(d({action:"editor",...a._getAttributeReportParams()}),null==_||!_.uid)return void(null==h||h.login({enter_from:"editor",tool_type:g.Ww[(0,m.b0)(b)],current_page:"smart_tool_page"}));const e=Date.now();try{A(!0),u(!0),q.Ay.performanceMarkStart("GENERATE_DRAFT"),await f(),F(!1),q.Ay.performanceMarkEnd("GENERATE_DRAFT",{detail:{event_type:"key_path_perf",action_name:"GENERATE_DRAFT",status:"success"}})}catch(t){q.Ay.performanceMarkEnd("GENERATE_DRAFT",{detail:{event_type:"key_path_perf",action_name:"GENERATE_DRAFT",status:"fail"}}),z.Zq.log("edit_more","edit more has work error",t)}finally{null==n||n.track("create_draft_time",{tool_type:g.Ww[(0,m.b0)(a.smartToolType)],time:Date.now()-e},{business:[G.PK.Tool]}),A(!1),u(!1)}};return[g.oQ.ImageToImage,g.oQ.TextToImage].includes(a.smartToolType)&&(null===(e=a.aiWorksInView)||void 0===e?void 0:e.length)>1&&null!==(t=a.aiWorksInView)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&null!==(t=t.image)&&void 0!==t&&t.url?(0,k.jsx)(K.A,{triggerProps:{showArrow:!1},disabled:!(null!==(o=a.profile)&&void 0!==o&&o.uid),position:"br",title:(0,k.jsx)("div",{style:{fontWeight:800,fontSize:"16px",lineHeight:"24px"},children:N.t("web_magicTools_text_select_edit_image",{},"Select images to edit")}),className:"edit-more-popover",content:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"edit-more-group-container",style:{margin:"12px 0"},children:(0,k.jsx)(Y,{})}),(0,k.jsx)(O.A,{disabled:0===p.length,loading:C,style:{width:"100%"},onClick:M,type:S,children:w.F2.t("web_magicTools_button_edit_more",{},"Edit more")})]}),trigger:"click",children:(0,k.jsx)("div",{onMouseEnter:()=>{(y||C)&&F(!0)},onMouseLeave:()=>{F(!1)},children:(0,k.jsx)(v.A,{content:N.t("web_magicTools_text_wait_for_material",{},"Material is being processed. Try again later."),popupVisible:E,children:(0,k.jsx)(O.A,{loading:C,onClick:()=>{var e;null!==(e=a.profile)&&void 0!==e&&e.uid||null==h||h.login({enter_from:"edit_more_in_timeline",tool_type:g.Ww[(0,m.b0)(b)],current_page:"smart_tool_page"})},type:S,children:w.F2.t("web_magicTools_button_edit_more",{},"Edit more")})})})}):(0,k.jsx)("div",{onMouseEnter:()=>{(y||C)&&F(!0)},onMouseLeave:()=>{F(!1)},children:(0,k.jsx)(v.A,{content:N.t("web_magicTools_text_wait_for_material",{},"Material is being processed. Try again later."),popupVisible:E,children:(0,k.jsx)(O.A,{disabled:y,loading:C,onClick:M,type:S,children:w.F2.t("web_magicTools_button_edit_more",{},"Edit more")})})})})),J=(0,n.PA)((function(){const e=(0,s.useContext)(c.xM),t=(0,x.B)().i18n,o=(0,P.G)(e.loginSdk),i=function(e){var t;const o=(0,s.useMemo)((()=>F.some((t=>t===e))),[e]),i=null===(t=window.navigator)||void 0===t||null===(t=t.language)||void 0===t?void 0:t.startsWith("en"),a=w.F2.language.startsWith("en"),r=!window.is_sensitive_region;return(o||i||a)&&r}(o),a=(0,V.Q)().isShow;return(0,s.useEffect)((()=>{window.addEventListener("beforeunload",(t=>{e.doNotBlockWindowClose||(t.returnValue="Confirm to Back?")}))}),[]),(0,k.jsxs)("header",{className:"st-header lv-theme","lv-theme":"dark","lv-theme-version":"2.0",children:[(0,k.jsxs)("div",{className:"st-header__left",children:[(0,k.jsx)("div",{className:"st-header__logo",onClick:function(){e._repotSmartToolPage({action:"back"}),function(){const o=_.A.Title,i=_.A.Paragraph,a=E.A.confirm({simple:!0,closable:!1,title:null,className:"go-back-modal",content:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(o,{className:"title",heading:6,children:t.t("web_tool_cancel_confirm1",{},"Save this project\uff1f")}),(0,k.jsx)(i,{children:t.t("web_tool_cancel_confirm2",{},"You haven\u2019t saved your project.")})]}),footer:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(O.A,{type:"secondary",style:{boxShadow:"none"},onClick:()=>{e._repotSmartToolPage({action:"back_continue"}),a.close()},children:t.t("web_stay",{},"Cancel")}),(0,k.jsx)(O.A,{type:"primary",status:"danger",onClick:()=>{e._repotSmartToolPage({action:"back_confirm"}),e.doNotBlockWindowClose=!0,e.persistStore.setStopSaving(),window.sessionStorage.clear();const t="cloud"===e.loginType?L:"/";(0,U.T)().provideReflowFlag(t,!0),window.location.replace(new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(`${t}?enter_from=page_header&from_page=smart_tool_page`,null,{logType:"js.window.location",mode:"black",reportOnly:"all"})),a.close()},children:t.t("web_leave",{},"Leave")})]})})}()},children:(0,k.jsx)(d.Fs4,{})}),(0,k.jsx)("div",{className:"st-header__split"}),(0,k.jsx)("div",{className:"st-header__left-content",children:(0,k.jsx)(M.A,{smartToolType:e.smartToolType,theme:e.theme,region:o,onClick:(t,o)=>{e._repotSmartToolPage({action:g.oQ[(0,m.b0)(t)]}),((t,o)=>{e._reportAllToolEntrance({action:"click",tool_type:g.Ww[(0,m.b0)(t)]||"",from_tool_type:g.Ww[(0,m.b0)(e.smartToolType)]||"",current_page:"smart_tool_page",category:o})})(t,o)},isShowU2V:i,handleToolEntranceShow:(t,o)=>{e._reportAllToolEntrance({action:"show",tool_type:g.Ww[(0,m.b0)(t)]||"",from_tool_type:g.Ww[(0,m.b0)(e.smartToolType)]||"",current_page:"smart_tool_page",category:o})},isShowLongToShort:a,getAbTestConfig:(e,t)=>R.A.getVar(e,t)})})]}),(0,k.jsxs)("div",{className:"st-header__right",children:[e.pageLifeCycle!==c.$u.Exported&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"st-header__button-group",children:[(0,k.jsx)(Z,{}),(0,k.jsx)(Q,{}),(0,k.jsx)(W,{})]}),(0,k.jsx)("div",{className:"st-header__split"})]}),(0,k.jsx)(I,{})]})]})})),X=o(88411),ee=o(50501),te=o(22194);function oe(e){(0,s.useLayoutEffect)((()=>function(e){const t=window.matchMedia("(prefers-color-scheme: dark)"),o=t=>{e.onThemeChange(t.matches?te.Sx.Dark:te.Sx.Light)};t.addListener(o);const i=t=>{const o=t.key,i=t.newValue,a=t.oldValue;o===X.A$&&a!==i&&i&&e.onThemeChange(i)};return window.addEventListener("storage",i),()=>{t.removeListener(o),window.removeEventListener("storage",i)}}({onThemeChange:t=>e.store.updateTheme(t)})),[]),(0,s.useLayoutEffect)((()=>{const t=window.localStorage.getItem(X.A$),o=Boolean(t)&&t===te.Sx.Dark?te.Sx.Dark:te.Sx.Light;e.store.updateTheme(o),(0,ee.mJ)((()=>e.store.theme),(e=>{e===te.Sx.Dark?(document.body.setAttribute("lv-theme","dark"),document.body.setAttribute("arco-theme","dark")):(document.body.removeAttribute("lv-theme"),document.body.removeAttribute("arco-theme")),window.localStorage.setItem(X.A$,e)}),{fireImmediately:!0})}),[])}var ie=o(68042),ae=o(2754),re=o(40239);var le=({config:e,onClick:t,visible:a,onCancel:r})=>{const l=(0,s.useState)(!1),n=(0,i.A)(l,2),c=n[0],u=n[1];(0,s.useEffect)((()=>{(async()=>{await o.e(4836).then(o.bind(o,4836))})().then((()=>u(!0)))}),[]);const p=a&&c,g=(0,s.useState)(),m=(0,i.A)(g,2),f=m[0],h=m[1];return(0,s.useEffect)((()=>{var e;p||(null==f||null===(e=f.playerIns)||void 0===e||e.pause())}),[p,null==f?void 0:f.playerIns]),e.video_link?(0,k.jsx)(E.A,{mountOnEnter:!1,unmountOnExit:Boolean(null==f?void 0:f.playerState.error),className:"guide-dialog",onCancel:r,footer:null,closable:!1,autoFocus:!1,visible:p,children:(0,k.jsxs)("div",{className:"tools-guide-dialog",children:[(0,k.jsxs)("div",{className:"tools-guide-dialog-header",children:[(0,k.jsx)(d.huh,{className:"guide-tip-icon"}),(0,k.jsx)("div",{className:"title",children:e.title}),(0,k.jsx)("div",{className:"header-right",children:(0,k.jsx)(d.gzW,{className:"close-icon",onClick:t})})]}),(0,k.jsx)("div",{className:"tools-guide-dialog-content",children:(0,k.jsx)(re.A,{config:{url:e.video_link,poster:e.image_link},controlsOptions:{volume:!0},onStateUpdate:h})})]})}):null},ne=o(58933);ne.oQ.TextToImage,ne.oQ.ImageToImage,ne.oQ.ImageStyleAvatar,ne.oQ.ImageNightEnhance,ne.oQ.ImageStyleConversion,ne.oQ.ImageUpscaler,ne.oQ.ImageAiToning,ne.oQ.ImageColoring,ne.oQ.ImageRestoration,ne.oQ.VideoStyleConversion,ne.oQ.VideoUpscaler,ne.oQ.VideoSlowMotion,ne.oQ.VideoStabilization,ne.oQ.Resize,ne.oQ.RemoveBackground,ne.oQ.Script,ne.oQ.ImageToImage,ne.oQ.TextToImage,ne.oQ.Script,ne.oQ.RemoveBackground,ne.oQ.ImageUpscaler,ne.oQ.ImageStyleConversion,ne.oQ.ImageStyleAvatar,ne.oQ.Resize,ne.oQ.VideoUpscaler,ne.oQ.ImageRestoration,ne.oQ.ImageAiToning,ne.oQ.ImageColoring,ne.oQ.ImageNightEnhance,ne.oQ.VideoSlowMotion,ne.oQ.VideoStabilization,ne.oQ.VideoStyleConversion;var se=o(72912),ce=(0,n.PA)((function(){const e=(0,s.useContext)(c.xM),t=(0,s.useState)(!1),o=(0,i.A)(t,2),a=o[0],r=o[1];function l(){r(!1)}(0,s.useEffect)((()=>{const t=`tool_guide-${e.smartToolType}`;localStorage.getItem(t)||(0,se.W)(e.loginSdk).then((()=>{r(!0),localStorage.setItem(t,"done")}))}),[]);const n={[ne.oQ.ImageToImage]:{title:w.F2.t("web_magicTools_text_text_image_generate",{},"How to generate creative images from text and images"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_ImageToImage.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_ImageToImage.jpg"},[ne.oQ.TextToImage]:{title:w.F2.t("web_magicTools_text_text_generate",{},"How to generate creative images from text"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_TextToImage.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_TextToImage.jpg"},[ne.oQ.ImageUpscaler]:{title:w.F2.t("web_magicTools_text_clearer_image",{},"How to enhance image sharpness"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_ImageUpscaler.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_ImageUpscaler.jpg"},[ne.oQ.ImageStyleConversion]:{title:w.F2.t("web_magicTools_text_diversity_image_style",{},"How to generate images in different styles"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_ImageStyleConversion.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_ImageStyleConversion.jpg"},[ne.oQ.ImageStyleAvatar]:{title:w.F2.t("web_magicTools_text_avatar_generate",{},"How to create engaging portraits"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_ImageStyleAvatar.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_ImageStyleAvatar.jpg"},[ne.oQ.VideoUpscaler]:{title:w.F2.t("web_magicTools_text_make_video_clearer",{},"How to enhance video sharpness"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_VideoUpscaler.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_VideoUpscaler.jpg"},[ne.oQ.ImageRestoration]:{title:w.F2.t("web_magicTools_text_image_new_look",{},"How to restore old photos"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_ImageRestoration.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_ImageRestoration.jpg"},[ne.oQ.ImageAiToning]:{title:w.F2.t("web_magicTools_text_more_colorful_image",{},"How to increase image saturation"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_ImageAiToning.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_ImageAiToning.jpg"},[ne.oQ.ImageColoring]:{title:w.F2.t("web_magicTools_text_colorize_image",{},"How to colorize black and white photos"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_ImageColoring.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_ImageColoring.jpg"},[ne.oQ.ImageNightEnhance]:{title:w.F2.t("web_magicTools_text_make_photo_brighter",{},"How to enhance low-light images"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_ImageNightEnhance.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_ImageNightEnhance.jpg"},[ne.oQ.VideoSlowMotion]:{title:w.F2.t("web_magicTools_text_silky_slow_effect",{},"How to create smooth slow-motion effects in videos"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_VideoSlowMotion.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_VideoSlowMotion.jpg"},[ne.oQ.VideoStabilization]:{title:w.F2.t("web_magicTools_text_consistent_video",{},"How to stabilize shaky videos"),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_VideoStabilization.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_VideoStabilization.jpg"},[ne.oQ.VideoStyleConversion]:{title:w.F2.t("web_magicTools_toast_change_video_style",{},"Want to change your video style to meet different needs? CapCut's magic tools help you out with a breeze."),video_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/guide_VideoStyleConversion.mp4",image_link:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/ies.lvve-smart-toolbox-os.editor.oversea/static/manual/poster_VideoStyleConversion.jpg"}}[e.smartToolType];return e.pageLifeCycle===c.$u.Exported?null:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"guide-icon-wrapper",onClick:()=>{a||r(!0)},children:(0,k.jsx)(d.huh,{className:"guide-icon"})}),(0,k.jsx)(le,{config:n,onClick:l,visible:a,onCancel:l})]})})),de=o(47263),ue=o(57672);var pe=o(18982),ge=o(13662),me=o(64061),fe=o(25344),he=o(55964),_e=o(50135),ve=o(81316);o(62820);var be=({className:e})=>{const t=(0,x.B)().i18n;return(0,k.jsx)("div",{className:"compatibility",children:(0,k.jsx)("div",{className:C()("compatibility-wrapper",e),style:{width:"100vw",height:"100vh"},children:(0,k.jsxs)("div",{className:"compatibility-container",children:[(0,k.jsxs)("div",{className:"compatibility-body",children:[(0,k.jsx)("h1",{className:"compatibility-title",children:t.t("could_not_open_web",{},"The current page cannot be opened")}),(0,k.jsx)("p",{className:"compatibility-subtitle",children:t.t("better_experience_choose_another_device",{},"In order to ensure a better user experience, you may be able to open the webpage by changing the device")})]}),(0,k.jsx)("div",{className:C()("compatibility-cover","compatibility-image-computer")})]})})})},ye=o(8249),xe=(0,n.PA)((function(){const e=(0,x.B)().i18n,t=_e.A.smartToolType,o=(0,s.useState)(""),a=(0,i.A)(o,2),r=a[0],l=a[1],n=(0,s.useState)(""),c=(0,i.A)(n,2),d=c[0],u=c[1],p=(0,s.useState)(""),m=(0,i.A)(p,2),f=m[0],h=m[1];return(0,s.useEffect)((()=>{switch(t){case g.K8.ImageUpscaler:l(e.t("web_magicTools_text_elevate_your_viewing",{},"Elevate Your Viewing Experience by AI Picture Enhancer")),u("Want an AI picture enhancer to upscale image to 4K for a better viewing experience? CapCut helps you achieve this easily."),h("image upscaler, ai image enlarger, image quality enhancer, ai image upscaler, ai upscale image, upscale image online, photo quality enhancer online free, photo upscaler, image upscaler free, pic quality enhancer, image enhance free, online image enhance, photo resolution enhance, image enhancer online free, upscale image ai, free image upscaler, ai upscale image free, best ai photo enhancer, upscale image free, upscale image to 4k, image upscaler online free, photo enhancer ai, ai image upscaler free, upscale picture, image enhancer ai, image upscaler ai, image quality enhancer free, ai picture enhancer, photo upscale, upscale image online free");break;case g.K8.VideoUpscaler:l(e.t("web_magicTools_text_upscale_video_experience",{},"Auto Upscale Video to 4K for Premium Viewing Experience")),u("With versatile magic tools, CapCut takes your video to the next level by upscaling video to 4K for better viewing."),h("video upscaler, ai upscale video, ai video upscaling, upscale 4k, upscale video online, video upscaler online free, video upscaler online, upscale video online free, ai video upscaler, video upscaler free, upscale video to 4k, video upscaling online, ai video upscaling free, ai upscaling video online free, free video upscaler online, video upscaling online free, free video upscaler, upscale video free");break;case g.K8.VideoStyleConversion:l(e.t("web_magicTools_text_stylize_your_video",{},"Stylize Your Video to Meet Different Purposes")),u("Want to change your video style to meet different needs? CapCut's magic tools help you out with a breeze."),h("video style transfer, style transfer video, real time neural style transfer for videos, ai video style transfer, neural style transfer video, ai style transfer video, style transfer for video");break;case g.K8.ImageStyleAvatar:l(e.t("web_magicTools_text_generate_portrait",{},"Generate Portrait from One Style to Another")),u("Want to change your portrait style to your liking? CapCut's AI portrait maker enables you to generate portrait styles in one click."),h("portrait generator, ai portrait generator, ai generated portrait, ai portrait generator free, free ai portrait generator, ai portrait maker, portrait ai generator, portrait generator from photo, ai portrait generator app");break;case g.K8.ImageStyleConversion:l(e.t("web_magicTools_text_stylize_photos",{},"Stylize Photos to Your Liking in CapCut")),u("Want a smart image stylizer to style your photos for different use scenarios? CapCut meets your needs with easy clicks."),h("image style transfer, style transfer, neural style transfer, ai art style transfer, ai image style transfer, image style transfer online, artistic style transfer, photo style transfer, style transfer images, ai image style transfer online, ai photo style transfer, image stylization");break;case g.K8.VideoSlowMotion:l(e.t("web_magicTools_text_super_slow_motion",{},"Smooth Your Video with Super Slow Motion")),u("CapCut's magic tools make it possible to make your video smooth and engaging. That's where super slow motion comes in."),h("super slow motion, super slow mo, super slomo, super slow motion video, super smooth slow motion, video super slow motion");break;case g.K8.ImageToImage:l(e.t("web_magicTools_text_image_from_image",{},"Generate Image from an Image in One Click")),u("CapCut boasts a preset AI image generator that enables you to generate image from an image with one click, high quality."),h("image to image, image to image ai, ai image to image, image to image ai generator, image to image converter, ai image to image generator");break;case g.K8.TextToImage:l(e.t("web_magicTools_text_auto_convert_image",{},"Auto Convert Text to Image in One Click")),u("Want to convert text to image in one click with an AI-powered generator? CapCut's magic tools get you covered."),h("text to image, text to image generator, ai text to image generator, text to image ai generator, text-to-image ai, best text to image ai, text to image ai free, ai text-to-image generator, text to image generator ai, text image creator, text to picture generator, text to image converter");break;case g.K8.VideoStabilization:l(e.t("web_magicTools_text_stabilize_video",{},"Stabilize Video for a Better Viewing with CapCut")),u("Looking for an AI video stabilization tool to make your video pleasing to the eye? CapCut fixes this issue automatically."),h("video stabilization, stablize video, video stablizer, stablize video online, free video stabilizer, how to stablize a video, best video stabilizer, ai video stabilization");break;case g.K8.ImageAiToning:l(e.t("web_magicTools_text_correct_color_tools",{},"Correct Color with CapCut's AI Magic Tools")),u("Want to enhance the visual experience by correcting color automatically? CapCut boasts an AI color correction tool that aims to meet your needs."),h("color correction, color correction photoshop, color correction premiere pro, color correction near me, davinci resolve color correction, photo color correction, color correction after effects, color correction premiere, adobe premiere color correction, ai color correction");break;case g.K8.ImageColoring:l(e.t("web_magicTools_text_colorize_black_white",{},"AI Colorizer Brings Your Black and White Photos to Life")),u("Colorize a black-and-white photo in one click with the AI-powered magic tools provided by CapCut. Free for use with no learning curve."),h("colorize photo, colorize black and white photos, photo colorizer, colorize photos, color in black and white photos, color black and white photos, colorized photos, ai colorize photo, colorize photo online free, colorizing black and white photos, how to colorize black and white photos, colorize a black and white photo, colorize a photo, colorize old photos");break;case g.K8.ImageRestoration:l(e.t("web_magicTools_text_ai_restore_photos",{},"Let AI Restore Photos to Your Liking in One Click")),u("Looking for smart ways to bring your old photos to life? Never miss out on the AI restoration tool of CapCut to redefine your photos."),h("photo restoration near me, photo restoration, old photo restoration, restore old photos, restore photos, how to restore photos from icloud, photo restoration services, restoring old photos, ai photo restoration, how to restore old photos, old photo restoration online free, photo restoration software, ai photo restoration free, photo restoration online free, restore old photos online free");break;case g.K8.ImageNightEnhance:l(e.t("web_magicTools_text_low_light_image",{},"Bring Your Low-light Image to Life with One Click")),u("Looking for a smart way to enhance your low-light image? Turn to CapCut for its magic tools under one roof."),h("low light image enhancement, low light enhancement, low light image enhancement with normalizing flow, low light image enhancement deep learning, low light image enhancement online");break;default:l(""),u(""),h("")}})),(0,k.jsx)(ye.A,{title:r,description:d,keywords:f})}));window.ccWebSlardar=ge.A,(0,ee.jK)({enforceActions:"always"}),window.__mobx_toJS__=ee.HO,(0,pe.F)(),Promise.all([o.e(3136),o.e(6590),o.e(782),o.e(1706),o.e(9978),o.e(8897),o.e(6236),o.e(1661),o.e(8730),o.e(2364),o.e(833)]).then(o.bind(o,2364));const we=(0,r.N)().isMobile;var Te=(0,n.PA)((()=>{var e;const t=(0,s.useState)(!1),o=(0,i.A)(t,2),r=o[0],n=o[1];oe({store:_e.A}),(e=>{var t;const o=null===(t=e.filerCloud)||void 0===t?void 0:t.store.globalMaterialsLoading;(0,s.useEffect)((()=>{!o&&e.relatedAssetId&&(async()=>{var t;const o=null===(t=e.filerCloud)||void 0===t?void 0:t.store.globalMaterials,i=null==o?void 0:o.find((t=>t.assetId===e.relatedAssetId));try{const t=await(0,de._x)(e.filerCloud,i.md5);e.handleSelectCloudFile(t)}catch(r){var a;return void(null===(a=e.filerCloud)||void 0===a||a.refreshGlobalMaterials())}i.playInfo||i.fileStatus!==ue.o.Online||(e.filerCloudStore.packageAssetsUpdate({md5:i.md5,material:{fileStatus:ue.o.Transcoding}}),e.filerCloudStore.dirtySet("transcode",!0)),e.handleUploadSuccess({md5:i.md5,source:"my_space"});try{const t=localStorage.getItem("relatedPlayInfo"),o=JSON.parse(t||"{}");e.setOriginalPlayInfo(o),e.setRelatedAssetId("")}catch(l){console.error("parse error")}})()}),[o])})(_e.A),(0,ae.A)((async()=>{const e=await(0,me.I)();_e.A.doNotBlockWindowClose=e,n(e)})),(0,s.useEffect)((()=>{var e,t;(0,U.t)(),null===(e=_e.A.eventTracker)||void 0===e||e.trackerBoomerang("smart_tool_init",{tool_type:g.Ww[(0,m.b0)(_e.A.smartToolType)],time:performance.now()},{business:[G.PK.Tool]}),null===(t=_e.A.eventTracker)||void 0===t||t.trackerBoomerang("smart_tool_page",{action:"show",...(0,m.sb)(),tool_type:g.Ww[(0,m.b0)(_e.A.smartToolType)]},{business:[G.PK.Tool]})}),[]);const d=_e.A.pageLifeCycle===c.$u.Exporting||_e.A._editingMore;return we?(0,k.jsx)(be,{}):(0,k.jsxs)(l.a,{service:ve.A._userService,options:{isBOE:a.SC,loginSuccessCb:()=>{var e;ve.A.emit("behave:login:success"),null===(e=_e.A[fe.kQ])||void 0===e||e.dirtySet("migrate",!0)},userLoginedCb:e=>{_e.A.setUserProfile(e)},refreshWorkspaceListCb:e=>{var t;_e.A.setWorkspaceList(e),_e.A.setSpaceDirectoryAssetId({assetId:"-1",name:(null===(t=e.find((e=>{var t;return e.workspace_id===(null===(t=_e.A.profile)||void 0===t?void 0:t.spaceInfo.workspaceId)})))||void 0===t?void 0:t.name)||""})}},children:[(0,k.jsx)(c.xM.Provider,{value:_e.A,children:(0,k.jsxs)(ie.Dk,{children:[(0,k.jsx)(xe,{}),(0,k.jsxs)("div",{className:"st-app",children:[(0,k.jsx)(J,{}),(0,k.jsx)("div",{className:C()("st-app__body",{disabled:d}),children:r?null:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(he.Ay,{}),(0,k.jsx)(ce,{})]})})]})]})}),(0,k.jsx)(p.h,{countryCode:(null===(e=window)||void 0===e?void 0:e.__locationCountryCode)||""})]})}))},54439:function(e,t,o){o.d(t,{kU:function(){return N},tm:function(){return j},HH:function(){return A}});var i=o(99415),a=o(68605),r=o(57691),l=o(16942),n=o(95118),s=o(42958),c=o(31399),d=o(62822),u=o(52882),p=o(30395),g=o.n(p),m=o(36096),f=o(69874),h=o(14554),_=o(83105),v=o(36060),b=o(67308),y=o(46538),x=JSON.parse('{"v":"5.6.10","fr":60,"ip":0,"op":48,"w":108,"h":108,"nm":"\u5408\u6210 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":14.475,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":42.105,"s":[-14]},{"t":46,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[54,54,0],"to":[0,2.833,0],"ti":[0,-2.833,0]},{"i":{"x":0.667,"y":0.667},"o":{"x":0.333,"y":0.333},"t":5.264,"s":[54,71,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":13.158,"s":[54,71,0],"to":[0,-2.833,0],"ti":[0,2.833,0]},{"t":14.474609375,"s":[54,54,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":14.475,"s":[100,60,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":22.369,"s":[130,130,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":42.105,"s":[130,130,100]},{"t":46,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.423,0],[0,0],[0,-2.209],[0,0],[0,0],[0,-2.209],[0,0],[0.168,-0.449],[0,0],[1.667,0],[0,0],[0,0]],"o":[[0.717,-1.229],[0,0],[2.209,0],[0,0],[0,0],[2.209,0],[0,0],[0,0.48],[0,0],[-0.585,1.561],[0,0],[0,0],[0,0]],"v":[[-6.158,-17.016],[-2.702,-19],[0,-19],[4,-15],[4,-7],[16,-7],[20,-3],[20,2.275],[19.745,3.679],[14.973,16.404],[11.228,19],[-12,19],[-12,-7]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,-2.209],[0,0],[-2.209,0],[0,0],[0,0]],"o":[[-2.209,0],[0,0],[0,2.209],[0,0],[0,0],[0,0]],"v":[[-16,-7],[-20,-3],[-20,15],[-16,19],[-15,19],[-15,-7]],"c":true},"ix":2},"nm":"\u8def\u5f84 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.79,0.88,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false}],"ip":0,"op":48,"st":0,"bm":0}],"markers":[]}'),w=o(38e3);const T={size:20,fill:"white"},j=((0,a.PA)((function({onThumbUp:e,onThumbDown:t,like:o=!1,dislike:a=!1,smallSize:l=!1}){const n=(0,b.useState)(!1),s=(0,i.A)(n,2),c=s[0],d=s[1],u=(0,b.useState)(!1),p=(0,i.A)(u,2),g=p[0],f=p[1],h=(0,v.B)().i18n;return(0,w.jsxs)("div",{className:"actionsContainer",children:[(0,w.jsx)(m.A,{className:"st-tooltip",popupVisible:g,content:h.t("web_like",{},"Like"),children:(0,w.jsx)("div",{className:"actionMaskLike actionMask",style:{width:l?28:void 0,height:l?28:void 0},onClick:t=>{d(!0),t.stopPropagation(),null==e||e()},onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},children:o?c?(0,w.jsx)(y.e,{config:{loop:!1,autoplay:!0,animationData:x},playingState:"playing",lottieEventListeners:[{name:"complete",callback:()=>{d(!1)}}]}):(0,w.jsx)(r.eGm,{...T,className:"like"}):(0,w.jsx)(r.AU2,{...T})})}),(0,w.jsx)(m.A,{className:"st-tooltip",content:h.t("web_dislike",{},"Dislike"),children:(0,w.jsx)("div",{className:"actionMask",style:{width:l?28:void 0,height:l?28:void 0},onClick:e=>{e.stopPropagation(),null==t||t()},children:a?(0,w.jsx)(r.FaQ,{...T}):(0,w.jsx)(r.bEF,{...T})})})]})})),(0,a.PA)((function({onFullScreen:e,onDownload:t}){const o=(0,v.B)().i18n;return(0,w.jsxs)("div",{className:"actionsContainer",children:[t&&(0,w.jsx)(m.A,{className:"st-tooltip",content:o.t("web_download",{},"Download"),children:(0,w.jsx)("div",{className:"actionMask",onClick:t,children:(0,w.jsx)(r.h5b,{...T})})}),(0,w.jsx)(m.A,{className:"st-tooltip",content:o.t("web_full_screen",{},"Full Screen"),children:(0,w.jsx)("div",{className:"actionMask",onClick:e,children:(0,w.jsx)(r.kwK,{...T})})})]})}))),C=({icon:e,tooltip:t,onClick:o,className:i,iconClassName:a})=>(0,w.jsx)(m.A,{content:t,children:(0,w.jsx)("div",{onClick:o,className:i||"feedback-btn-container",children:(0,w.jsx)("span",{className:a||"feedback-btn-icon",children:e})})});function k({like:e,dislike:t,onThumbDown:o,onThumbUp:a,reporterData:u,onReported:p,smartToolType:g,reportModalClassName:f}){const h=(0,b.useState)(!1),_=(0,i.A)(h,2),T=_[0],j=_[1],k=(0,v.B)().i18n;return(0,w.jsxs)("div",{className:"feedback-action-group",children:[(0,w.jsx)(C,{className:"feedback-btn-container feedback-btn-container-like",onClick:()=>{j(!0),null==a||a()},tooltip:k.t("web_like",{},"Like"),iconClassName:e&&T?"feedback-btn-lottie-icon":"",icon:e?T?(0,w.jsx)(y.e,{config:{loop:!1,autoplay:!0,animationData:x},playingState:"playing",lottieEventListeners:[{name:"complete",callback:()=>{j(!1)}}]}):(0,w.jsx)(r.eGm,{style:{color:"#00CAE0"},className:"like"}):(0,w.jsx)(r.AU2,{})}),(0,w.jsx)(C,{onClick:()=>{null==o||o()},tooltip:k.t("web_dislike",{},"Dislike"),className:"feedback-btn-container feedback-btn-container-dislike",icon:t?(0,w.jsx)(r.FaQ,{className:"dislike-icon"}):(0,w.jsx)(r.bEF,{})}),(0,w.jsx)(m.A,{content:k.t("web_s2v_report_hover_report",{},"Report"),children:(0,w.jsx)("span",{children:(0,w.jsx)(l.C0,{className:"feedback-btn-container",wrapClassName:f,data:u,onOk:p,domain:s.s.getVars(),cookieConsent:n.F,enableReporter:!0,reportParams:{current_page:"smart_tool_page",tool_type:c.Ww[(0,d.b0)(g)]||"",aigc_content_id:u.gen_image_uri},children:(0,w.jsx)(r.AIL,{className:"feedback-btn-icon"})})})})]})}const A=({onCopy:e,onUseAsRef:t,feedback:o,className:i,theme:a})=>{const l=(0,v.B)().i18n,n=(0,b.useContext)(u.xM).smartToolType;return(0,w.jsxs)(f.A,{"lv-theme":a,className:g()(i,"more-action-menu"),style:{maxHeight:250},onClick:e=>{e.stopPropagation()},onClickMenuItem:(o,i)=>{switch(i.stopPropagation(),o){case"1":t();break;case"2":e()}},children:[(0,w.jsxs)(f.A.ItemGroup,{title:"More",children:[(0,w.jsx)(f.A.Item,{className:"action-menu-item",children:(0,w.jsxs)("div",{className:"action-menu-item-content",children:[(0,w.jsx)(r.vVk,{className:"action-menu-icon"}),(0,w.jsx)("span",{className:"action-menu-text",children:l.t("web_magicTools_button_as_reference_image",{},"Use as reference image")})]})},"1"),(0,w.jsx)(f.A.Item,{className:"action-menu-item",children:(0,w.jsxs)("div",{className:"action-menu-item-content",children:[(0,w.jsx)(r.FF8,{className:"action-menu-icon"}),(0,w.jsx)("span",{className:"action-menu-text",children:l.t("web_magicTools_button_copy_prompt",{},"Use its prompt")})]})},"2")]}),o&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(h.A,{style:{margin:"4px 0"}}),(0,w.jsx)(f.A.ItemGroup,{title:"Feedback",children:(0,w.jsx)(k,{smartToolType:n,...o})})]})]})},N=(0,a.PA)((function({reGenerate:e,onUseAsRef:t,onDownload:o,onCopy:i,smallSize:a=!1,feedback:l}){const n=(0,v.B)().i18n;return(0,w.jsxs)("div",{className:"actionsContainer",children:[(0,w.jsx)(m.A,{className:"st-tooltip",content:n.t("web_download",{},"Download"),children:(0,w.jsx)("div",{className:"actionMask",style:{width:a?28:void 0,height:a?28:void 0},onClick:e=>{e.stopPropagation(),o()},children:(0,w.jsx)(r.h5b,{...T})})}),(0,w.jsx)(m.A,{className:"st-tooltip",content:n.t("web_magicTools_button_more_similar",{},"Generate similar"),children:(0,w.jsx)("div",{className:"actionMask",style:{width:a?28:void 0,height:a?28:void 0},onClick:t=>{t.stopPropagation(),e()},children:(0,w.jsx)(r.AAL,{...T})})}),(0,w.jsx)(_.A,{unmountOnExit:!1,droplist:(0,w.jsx)(A,{onCopy:i,onUseAsRef:t,feedback:l}),children:(0,w.jsx)("div",{className:"actionMask",style:{width:a?28:void 0,height:a?28:void 0},onClick:e=>{e.stopPropagation()},children:(0,w.jsx)(r.vhE,{...T})})})]})}))},34306:function(e,t,o){var i=o(99415),a=o(67308),r=o(18091),l=o(30395),n=o.n(l),s=o(38e3);t.A=({width:e,height:t,boxRef:o,boxClassNames:l,children:c,...d})=>{const u=(0,r.A)(void 0,{throttle:0}),p=(0,i.A)(u,2),g=p[0],m=p[1],f=(0,a.useMemo)((()=>!!(m.width&&m.height&&e&&t)&&m.width/m.height<e/t),[m,e,t]),h=(0,a.useMemo)((()=>t&&e?f?{box:{width:"100%",height:"fit-content",writingMode:"horizontal-tb"},padding:{paddingTop:100*t/e+"%"}}:{box:{height:"100%",width:"fit-content",writingMode:"vertical-lr"},padding:{paddingLeft:100*e/t+"%"}}:{}),[f,e,t]);return(0,s.jsx)("div",{className:n()("st-aspect-ratio-wrapper",{hide:!(e&&t&&m.width&&m.height)}),ref:g,...d,children:(0,s.jsxs)("div",{className:n()("st-aspect-ratio-wrapper__box",l),ref:o,style:h.box,children:[(0,s.jsx)("div",{className:"st-aspect-ratio-wrapper__box__padding",style:h.padding}),(0,s.jsx)("div",{className:"st-aspect-ratio-wrapper__container",children:c})]})})}},34236:function(e,t,o){o.d(t,{A:function(){return w}});var i=o(99415),a=o(68605),r=o(67308),l=o(52882),n=o(40239),s=o(36060),c=o(57691),d=o(62822),u=o(31399),p=o(55964),g=o(79617),m=o(67343),f=o(77024),h=o(79552),_=o(14148);o(3077);var v=o(42958),b=o(95118),y=o(38e3),x=(0,a.PA)((function({setIsChoosePlatform:e}){const t=(0,r.useContext)(l.xM),o=t.filerCloud,a=t.profile,n=t.setLifeCycle,s=t.clearStore,c=t.exportedVideoAsset,p=t._repotSmartToolPage,g=t.smartToolType,x=(0,r.useState)(0),w=(0,i.A)(x,2),T=(w[0],w[1]);let j={};c&&(j={downloadUrl:c.asset_meta.download_url,fileName:c.file_name||"test",videoId:c.id,fileId:c.id,resolution:"",duration:c.duration,fileSize:c.size,format:c.sub_type,asset:{_sourceData:c}});const C=(0,r.useRef)(!1),k=(({uid:e,everCloudInstance:t,setIsChoosePlatform:o})=>{const a=(0,r.useContext)(l.xM),n=a._repotSmartToolPage,s=a.profile,c=(0,r.useState)(),p=(0,i.A)(c,2),g=p[0],v=p[1];return(0,r.useEffect)((()=>{if(e&&t){const i=(0,m.U4)(h.u9.withContext({businessType:void 0,userInfo:{TikTok:u.xM.TikTok},everCloudInstance:t,detailPageOpenCallback:void 0,errorCode:"-1",retryShareFailedCallback:()=>{f.A.warning(_.F2.t("retry_share_failed"))},workspaceId:null==s?void 0:s.spaceInfo.workspaceId,uid:e,currentPage:"smart_tool_page",reportExtra:{toolType:u.Ww[(0,d.b0)(a.smartToolType)],enterFrom:"export"},openType:h.h6.smartTools})).start().onTransition((e=>{var t,i,a;"CHOOSE_PLATFORM"===(null===(t=e.event)||void 0===t?void 0:t.type)&&("TikTok"===(null===(i=e.event)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.platform)&&n({action:"share_tiktok"}),"TTAM"===(null===(a=e.event)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.platform)&&n({action:"share_ttam"})),"CHOOSE_PLATFORM"===e.event.type&&["","-1"].includes(e.context.errorCode)&&(null==o||o(!1)),["CLEAR_SHARE_VIDEO_ERROR_CODE","CLEAR_SELECTED_PLATFORM"].includes(e.event.type)&&(null==o||o(!0)),["USER_AUTH_SUCCESS"].includes(e.event.type)&&(null==o||o(!1))}));v(i)}}),[e,t]),g})({uid:null==a?void 0:a.uid,everCloudInstance:null==o?void 0:o._sdk,setIsChoosePlatform:e});(0,r.useEffect)((()=>{C.current||k&&(null==k||k.send("INIT_SERVICE"),C.current=!0)}),[k]),(0,r.useEffect)((()=>{const e=document.querySelector(".lv_share-choosePage");e&&T(e.offsetHeight)}),[k]);return k?(0,y.jsx)("div",{children:(0,y.jsx)(h.z9,{openType:h.h6.smartTools,page:"tool",spaceInfo:null==a?void 0:a.spaceInfo,fileInfo:j,reportExtra:{currentPage:"smart_tool_page",enterFrom:"export",toolType:u.Ww[(0,d.b0)(g)]},shareServiceProp:k,makeNewOne:()=>{p({action:"make_new"}),n(l.$u.DefaultEmpty),s()},backToEdit:()=>{p({action:"back_edit"}),n(l.$u.ViewingProduction)},reqDomain:v.s.getVars(),cookieConsent:b.F,extraData:{currentPage:"smart_tool_page"}})}):null})),w=(0,a.PA)((function(){var e,t;const o=(0,r.useContext)(l.xM),a=(0,r.useState)(!0),m=(0,i.A)(a,2),f=m[0],h=m[1],_=(0,s.B)().i18n,v=()=>{var e,t;let i=u.K8.VideoSlowMotion;switch(o.smartToolType){case u.K8.VideoSlowMotion:i=u.K8.VideoStabilization;break;case u.K8.VideoStabilization:case u.K8.VideoUpscaler:default:i=u.K8.VideoSlowMotion}localStorage.setItem("relatedPlayInfo",JSON.stringify(null===(e=o.exportedVideoAsset)||void 0===e?void 0:e.relatedPlayInfo)),window.open(`${p.gQ[i].slice(1)}?asset_id=${null===(t=o.exportedVideoAsset)||void 0===t?void 0:t.id}&from_tool_type=${u.Ww[(0,d.b0)(o.smartToolType)]}&enter_from=export&from_page=smart_tool_page`)},b=()=>{switch((0,r.useContext)(l.xM).smartToolType){case u.K8.VideoSlowMotion:return(0,y.jsx)(g.A,{toolType:u.K8.VideoStabilization,handleClick:v});case u.K8.VideoStabilization:case u.K8.VideoUpscaler:return(0,y.jsx)(g.A,{toolType:u.K8.VideoSlowMotion,handleClick:v});default:return(0,y.jsx)(y.Fragment,{})}};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"st-exported-video-viewer-container",children:(0,y.jsx)("div",{className:"st-exported-video-viewer",children:(0,y.jsx)(n.A,{config:{url:null===(e=o.generatedPlayInfo)||void 0===e?void 0:e.url,decryptKey:null===(t=o.generatedPlayInfo)||void 0===t?void 0:t.key}})})}),(0,y.jsxs)("div",{className:"exportPanelConrainer",style:{paddingTop:f?void 0:0},children:[(0,y.jsx)(x,{setIsChoosePlatform:h}),f&&(0,y.jsxs)("div",{className:"related",children:[(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)("div",{className:"relatedTitle",children:_.t("web_magicTools_button_related_magic_tools",{},"Related magic tools")}),(0,y.jsxs)("div",{className:"viewAll",style:{display:"flex"},onClick:()=>{window.open(`/tool-library?from_page=smart_tool_page&__tool_type=${u.Ww[(0,d.b0)(o.smartToolType)]}`)},children:[(0,y.jsx)("div",{className:"viewAllText",children:_.t("web_magicTools_button_view_all",{},"View all")}),(0,y.jsx)("div",{className:"viewAllIcon",children:(0,y.jsx)(c.IhO,{size:10})})]})]}),(0,y.jsx)("div",{className:"relatedCards",children:(0,y.jsx)(b,{})})]})]})]})}))},13390:function(e,t,o){var i=o(99415),a=o(34938),r=o(30395),l=o.n(r),n=o(67308),s=o(38e3);const c=e=>{const t=(0,a.A)(!1),o=(0,i.A)(t,3),r=o[0],l=o[1],s=o[2],c=(0,n.useRef)(0);return(0,n.useEffect)((()=>{const t=()=>{s()||l(!0),clearTimeout(c.current),c.current=window.setTimeout((()=>l(!1)),500)},o=e.current;return null==o||o.addEventListener("scroll",t),()=>{null==o||o.removeEventListener("scroll",t)}}),[e.current]),{isScrolling:r}};t.A=({title:e,children:t})=>{const o=(0,n.useRef)(null),i=c(o).isScrolling;return(0,s.jsxs)("div",{className:l()("st-fixed-setting-panel",{scrolling:i}),children:[(0,s.jsx)("div",{className:"st-fixed-setting-panel__header",children:(0,s.jsx)("div",{className:"st-fixed-setting-panel__title-container",children:(0,s.jsx)("div",{className:"st-fixed-setting-panel__title",children:e})})}),t&&(0,s.jsx)("div",{className:"st-fixed-setting-panel__divider"}),t&&(0,s.jsx)("div",{className:l()("st-fixed-setting-panel__body-container"),ref:o,children:(0,s.jsx)("div",{className:"st-fixed-setting-panel__body",children:t})})]})}},25036:function(e,t,o){var i=o(99415),a=o(68605),r=o(67308),l=o(80890),n=o(52882),s=o(59222),c=o(30395),d=o.n(c),u=o(18091),p=o(87543),g=o(90157),m=o(36643),f=o(11273),h=o(26425),_=o(24306),v=o(38e3);t.A=(0,a.PA)((function(){var e,t,o;const a=(0,r.useContext)(n.xM),c=(0,r.useState)(0),b=(0,i.A)(c,2),y=b[0],x=b[1],w=(0,r.useState)(!1),T=(0,i.A)(w,2),j=T[0],C=T[1],k=(0,f.A)().aiProcessLoading,A=(0,u.A)(void 0,{}),N=(0,i.A)(A,2),S=N[0],I=N[1],L=(0,p.A)(0),E=(0,_.Ug)({containerSize:I,imageRatio:a.aigcOutImageRatio,imageNum:a.aiWorksInView.length}),O={[_.p5.ONE_IMAGE]:"grid_one_image",[_.p5.TWO_HORIZONTAL]:"grid_two_horizontal",[_.p5.TWO_VERTICAL]:"grid_two_vertical",[_.p5.THREE_VERTICAL]:"grid_three_vertical",[_.p5.THREE_HORIZONTAL]:"grid_three_horizontal",[_.p5.FOUR_HORIZONTAL]:"grid_four_horizontal",[_.p5.FOUR_VERTICAL]:"grid_four_vertical",[_.p5.FOUR_TWO_AND_TWO]:"grid_four_two_and_two"};if((0,r.useEffect)((()=>{var e;E&&null!==(e=a.aiWorksInView)&&void 0!==e&&e.length&&g.Ay.performanceMarkEnd(g.ir)}),[Boolean(E),null===(e=a.aiWorksInView)||void 0===e?void 0:e.length]),!E)return null;const F=O[E.type];return(0,v.jsxs)(h.A.Provider,{value:{currentIndex:y,aiWorksInView:a.aiWorksInView,group:!0,setCurrentIndex:x,previewVisible:j,setPreviewVisible:C,aiProcessLoading:k},children:[(0,v.jsx)(m.ZI,{flipKey:F,className:"flipContainer",children:(0,v.jsx)("div",{className:d()("st-img-group-container",F),ref:S,children:null===(t=a.aiWorksInView)||void 0===t?void 0:t.map(((e,t)=>{var o,i,r,l;return(0,v.jsx)(m.lf,{flipId:null!==(i=e.resource_id)&&void 0!==i?i:t,translate:!0,children:(0,v.jsx)("div",{className:d()("flipItem",(0,_.gr)(E,t)),children:(0,v.jsx)(s.A,{_index:t,src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(null==e||null===(l=e.image)||void 0===l?void 0:l.url,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),resource:e,className:"st-img-item",style:{width:E.size.width,height:E.size.height},onInit:e=>{e&&a.setAigcOutImageRatio(e.width/e.height)},parentSize:{width:E.size.width,height:E.size.height},version:L.state,onRetry:L.inc})},null!==(r=e.resource_id)&&void 0!==r?r:t)},null!==(o=e.resource_id)&&void 0!==o?o:t)}))})}),(0,v.jsx)(l.A,{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(null===(o=a.aiWorksInView[y])||void 0===o||null===(o=o.image)||void 0===o?void 0:o.url,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),resource:a.aiWorksInView[y],visible:j,setVisible:C})]})}))},24306:function(e,t,o){o.d(t,{Ug:function(){return l},gr:function(){return n},p5:function(){return a}});var i=o(61623);let a=function(e){return e.ONE_IMAGE="ONE_IMAGE",e.TWO_VERTICAL="TWO_VERTICAL",e.TWO_HORIZONTAL="TWO_HORIZONTAL",e.THREE_VERTICAL="THREE_VERTICAL",e.THREE_HORIZONTAL="THREE_HORIZONTAL",e.FOUR_VERTICAL="FOUR_VERTICAL",e.FOUR_HORIZONTAL="FOUR_HORIZONTAL",e.FOUR_TWO_AND_TWO="FOUR_TWO_AND_TWO",e}({});const r=12;function l(e){const t=e.containerSize,o=e.imageRatio,l=e.imageNum,n=t.width/t.height;return 1===l?{type:a.ONE_IMAGE,size:o>=n?s(t.width):c(t.height)}:2===l?u([{type:a.TWO_VERTICAL,size:d({width:t.width,height:(t.height-r)/2})},{type:a.TWO_HORIZONTAL,size:d({width:(t.width-r)/2,height:t.height})}]):3===l?u([{type:a.THREE_VERTICAL,size:d({width:t.width,height:(t.height-2*r)/3})},{type:a.THREE_HORIZONTAL,size:d({width:(t.width-2*r)/3,height:t.height})}]):4===l?u([{type:a.FOUR_VERTICAL,size:d({width:t.width,height:(t.height-3*r)/4})},{type:a.FOUR_HORIZONTAL,size:d({width:(t.width-3*r)/4,height:t.height})},{type:a.FOUR_TWO_AND_TWO,size:d({width:(t.width-r)/2,height:(t.height-r)/2})}]):void 0;function s(e){return{width:e,height:e/o}}function c(e){return{width:e*o,height:e}}function d(e){const t=e.width/e.height;return o>=t?s(e.width):c(e.height)}function u(e){return(0,i.A)(e,(e=>e.size.width*e.size.height))}}function n(e,t){if(e.type!==a.FOUR_TWO_AND_TWO)return"";switch(t){case 0:return"top left";case 1:return"top right";case 2:return"bottom left";case 3:return"bottom right";default:return""}}},80890:function(e,t,o){var i=o(68605),a=o(46012),r=o(67308),l=o(77024),n=o(36096),s=o(83105),c=o(57691),d=o(3077),u=o(52882),p=o(74296),g=o(31399),m=o(62822),f=o(84827),h=o(36060),_=o(65860),v=o(26425),b=o(54439),y=o(38e3);const x=({onLeft:e,onRight:t,showLeft:o,showRight:i})=>(0,y.jsxs)(y.Fragment,{children:[o&&(0,y.jsx)("div",{className:"arrowContainer",style:{left:16},onClick:e,children:(0,y.jsx)(c.lPV,{size:18,className:"arrowIcon"})}),i&&(0,y.jsx)("div",{className:"arrowContainer",style:{right:16},onClick:t,children:(0,y.jsx)(c.Adi,{size:18,className:"arrowIcon"})})]});t.A=(0,i.PA)((function({src:e,resource:t,visible:o,setVisible:i}){var w,T,j,C,k;const A=(0,h.B)().i18n,N=(0,r.useContext)(u.xM),S=(0,r.useContext)(v.A),I=S.group,L=void 0!==I&&I,E=S.setCurrentIndex,O=S.currentIndex,F=S.aiWorksInView;(0,_.A)("esc",(()=>{null==i||i(!1)}));const M=(0,d.A)(window.innerWidth-88,window.innerHeight-176,e),P=async()=>{var o;if(N._repotSmartToolPage({action:"image_download",...N._getAttributeReportParams()}),null!==(o=N.profile)&&void 0!==o&&o.uid){var i;const o=(null==t?void 0:t.resource_name)||(null===(i=N.mainMaterial)||void 0===i?void 0:i.resourceName)||`Magic tool type ${N.smartToolType} | ${Date.now()}`;(0,m.G4)(e,o);try{var r;if(t)N._reportExportTime(t),await N.handleSyncAsset([t],!0,!1);else if("preset"===(null===(r=N.mainMaterial)||void 0===r?void 0:r.source)){var l,n,s;await N.handleSyncAsset([{idc:null===(l=N.mainMaterial)||void 0===l?void 0:l.resourceIdc,resource_id:null===(n=N.mainMaterial)||void 0===n?void 0:n.assetId,resource_name:null===(s=N.mainMaterial)||void 0===s?void 0:s.resourceName,resource_type:"video"===N.toolMaterialType?p.vt.video:p.vt.image}],!1,!1)}}catch(d){a.Zq.log("smart_toolbox","failed to sync on download",d,{scene:"handleDownload"})}}else{var c;null===(c=N.loginSdk)||void 0===c||c.login({enter_from:"export",tool_type:g.Ww[(0,m.b0)(N.smartToolType)],current_page:"smart_tool_page"})}},R={size:20,fill:"white"};if(!o)return null;const V={onThumbUp:()=>{var e,t,o,i;null!==(e=N.aiWorksInView[O])&&void 0!==e&&e.like||l.A.success(A.t("web_thank_you_for_feedback",{},"Thank you for your feedback.")),N.setAiWorksInViewLike(O||0,"like",void 0===(null===(t=N.aiWorksInView[O])||void 0===t?void 0:t.like)||!(null!==(o=N.aiWorksInView[O])&&void 0!==o&&o.like)),N._repotSmartToolPage({action:"like",image_id:null===(i=F.at(O))||void 0===i?void 0:i.resource_id})},onThumbDown:()=>{var e,t,o,i;null!==(e=N.aiWorksInView[O])&&void 0!==e&&e.dislike||l.A.success(A.t("web_thank_you_for_feedback",{},"Thank you for your feedback.")),N.setAiWorksInViewLike(O||0,"dislike",void 0===(null===(t=N.aiWorksInView[O])||void 0===t?void 0:t.dislike)||!(null!==(o=N.aiWorksInView[O])&&void 0!==o&&o.dislike)),N._repotSmartToolPage({action:"dislike",image_id:null===(i=F.at(O))||void 0===i?void 0:i.resource_id})},like:null===(w=N.aiWorksInView[O])||void 0===w?void 0:w.like,dislike:null===(T=N.aiWorksInView[O])||void 0===T?void 0:T.dislike,reporterData:{prompt_text:N.prompt,gen_image_url:(null===(j=N.aiWorksInView[O])||void 0===j||null===(j=j.image)||void 0===j?void 0:j.url)||"",gen_image_uri:null===(C=N.aiWorksInView[O])||void 0===C?void 0:C.resource_id,type:"image"},onReported:()=>{N.regenerateImage(O||0),l.A.success(A.t("web_s2v_report_title_report_submitted",{},"Thanks for reporting")),null==i||i(!1)},reportModalClassName:"lv-theme-force_dark"};return(0,y.jsxs)("div",{className:"imgFullScreen",onClick:e=>{e.stopPropagation()},children:[(0,y.jsx)("div",{className:"st-img",style:{...M,backgroundColor:"#2F3036",backgroundImage:`url(${e||""})`}}),(0,y.jsx)("div",{className:"closeIconContainer",onClick:()=>{null==i||i(!1)},children:(0,y.jsx)(c.En0,{className:"closeIcon",size:18,fill:"white"})}),(0,y.jsx)("div",{className:"imgName",children:(null==t?void 0:t.resource_name)||(null===(k=N.mainMaterial)||void 0===k?void 0:k.resourceName)||`Magic tool type ${N.smartToolType} | ${Date.now()}`}),(0,y.jsx)("div",{className:"actionBar",style:{width:L?168:92},children:L?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.A,{className:"st-tooltip",content:A.t("web_download",{},"Download"),children:(0,y.jsx)("div",{className:"actionBarIconContainer",children:(0,y.jsx)(c.h5b,{className:"actionBarIcon",...R,onClick:P})})}),(0,y.jsx)(n.A,{className:"st-tooltip",content:A.t("web_magicTools_button_more_similar",{},"Generate similar"),children:(0,y.jsx)("div",{className:"actionBarIconContainer",children:(0,y.jsx)(c.AAL,{className:"actionBarIcon",...R,onClick:()=>{N.regenerateAsset={currenIndex:O||0,resource:N.aiWorksInView[O]},N.handleStartAiProcess(),null==i||i(!1)}})})}),(0,y.jsx)(s.A,{position:"top",unmountOnExit:!1,droplist:(0,y.jsx)(b.HH,{onCopy:()=>{var e,t;N._repotSmartToolPage({action:"copy_prompt"}),navigator.clipboard.writeText(null===(e=f.A.getParams(null===(t=F.at(O))||void 0===t?void 0:t.task_id))||void 0===e||null===(e=e.params)||void 0===e?void 0:e.prompt),l.A.success(A.t("web_magicTools_toast_copy",{},"Copied to clipboard")),null==i||i(!1)},onUseAsRef:()=>{var e,t,o,a;N._repotSmartToolPage({action:"use_as_refer_image"}),N.setOriginalPlayInfo({url:(null===(e=F.at(O))||void 0===e?void 0:e.image.url)||"",key:""}),N.setMainMaterial({assetId:null===(t=F.at(O))||void 0===t?void 0:t.resource_id,resourceIdc:null===(o=F.at(O))||void 0===o?void 0:o.idc,source:"preset",resourceName:null===(a=F.at(O))||void 0===a?void 0:a.resource_name}),N.handlePresetOrAiResource(),null==i||i(!1)},feedback:V,className:"lv-theme-force_dark lv-theme",theme:"dark"}),children:(0,y.jsx)("div",{className:"actionBarIconContainer",children:(0,y.jsx)(c.vhE,{className:"actionBarIcon",...R})})})]}):(0,y.jsx)(n.A,{className:"st-tooltip",content:A.t("web_download",{},"Download"),children:(0,y.jsx)("div",{className:"actionBarIconContainer",children:(0,y.jsx)(c.h5b,{className:"actionBarIcon",...R,onClick:P})})})}),L&&(null==F?void 0:F.length)>1&&(0,y.jsx)(x,{onLeft:()=>{E((e=>0===e?F.length-1:e-1))},onRight:()=>{E((e=>e===F.length-1?0:e+1))},showLeft:0!==O,showRight:O!==(null==F?void 0:F.length)-1})]})}))},59222:function(e,t,o){o.d(t,{A:function(){return S}});var i,a=o(99415),r=o(68605),l=o(46012),n=o(39190),s=o(67308),c=o(54439),d=o(30395),u=o.n(d),p=o(1790),g=o(52882),m=o(74296),f=o(31399),h=o(62822),_=o(3077),v=o(84827),b=o(18091),y=o(87543),x=o(39642),w=o(77024),T=o(36060),j=o(80890),C=o(26425);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},k.apply(this,arguments)}const A=e=>s.createElement("svg",k({width:37,height:37,viewBox:"0 0 37 37",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.00390625 6.40039C0.00390625 3.08668 2.6902 0.400391 6.00391 0.400391H30.0039C33.3176 0.400391 36.0039 3.08668 36.0039 6.40039V30.4004C36.0039 33.7141 33.3176 36.4004 30.0039 36.4004H6.00391C2.6902 36.4004 0.00390625 33.7141 0.00390625 30.4004V6.40039ZM28.0039 12.4004C28.0039 14.6095 26.213 16.4004 24.0039 16.4004C21.7948 16.4004 20.0039 14.6095 20.0039 12.4004C20.0039 10.1913 21.7948 8.40039 24.0039 8.40039C26.213 8.40039 28.0039 10.1913 28.0039 12.4004ZM4.00391 29.8042L10.3446 23.7938C10.7283 23.4301 11.3288 23.4279 11.7152 23.7888L20.9335 32.4004H26.7931L14.4458 20.8658C12.514 19.0612 9.5113 19.0721 7.59274 20.8908L4.00391 24.2927V29.8042Z",fill:"currentColor"})));var N=o(38e3);var S=(0,r.PA)((function({src:e="",_index:t,className:o="",style:i={},resource:r,onInit:d,parentSize:k,imageContainerStyle:S,imageStyle:I,actionsVisible:L,hideDownload:E,version:O,onRetry:F,prompt:M,onTryPrompt:P}){var R;const V=(0,T.B)().i18n,U=(0,s.useContext)(g.xM),z=U.aiProcessLoading,H=U.setAiWorksInViewLike,D=(0,s.useContext)(C.A),B=D.group,W=void 0!==B&&B,Z=D.setCurrentIndex,K=D.setPreviewVisible,G=(0,b.A)(),q=(0,a.A)(G,2),$=q[0],Y=q[1],Q=(0,s.useState)(!1),J=(0,a.A)(Q,2),X=J[0],ee=J[1],te=(0,s.useState)(!1),oe=(0,a.A)(te,2),ie=oe[0],ae=oe[1],re=(0,y.A)(0),le=re.state>3,ne=(0,s.useMemo)((()=>re.state>0?function(e,t,o){try{const i=new URL(e);return i.searchParams.append(t,o),i.href}catch(i){}return`${e}?${t}=${o}`}(e,"_image_reload_t",`${Date.now()}`):e),[e,re.state]),se=(0,x.A)(!1);let ce=(0,_.A)(Y.width,Y.height,e,null!=r&&r.width?Number(null==r?void 0:r.width):void 0,null!=r&&r.height?Number(null==r?void 0:r.height):void 0);k&&(ce=k),ce={...ce,...S};const de=async()=>{var t;if(U._repotSmartToolPage({action:"image_download",...U._getAttributeReportParams()}),null!==(t=U.profile)&&void 0!==t&&t.uid){var o;const t=(null==r?void 0:r.resource_name)||(null===(o=U.mainMaterial)||void 0===o?void 0:o.resourceName)||`Magic tool type ${U.smartToolType} | ${Date.now()}`;(0,p.G)(e,t);try{var i;if(r)U._reportExportTime(r),await U.handleSyncAsset([r],!0,!1);else if("preset"===(null===(i=U.mainMaterial)||void 0===i?void 0:i.source)){var a,n,s;await U.handleSyncAsset([{idc:null===(a=U.mainMaterial)||void 0===a?void 0:a.resourceIdc,resource_id:null===(n=U.mainMaterial)||void 0===n?void 0:n.assetId,resource_name:null===(s=U.mainMaterial)||void 0===s?void 0:s.resourceName,resource_type:"video"===U.toolMaterialType?m.vt.video:m.vt.image}],!1,!1)}}catch(d){l.Zq.log("smart_toolbox","failed to sync on download",d,{scene:"handleDownload"})}}else{var c;null===(c=U.loginSdk)||void 0===c||c.login({enter_from:"download",tool_type:f.Ww[(0,h.b0)(U.smartToolType)],current_page:"smart_tool_page"})}},ue=(0,s.useRef)(null);(0,s.useEffect)((()=>{re.reset()}),[e,O]),(0,s.useLayoutEffect)((()=>{se.setFalse()}),[ne]);const pe=(null!=L?L:ie)&&e&&!z&&!le&&!M,ge={visibility:se.state?"inherit":"hidden",width:"100%",height:"100%",...I};return(0,N.jsxs)("div",{ref:$,className:o,style:{position:"relative",...i},children:[(0,N.jsxs)("div",{className:"st-img",style:{...ce},onMouseEnter:()=>{ae(!0)},onMouseLeave:()=>{ae(!1)},onClick:()=>{!e||z||le||W&&(Z(t||0),K(!0))},children:[M&&(0,N.jsx)("div",{className:u()("st-preset-resource-prompt",{hide:!ie||le}),children:(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"st-preset-resource-prompt-text",children:M}),(0,N.jsx)("div",{className:"st-preset-resource-prompt-button-container",children:(0,N.jsx)("div",{className:"st-preset-resource-prompt-button",onClick:()=>{U.prompt=M,null==P||P()},children:V.t("web_magicTools_button_try_prompt",{},"Try prompt")})})]})}),le&&(0,N.jsxs)("div",{className:"st-image__fallback-container",children:[(0,N.jsx)("div",{className:"st-image__fallback-icon",children:(0,N.jsx)(A,{})}),(0,N.jsx)("div",{className:"st-image__fallback-text",children:V.t("image_loading_failed",{},"Couldn't load image")}),(0,N.jsx)("div",{className:"st-image__fallback-retry",onClick:F,children:V.t("retry_web",{},"Try again")})]}),!le&&ne&&(0,N.jsx)("img",{ref:ue,src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(ne,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),style:ge,draggable:"false",onLoad:()=>{var e,t;ue.current&&(se.setTrue(),U._reportAiImportMaterialTime({url:ue.current.src}),null==d||d({width:null===(e=ue.current)||void 0===e?void 0:e.naturalWidth,height:null===(t=ue.current)||void 0===t?void 0:t.naturalHeight}))},onError:()=>{if(console.error(`image '${e}' load error, already error ${re.state} times before!`),se.setFalse(),re.state>=3)return re.inc(),void(null==d||d(!1));re.inc()}}),z&&!e&&W&&(0,N.jsx)("div",{className:"st-image__loading-breath"}),(0,N.jsxs)("div",{className:u()("st-image__action-container",{show:pe}),children:[!W&&(0,N.jsx)("div",{style:{position:"absolute",right:16,bottom:16},children:(0,N.jsx)(c.tm,{onFullScreen:()=>{ee((e=>!e))},onDownload:E?void 0:de})}),W&&(0,N.jsx)("div",{style:{position:"absolute",right:16,bottom:16},children:(0,N.jsx)(c.kU,{reGenerate:()=>{U.regenerateAsset={currenIndex:t||0,resource:r},U.handleStartAiProcess()},onDownload:de,onCopy:()=>{var e;U._repotSmartToolPage({action:"copy_prompt"}),navigator.clipboard.writeText(null===(e=v.A.getParams(r.task_id))||void 0===e?void 0:e.params.prompt),w.A.success(V.t("web_magicTools_toast_copy",{},"Copied to clipboard"))},onUseAsRef:()=>{U._repotSmartToolPage({action:"use_as_refer_image"}),U.setOriginalPlayInfo({url:(null==r?void 0:r.image.url)||"",key:""}),U.setMainMaterial({assetId:null==r?void 0:r.resource_id,resourceIdc:null==r?void 0:r.idc,source:"preset",resourceName:null==r?void 0:r.resource_name}),U.handlePresetOrAiResource()},feedback:{onThumbUp:()=>{null!=r&&r.like||w.A.success(V.t("web_thank_you_for_feedback",{},"Thank you for your feedback.")),H(t||0,"like",void 0===(null==r?void 0:r.like)||!(null!=r&&r.like)),U._repotSmartToolPage({action:"like",image_id:null==r?void 0:r.resource_id})},onThumbDown:()=>{null!=r&&r.dislike||w.A.success(V.t("web_thank_you_for_feedback",{},"Thank you for your feedback.")),H(t||0,"dislike",void 0===(null==r?void 0:r.dislike)||!(null!=r&&r.dislike)),U._repotSmartToolPage({action:"dislike",image_id:null==r?void 0:r.resource_id})},like:null==r?void 0:r.like,dislike:null==r?void 0:r.dislike,reporterData:{prompt_text:U.prompt,gen_image_url:(null==r||null===(R=r.image)||void 0===R?void 0:R.url)||"",gen_image_uri:null==r?void 0:r.resource_id,type:"image"},onReported:()=>{U.regenerateImage(t||0),w.A.success(V.t("web_s2v_report_title_report_submitted",{},"Thanks for reporting"))}},smallSize:ce.width&&ce.width<220})})]})]}),(0,n.createPortal)((0,N.jsx)(j.A,{visible:X,setVisible:ee,src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),resource:r}),document.body)]})}))},51187:function(e,t,o){o.d(t,{A:function(){return c}});var i,a,r=o(67308);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},l.apply(this,arguments)}const n=e=>r.createElement("svg",l({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32ZM16 26.111C21.5229 26.111 26 21.6338 26 16.111C26 10.5881 21.5229 6.11096 16 6.11096C10.4772 6.11096 6 10.5881 6 16.111C6 21.6338 10.4772 26.111 16 26.111Z",fill:"black",fillOpacity:.6})),a||(a=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 31.9693C6.62927 31.4531 0 24.5007 0 16C0 7.16344 7.16344 0 16 0C24.1974 0 30.955 6.16469 31.8897 14.111H25.8C24.8734 9.54648 20.8379 6.11096 16 6.11096C10.4772 6.11096 6 10.5881 6 16.111C6 21.2963 9.94668 25.5599 15 26.0616V31.9693Z",fill:"white"})));var s=o(38e3);var c=({size:e,Comp:t})=>{const o={width:`${e}px`,height:`${e}px`};return(0,s.jsx)("div",{className:"st-loading-spin",style:o,children:(0,s.jsx)("div",{className:"st-loading-spin__icon",style:o,children:t||(0,s.jsx)(n,{width:e,height:e})})})}},37190:function(e,t,o){o.d(t,{A:function(){return ee}});var i,a,r=o(99415),l=o(45400),n=o(30395),s=o.n(n),c=o(67308),d=o(95272),u=o(80305),p=o(7661),g=o(73281),m=o(36096),f=o(52882),h=o(36060);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},_.apply(this,arguments)}const v=e=>c.createElement("svg",_({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=c.createElement("path",{d:"M4.16732 3.33252C3.70708 3.33252 3.33398 3.70562 3.33398 4.16585V15.8325C3.33398 16.2928 3.70708 16.6659 4.16732 16.6659H6.66732C7.12756 16.6659 7.50065 16.2928 7.50065 15.8325V4.16585C7.50065 3.70562 7.12756 3.33252 6.66732 3.33252H4.16732Z",fill:"currentColor"})),a||(a=c.createElement("path",{d:"M13.334 3.33252C12.8737 3.33252 12.5007 3.70562 12.5007 4.16585V15.8325C12.5007 16.2928 12.8737 16.6659 13.334 16.6659H15.834C16.2942 16.6659 16.6673 16.2928 16.6673 15.8325V4.16585C16.6673 3.70562 16.2942 3.33252 15.834 3.33252H13.334Z",fill:"currentColor"})));var b;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},y.apply(this,arguments)}const x=e=>c.createElement("svg",y({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=c.createElement("path",{d:"M16.25 9.27605C16.8056 9.5968 16.8056 10.3987 16.25 10.7194L5 17.2146C4.44445 17.5354 3.75 17.1344 3.75 16.4929L3.75 3.50255C3.75 2.86105 4.44445 2.46011 5 2.78086L16.25 9.27605Z",fill:"currentColor"})));var w,T,j,C;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},k.apply(this,arguments)}const A=e=>c.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),w||(w=c.createElement("path",{d:"M3 6C3 4.34315 4.34315 3 6 3H10V5H6C5.44772 5 5 5.44772 5 6V10H3V6Z",fill:"currentColor"})),T||(T=c.createElement("path",{d:"M18 5H14V3H18C19.6569 3 21 4.34315 21 6V10H19V6C19 5.44772 18.5523 5 18 5Z",fill:"currentColor"})),j||(j=c.createElement("path",{d:"M5 14V18C5 18.5523 5.44772 19 6 19H10V21H6C4.34315 21 3 19.6569 3 18V14H5Z",fill:"currentColor"})),C||(C=c.createElement("path",{d:"M19 18V14H21V18C21 19.6569 19.6569 21 18 21H14V19H18C18.5523 19 19 18.5523 19 18Z",fill:"currentColor"})));var N,S,I,L;function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},E.apply(this,arguments)}const O=e=>c.createElement("svg",E({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N||(N=c.createElement("path",{d:"M17 8H21V10H17C15.3431 10 14 8.65685 14 7V3H16V7C16 7.55228 16.4477 8 17 8Z",fill:"currentColor"})),S||(S=c.createElement("path",{d:"M8 17V21H10V17C10 15.3431 8.65685 14 7 14H3V16H7C7.55228 16 8 16.4477 8 17Z",fill:"currentColor"})),I||(I=c.createElement("path",{d:"M16 21V17C16 16.4477 16.4477 16 17 16H21V14H17C15.3431 14 14 15.3431 14 17V21H16Z",fill:"currentColor"})),L||(L=c.createElement("path",{d:"M7 10C8.65685 10 10 8.65685 10 7V3H8V7C8 7.55228 7.55228 8 7 8H3V10H7Z",fill:"currentColor"})));var F;function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},M.apply(this,arguments)}const P=e=>c.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),F||(F=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9293 5.98496L7.97882 9.93542L7.68592 10.2283H7.27171L4.5 10.2283V13.8859H7.27171H7.68592L7.97882 14.1788L11.9293 18.1292V5.98496ZM11.084 4.00185C11.3965 3.68927 11.8205 3.51367 12.2625 3.51367C13.183 3.51367 13.9293 4.2599 13.9293 5.18042V18.9338C13.9293 19.8543 13.183 20.6005 12.2625 20.6005C11.8205 20.6005 11.3965 20.4249 11.084 20.1123L6.8575 15.8859H4.5C3.39543 15.8859 2.5 14.9904 2.5 13.8859V10.2283C2.5 9.12374 3.39543 8.22831 4.5 8.22831H6.8575L11.084 4.00185ZM15.7581 20.3918C19.1182 19.0864 21.5 15.8212 21.5 11.9997C21.5 8.17813 19.1182 4.9129 15.7581 3.60749V5.8025C17.9831 6.97468 19.5 9.31002 19.5 11.9997C19.5 14.6893 17.9831 17.0247 15.7581 18.1968V20.3918ZM17.5 11.9997C17.5 13.5165 16.8246 14.8755 15.7581 15.7925V8.20687C16.8246 9.12383 17.5 10.4829 17.5 11.9997Z",fill:"currentColor"})));var R;function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},V.apply(this,arguments)}const U=e=>c.createElement("svg",V({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),R||(R=c.createElement("path",{d:"M15.6524 6.90228C15.8476 7.09754 15.8476 7.41412 15.6524 7.60938L9.10354 14.1582C8.90828 14.3535 8.5917 14.3535 8.39643 14.1582L4.34762 10.1094C4.15236 9.91412 4.15236 9.59754 4.34762 9.40228L4.81902 8.93087C5.01429 8.73561 5.33087 8.73561 5.52613 8.93087L8.74999 12.1547L14.4738 6.43087C14.6691 6.23561 14.9857 6.23561 15.181 6.43087L15.6524 6.90228Z",fill:"currentColor"})));var z=o(41967);function H(e){if(!(0,z.A)(e)||e<0)return"00:00";const t=Math.floor(e),o=Math.floor(t/60),i=t-60*o,a=e=>e.length?1===e.length?`0${e}`:e:"00";return`${a(`${o}`)}:${a(`${i}`)}`}var D=o(85371),B=o(34938),W=o(4570);function Z({el:e,zeroAt:t,controlledProgress:o,showSelfProgress:i,onDragMove:a,onDragStart:l,onDragEnd:n,throttle:s}){const d=(0,c.useState)(0),p=(0,r.A)(d,2),g=p[0],m=p[1],f=(0,B.A)(!1),h=(0,r.A)(f,3),_=h[0],v=h[1],b=h[2];(0,c.useEffect)((()=>{_||(0,D.A)(o)||m(o)}),[o]);const y=(0,u.A)((o=>{const i=null==e?void 0:e.getBoundingClientRect();if(!i)return 0;let a=0;return"left"===t?a=(o.x-i.x)/i.width:"right"===t?a=1-(o.x-i.x)/i.width:"top"===t?a=(o.y-i.y)/i.height:"bottom"===t?a=1-(o.y-i.y)/i.height:console.error(`invalid parameter 'zeroAt': ${t}`),Math.max(0,Math.min(a,1))})),x=_||i||(0,D.A)(o)?g:o,w=(0,W.A)((e=>null==a?void 0:a(e)),s||1).run,T=e=>{v(!0);const t=y(e);m(t),null==l||l(t)},j=(0,u.A)((e=>{if(!b())return;v(!1);const t=y(e);m(t),null==n||n(t)})),C=(0,u.A)((e=>{if(!b())return;const t=y(e);m(t),w(t)}));return(0,c.useEffect)((()=>(document.addEventListener("mouseup",j),document.addEventListener("mousemove",C),null==e||e.addEventListener("mousedown",T),()=>{document.removeEventListener("mouseup",j),document.removeEventListener("mousemove",C),null==e||e.removeEventListener("mousedown",T)})),[e]),{progress:x,isDragging:_}}var K=o(38e3);function G(e){const t=e.player,o=e.playerState,i=e.options,a=e.controlDomId,l=(null==i?void 0:i.definitions)||[],n=(0,c.useState)(!1),s=(0,r.A)(n,2),d=s[0],u=s[1],p=e=>e.label,m=l.find((({url:e})=>e===o.playUrl)),f=p(m||l[0]);return f?(0,K.jsx)(g.A,{popupVisible:d,onVisibleChange:e=>{u(e)},getPopupContainer:()=>document.querySelector(`#${a}`)||document.body,position:"top",popupAlign:{top:8},trigger:"hover",className:"st-player-controls__definition-popup",showArrow:!1,popup:()=>(0,K.jsx)("div",{className:"st-player-controls__definition-container",children:l.map((e=>(0,K.jsxs)("div",{className:"st-player-controls__definition-item",onClick:()=>(e=>{null==t||t.changeDefinition({url:e.url,definition:e.label}),u(!1)})(e),children:[(0,K.jsx)("div",{className:"st-player-controls__definition-icon",children:e===m&&(0,K.jsx)(U,{})}),(0,K.jsx)("div",{className:"st-player-controls__definition-text",children:p(e)})]},e.url)))}),children:(0,K.jsx)("div",{className:"st-player-controls__definition",children:f})}):null}function q(e){const t=e.player,o=e.playerState,i=e.controlDomId,a=(0,c.useState)(null),l=(0,r.A)(a,2),n=l[0],s=l[1],p=(0,d.A)(n,void 0,[n]),m=(0,r.A)(p,2)[1],f=(0,u.A)((e=>t&&(t.volume=e))),h=Z({el:n,zeroAt:"bottom",controlledProgress:o.volume,onDragMove:f,onDragStart:f,onDragEnd:f,throttle:100}),_=h.progress,v=h.isDragging,b=(0,c.useState)(!1),y=(0,r.A)(b,2),x=y[0],w=y[1],T=x||v||m;return(0,K.jsx)("div",{className:"st-player-controls__volume",children:(0,K.jsx)(g.A,{popupVisible:T,onVisibleChange:e=>{w(e)},getPopupContainer:()=>document.querySelector(`#${i}`)||document.body,position:"top",popupAlign:{top:8},trigger:"hover",className:"st-player-controls__volume__popup",showArrow:!1,popup:()=>{return(0,K.jsxs)("div",{className:"st-player-controls__volume-progress",children:[(0,K.jsx)("div",{className:"st-player-controls__volume__text",children:Math.floor(100*_)}),(0,K.jsx)("div",{className:"st-player-controls__volume-progress-bg",ref:e=>s(e),children:(0,K.jsx)("div",{className:"st-player-controls__volume-progress-current",style:{top:(e=1-_,100*e+"%")}})})]});var e},children:(0,K.jsx)(P,{})})})}function $(e){const t=e.player,o=e.playerState,i=e.disabled,a=e.controlDomId,l=(0,c.useState)(null),n=(0,r.A)(l,2),g=n[0],f=n[1],h=(0,d.A)(g,void 0,[g]),_=(0,r.A)(h,2)[1],v=(0,p.A)(g,{throttle:0},[g]),b=(0,r.A)(v,2)[1],y=(0,u.A)((e=>{null==t||t.seek(t.duration*e)})),x=Z({el:g,zeroAt:"left",controlledProgress:o.progress,showSelfProgress:o.buffering,onDragMove:y,onDragStart:y,onDragEnd:y,throttle:300}),w=x.progress,T=x.isDragging,j=e=>100*e+"%",C=function(){if(!g||-1===b.x||-1===b.y)return[""];const e=null==g?void 0:g.getBoundingClientRect().width,t=b.x/e;return[H(o.duration*t)]}(),k=(0,r.A)(C,1)[0],A={right:j(1-w)},N={right:j(1-o.bufferProgress)},S=!i&&-1!==b.x;return(0,K.jsxs)("div",{className:s()("st-player-controls__progress",{active:_||T,disabled:i}),ref:e=>f(e),children:[(0,K.jsx)(m.A,{disabled:i,popupVisible:S,content:k,popupHoverStay:!1,triggerProps:{popupAlign:{top:5}},getPopupContainer:()=>{var e;return(null===(e=document.querySelector(`#${a}`))||void 0===e?void 0:e.parentElement)||document.body},style:{transform:`translateX(${b.x}px)`,visibility:S?"inherit":"hidden"},children:(0,K.jsx)("div",{className:"st-player-controls__progress__tooltip-anchor"})}),(0,K.jsxs)("div",{className:"st-player-controls__progress__bg",children:[(0,K.jsx)("div",{className:"st-player-controls__progress__buffer",style:N}),(0,K.jsx)("div",{className:"st-player-controls__progress__current",style:A}),(0,K.jsx)("div",{className:"st-player-controls__progress__handler",style:A})]})]})}function Y(e){var t;const o=(0,h.B)().i18n,i=(0,c.useContext)(f.xM)._repotSmartToolPage,a=e.player,r=e.playerState,l=e.disabled,n=e.controlDomId,d=null===(t=null==r?void 0:r.paused)||void 0===t||t;return(0,K.jsx)(m.A,{disabled:l,content:d?o.t("PLAY_TIPS",{},"Play"):o.t("PAUSE_TIPS",{},"Pause"),popupHoverStay:!1,triggerProps:{popupAlign:{top:8}},getPopupContainer:()=>{var e;return(null===(e=document.querySelector(`#${n}`))||void 0===e?void 0:e.parentElement)||document.body},children:(0,K.jsx)("div",{className:s()("st-player-controls__play-button",{disabled:l}),onClick:()=>{l||(null!=a&&a.paused?(null==a||a.play(),i({action:"play"})):(null==a||a.pause(),i({action:"pause"})))},children:d?(0,K.jsx)(x,{}):(0,K.jsx)(v,{})})})}function Q(e){const t=(0,h.B)().i18n,o=(0,c.useContext)(f.xM)._repotSmartToolPage,i=e.disabled,a=e.controlDomId,r=e.isFullScreen,l=e.onSwitchFullscreen;return(0,K.jsx)(m.A,{disabled:i,content:r?t.t("EXITFULLSCREEN_TIPS",{},"Exit fullscreen"):t.t("FULLSCREEN_TIPS",{},"Fullscreen"),popupHoverStay:!1,triggerProps:{popupAlign:{top:8}},getPopupContainer:()=>{var e;return(null===(e=document.querySelector(`#${a}`))||void 0===e?void 0:e.parentElement)||document.body},children:(0,K.jsx)("div",{className:s()("st-player-controls__fullscreen",{disabled:i}),onClick:()=>{!i&&(null==l||l()),o({action:"full_screen"})},children:r?(0,K.jsx)(O,{}):(0,K.jsx)(A,{})})})}function J(e){const t=e.playerState,o=e.disabled;return(0,K.jsxs)("div",{className:s()("st-player-controls__time",{disabled:o}),children:[(0,K.jsx)("div",{className:"st-player-controls__current-time",children:H(t.currentTime)}),(0,K.jsx)("div",{className:"st-player-controls__time-divider"}),(0,K.jsx)("div",{className:"st-player-controls__duration",children:H(t.duration)})]})}function X({width:e}){return(0,K.jsx)("div",{style:{width:`${e}px`}})}var ee=e=>{const t=e.disabled,o=e.isFullScreen,i=e.isEmbed,a=e.options,r=(0,c.useMemo)((()=>`st-player-controls-${(0,l.A)()}`),[]),n={...e,controlDomId:r};return(0,K.jsxs)("div",{className:s()("st-player-controls",{fullscreen:o,embed:i,disabled:t}),id:r,children:[(0,K.jsx)(Y,{...n}),(0,K.jsx)(X,{width:12}),(0,K.jsx)(J,{...n}),(0,K.jsx)(X,{width:20}),(0,K.jsx)("div",{className:"st-player-controls__progress-container",children:(0,K.jsx)($,{...n})}),(0,K.jsx)(X,{width:20}),Boolean(null==a?void 0:a.definitions)&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(G,{...n}),(0,K.jsx)(X,{width:20})]}),(null==a?void 0:a.volume)&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(q,{...n}),(0,K.jsx)(X,{width:20})]}),(0,K.jsx)(Q,{...n})]})}},59380:function(e,t,o){o.d(t,{p8:function(){return O},IW:function(){return L},qi:function(){return E}});var i=o(99415),a=o(68605),r=o(52882),l=o(67308),n=o(18091),s=o(87543),c=o(80305),d=o(36060),u=o(59222),p=o(90157),g=o(30395),m=o.n(g),f=o(36643),h=o(24306),_=o(91689),v=o(66431),b=o(50501);let y=[];const x=()=>{const e=(0,l.useState)(y),t=(0,i.A)(e,2),o=t[0],a=t[1],n=(0,l.useContext)(r.xM);return(0,l.useEffect)((()=>{(async()=>{await(0,b.z7)((()=>n.loginSdkReady));const e=await v.QA.getList({smart_tool_type:n.smartToolType,refer_source:0});if(!(0,_.A)(e))return;const t=e.filter((e=>e.resource_id));a(t),y=t})()}),[]),o};var w;function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},T.apply(this,arguments)}const j=e=>l.createElement("svg",T({width:33,height:32,viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),w||(w=l.createElement("path",{d:"M21.9322 14.666H7.65112C7.37498 14.666 7.15112 14.8899 7.15112 15.166V16.8327C7.15112 17.1088 7.37498 17.3327 7.65112 17.3327H21.9322L16.5619 22.703C16.3666 22.8983 16.3666 23.2149 16.5619 23.4101L17.7404 24.5886C17.9356 24.7839 18.2522 24.7839 18.4475 24.5886L25.6225 17.4136C26.4036 16.6325 26.4036 15.3662 25.6225 14.5852L18.4475 7.41012C18.2522 7.21486 17.9356 7.21486 17.7404 7.41012L16.5619 8.58863C16.3666 8.78389 16.3666 9.10047 16.5619 9.29574L21.9322 14.666Z",fill:"#00CAE0"})));var C;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},k.apply(this,arguments)}const A=e=>l.createElement("svg",k({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C||(C=l.createElement("path",{d:"M11.5159 13V21.5C11.5159 21.7761 11.7397 22 12.0159 22H13.0159C13.292 22 13.5159 21.7761 13.5159 21.5V13H22.0159C22.292 13 22.5159 12.7761 22.5159 12.5V11.5C22.5159 11.2239 22.292 11 22.0159 11H13.5159V2.5C13.5159 2.22386 13.292 2 13.0159 2H12.0159C11.7397 2 11.5159 2.22386 11.5159 2.5V11H3.01587C2.73973 11 2.51587 11.2239 2.51587 11.5V12.5C2.51587 12.7761 2.73973 13 3.01587 13H11.5159Z",fill:"#00CAE0"})));var N=o.p+"static/media/bg1.06d972ba.png",S=o.p+"static/media/bg2.b7317ca5.png",I=o(38e3);const L=(0,a.PA)((function(){const e=(0,d.B)().i18n,t=(0,l.useContext)(r.xM),o=x(),i=(0,l.useCallback)((async e=>{t.handleSelectPreset(e)}),[]);return(0,I.jsxs)("div",{className:"st-pr-container",children:[(0,I.jsx)("div",{className:"st-pr-title",children:"image"===t.toolMaterialType?e.t("web_magicTools_text_try_these_images",{},"No images? Try the following:"):e.t("web_magicTools_text_try_these_videos",{},"No videos? Try the following:")}),(0,I.jsxs)("div",{className:"st-pr-presets",children:[!(null!=o&&o.length)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"st-pr-resource loading-preset"}),(0,I.jsx)("div",{className:"st-pr-resource loading-preset"}),(0,I.jsx)("div",{className:"st-pr-resource loading-preset"})]}),null==o?void 0:o.slice(0,3).map((e=>{var t;return(0,I.jsx)("div",{className:"st-pr-resource loading-preset",onClick:()=>i(e),children:(0,I.jsx)("img",{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl((null==e?void 0:e.cover)||(null==e||null===(t=e.image_info)||void 0===t?void 0:t.url),null,{logType:"js.href/src",mode:"black",reportOnly:"all"})})},e.id)}))]})]})})),E=(0,a.PA)((function(){const e=(0,l.useContext)(r.xM),t=(0,n.A)(void 0,{}),o=(0,i.A)(t,2),a=o[0],c=o[1],d=x(),g=(0,s.A)(0),_=(0,h.Ug)({containerSize:c,imageRatio:e.aigcOutImageRatio,imageNum:d.length||4}),v={[h.p5.ONE_IMAGE]:"grid_one_image",[h.p5.TWO_HORIZONTAL]:"grid_two_horizontal",[h.p5.TWO_VERTICAL]:"grid_two_vertical",[h.p5.THREE_VERTICAL]:"grid_three_vertical",[h.p5.THREE_HORIZONTAL]:"grid_three_horizontal",[h.p5.FOUR_HORIZONTAL]:"grid_four_horizontal",[h.p5.FOUR_VERTICAL]:"grid_four_vertical",[h.p5.FOUR_TWO_AND_TWO]:"grid_four_two_and_two"};if((0,l.useEffect)((()=>{_&&null!=d&&d.length&&p.Ay.performanceMarkEnd(p.R$)}),[Boolean(_),null==d?void 0:d.length]),!_)return null;const b=v[_.type];return(0,I.jsx)(f.ZI,{flipKey:b,className:"flipContainer",children:(0,I.jsx)("div",{className:m()("st-img-group-container",b),ref:a,children:null==d?void 0:d.map(((t,o)=>{var i,a,r,l;return(0,I.jsx)(f.lf,{flipId:null!==(a=t.resource_id)&&void 0!==a?a:o,translate:!0,children:(0,I.jsx)("div",{className:m()("flipItem",(0,h.gr)(_,o)),children:(0,I.jsx)(u.A,{_index:o,src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl((null==t||null===(l=t.image_info)||void 0===l?void 0:l.url)||"",null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),className:"st-img-item",prompt:t.prompt,onTryPrompt:()=>{t.style_key&&e.selectPresetStyle(t.style_key)},style:{width:_.size.width,height:_.size.height},onInit:t=>{t&&e.setAigcOutImageRatio(t.width/t.height)},parentSize:{width:_.size.width,height:_.size.height},version:g.state,onRetry:g.inc})},null!==(r=t.resource_id)&&void 0!==r?r:o)},null!==(i=t.resource_id)&&void 0!==i?i:o)}))})})})),O=(0,a.PA)((function(){var e,t;const o=(0,d.B)().i18n,i=(0,l.useContext)(r.xM),a=x(),n=null==a?void 0:a[0],s=(0,c.A)((()=>{if(!i.mainMaterial&&!i.uploadingMainMaterial){var e,t;i.setMainMaterial({assetId:n.resource_id,source:"preset",resourceIdc:n.idc,resourceName:n.resource_name});const o={url:(null==n||null===(e=n.play_info)||void 0===e?void 0:e.main_url)||(null==n||null===(t=n.image_info)||void 0===t?void 0:t.url)||"",key:""};i.setOriginalPlayInfo(o),i.handlePresetOrAiResource(),i.resolveRawMaterialInfo(o)}i.updateAttributes({prompt:n.prompt}),n.style_key&&i.updateAttributes({style:n.style_key})}));return(0,l.useEffect)((()=>{n&&p.Ay.performanceMarkEnd(p.R$)}),[Boolean(n)]),n?(0,I.jsxs)("div",{className:"st-i2i-preset",children:[(0,I.jsx)("div",{className:"st-i2i-preset__title",children:o.t("web_magicTools_title_how_to_create",{},"How to create creative images using your images?")}),(0,I.jsxs)("div",{className:"st-i2i-preset__container",children:[(0,I.jsxs)("div",{className:"st-i2i-preset__left-container",style:{backgroundImage:`url(${N})`},children:[(0,I.jsxs)("div",{className:"st-i2i-preset__card-container",children:[(0,I.jsx)("div",{className:"st-i2i-preset__caption-container",children:o.t("web_magicTools_text_upload_original_image",{},"Original image")}),(0,I.jsxs)("div",{className:"st-i2i-preset__card",children:[(0,I.jsx)("img",{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(null===(e=n.image_info)||void 0===e?void 0:e.url,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),draggable:"false"}),(0,I.jsx)("div",{className:"st-i2i-preset__use-button-container",children:(0,I.jsx)("div",{className:"st-i2i-preset__use-button",onClick:s,children:o.t("web_magicTools_button_try",{},"Use this")})})]})]}),(0,I.jsx)("div",{className:"st-i2i-preset__icon-plus",children:(0,I.jsx)(A,{})}),(0,I.jsxs)("div",{className:"st-i2i-preset__card-container",children:[(0,I.jsx)("div",{className:"st-i2i-preset__caption-container",children:o.t("web_magicTools_title_prompt",{},"Prompt")}),(0,I.jsxs)("div",{className:"st-i2i-preset__card no-filter text",children:[(0,I.jsx)("div",{className:"st-i2i-preset__card-text",children:n.prompt}),(0,I.jsx)("div",{className:"st-i2i-preset__use-button-container mask",children:(0,I.jsx)("div",{className:"st-i2i-preset__use-button",onClick:s,children:o.t("web_magicTools_button_try",{},"Use this")})})]})]})]}),(0,I.jsx)("div",{className:"st-i2i-preset__icon-next",children:(0,I.jsx)(j,{})}),(0,I.jsx)("div",{className:"st-i2i-preset__right-container",style:{backgroundImage:`url(${S})`},children:(0,I.jsxs)("div",{className:"st-i2i-preset__card-container",children:[(0,I.jsx)("div",{className:"st-i2i-preset__caption-container",children:o.t("web_magicTools_button_auto_create",{},"AI generation")}),(0,I.jsx)("div",{className:"st-i2i-preset__card",children:(0,I.jsx)("img",{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(null===(t=n.preset_result)||void 0===t?void 0:t[0],null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),draggable:"false"})})]})})]})]}):null}))},9255:function(e,t,o){o.d(t,{_:function(){return fe}});var i=o(99415),a=o(67308),r=o(68605),l=o(52882),n=o(22194),s=o(57691),c=o(77024),d=o(69874),u=o(83105),p=o(36060),g=o(90157),m=o(18195),f=o(31399),h=o(62822),_=o(14148),v=o(46012),b=o(88650),y=o(28172),x=o(81746),w=o(42958),T=o(398),j=o(89243),C=o(57672),k=o(7146),A=o(58108),N=o(95118),S=o(37754),I=o.n(S);let L=function(e){return e[e.Success=0]="Success",e[e.Uploading=1]="Uploading",e[e.Faile=-1]="Faile",e[e.Insufficient=-2]="Insufficient",e}({});const E=new Map,O=new Map,F=new Map,M=new Map,P=new Map,R=void 0;function V({onImportOneSuccess:e,onImportOneError:t,record:o,option:r={},uploadAddCb:l,handleUploading:n,filerCloud:s,store:c}){var d,u,p;const g=(0,a.useState)(),m=(0,i.A)(g,2),_=(m[0],m[1]),b=(0,a.useState)(null),x=(0,i.A)(b,2),S=x[0],V=x[1],U=(0,a.useRef)(null),z=(0,a.useRef)("Dropbox");(0,a.useEffect)((()=>{var e,t,o;if(null===(e=c.profile)||void 0===e||!e.uid)return;const i=new T.SH({uid:(null===(t=c.profile)||void 0===t?void 0:t.uid)||"",isBOE:j.SC,draftId:R,cookieConsent:N.F,idc:void 0,reqDomain:w.s.getVars(),...r,currentPage:"smart_tool_page",toolType:f.Ww[(0,h.b0)(c.smartToolType)]});i.setSpaceId(null===(o=c.loginSdk)||void 0===o||null===(o=o.profile)||void 0===o||null===(o=o.spaceInfo)||void 0===o?void 0:o.workspaceId),i.onUpload(W),V(i),U.current=i}),[null===(d=c.loginSdk)||void 0===d?void 0:d.region,null===(u=c.profile)||void 0===u?void 0:u.uid]),(0,a.useEffect)((()=>{var e,t;null===(e=U.current)||void 0===e||e.setSpaceId(null===(t=c.loginSdk)||void 0===t||null===(t=t.profile)||void 0===t||null===(t=t.spaceInfo)||void 0===t?void 0:t.workspaceId)}),[null===(p=c.loginSdk)||void 0===p||null===(p=p.profile)||void 0===p||null===(p=p.spaceInfo)||void 0===p?void 0:p.workspaceId]),(0,a.useEffect)((()=>{var e;null===(e=U.current)||void 0===e||e.setDraftId(R)}),[R]);const H=(e,t,o=!0)=>{O.delete(t),F.delete(e),E.delete(e),o&&M.delete(t)},D=async(i,a=!1)=>{const l=(e=>new File(["file"],e.name,{type:I().getType(e.name)}))(i);if(null!=r&&r.beforeUpload&&!1===r.beforeUpload(l))return;null==n||n({file:l}),o(l,A.PU.CLICK_ADD);const s=i.id;a||M.set(s,U.current);const d={requestId:s,onProgress:void 0,done:()=>new Promise(((e,t)=>{const o=E.get(l);(null==o?void 0:o.status)!==L.Success?(null==o?void 0:o.status)!==L.Faile?F.set(l,{resolve:e,reject:t}):t({status:"error",fileId:o.fileId,md5:o.md5,message:l.name}):e({status:"success",fileId:o.fileId,md5:o.md5})}))},u={auth:y.H7.Third,requestId:s,file:l,coverUrl:i.coverUrl,request:d,fileStatus:C.o.Uploading,progress:0,path:"",options:{skipDuplicate:!1}};if(O.set(s,u),E.set(l,i),a){const e=M.get(s);var p;if(e)e.retry(s);else null===(p=U.current)||void 0===p||p.retry(s)}try{const o=await c.filerCloud.uploadThird(u,(g=z.current,"Dropbox"===g?"dropbox":"google_drive"),{meta:{visible:!0}});if(a)return o;"success"===(null==o?void 0:o.status)?(e({result:o,file:l,action:A.PU.CLICK_ADD,platform:z.current}),P.set(i.id,"done"),H(l,s)):t({file:l,result:o,ex:null,action:A.PU.CLICK_ADD})}catch(m){if(a)throw m;t({file:l,result:null,ex:m,action:A.PU.CLICK_ADD}),v.Zq.error("import third","upload third add failed","upload_third_add_failed",m)}var g},B=e=>s.uploadThirdCancel(e),W=e=>{O.get(e.id)?(e=>{const t=O.get(e.id),o=t.file,i=F.get(o);var a,r;if(E.set(o,e),e.status===L.Uploading&&(null===(a=(r=t.request).onProgress)||void 0===a||a.call(r,{progress:e.progress})),e.status===L.Success){if(!e.metadata.md5)return;null==i||i.resolve({status:"success",fileId:e.fileId,md5:e.metadata.md5,metadata:e.metadata,name:e.name})}e.status===L.Insufficient&&(null==i||i.resolve({status:"error",errInfo:{code:k.Ts.INSUFFICIENT_SPACE}})),e.status===L.Faile&&(null==i||i.reject({status:"error",fileId:e.fileId,md5:e.md5}))})(e):(D(e,!1),null==l||l(e))};return{onImportThirdFile:(0,a.useCallback)((e=>{var t;null===(t=U.current)||void 0===t||t.show(e),z.current=e,_(e)}),[S]),onCancelThirdFile:(0,a.useCallback)((async e=>{const t=e.file;B(t);const o=E.get(t);if(!o)return Promise.reject({message:t.name});const i=o.id,a=M.get(i);var r;a?a.delete(o):null===(r=U.current)||void 0===r||r.delete(o);return P.set(i,"cancel"),H(t,i),Promise.resolve()}),[B,S]),onRetryThirdFile:(0,a.useCallback)((async e=>{const t=e.file,o=E.get(t);if(!o)return{status:"error"};const i=o.id;if(!O.get(i))return{status:"error"};B(t),H(t,i,!1);const a=await D({...o,status:L.Uploading,progress:0},!0);return H(t,i),{...a,platform:z.current}}),[B]),uploadingFileIdMap:O}}function U(e,t,o,i,a={}){if(e.loginSdk.profile)return null==t?void 0:t.upload(i,{skipDuplicate:!0,...a});{const t=e[b.k].visitorAssets.reduce(((e,t)=>{var o;return e+((null==t||null===(o=t.material)||void 0===o?void 0:o.size)||0)}),0),r=e[b.k].uploadFiles.reduce(((e,t)=>e+t.file.size),0);if(i.size+t+r>(null==o?void 0:o._options.limit.visitor.total))throw new Error(_.F2.t("only_supports_materials_total_up_to_{size}",{size:(0,m.i)(null==o?void 0:o._options.limit.visitor.total)},"You can upload materials up to {size} when not signed in. Sign in to upload more and larger materials."));return null==o?void 0:o.upload(i,{skipDuplicate:!0,...a})}}const z=e=>{const t=(0,a.useContext)(l.xM),o=t.loginSdk,i=t.filerCloud,r=t.filerVisitor,s=t.smartToolType,d=(e=>{var t,o,i,r;const l=e.store,s=(0,a.useCallback)((({result:e,file:t,successCb:o,action:i})=>{c.A.success(`${_.F2.t("upload_successfully",{placeholder0:t.name},"{placeholder0} uploaded")}`),null==o||o(e,t,i)}),[U]),d=(0,a.useCallback)((e=>{c.A.error(`${_.F2.t("upload_failed",{},"Couldn't upload")}`),l.resetToEmpty(),l.handleUploadFailure({...e,status:n.$q.FAIL})}),[]),u=V({onImportOneSuccess:(0,a.useCallback)((({result:t,file:o,platform:i})=>{var a;c.A.success(`${_.F2.t("upload_successfully",{placeholder0:o.name},"{placeholder0} uploaded")}`),"success"===t.status&&(l.handleUploadSuccess({...t,file:o,source:i}),null==e||null===(a=e.thirdRetryCallback)||void 0===a||a.call(e,{result:t,file:o,platform:i}))}),[null==e?void 0:e.uploadSuccess]),onImportOneError:d,record:()=>{},uploadAddCb:null==e?void 0:e.uploadAddCb,handleUploading:null==e?void 0:e.handleUploading,option:{multiple:null==e?void 0:e.multiple,accept:null==e?void 0:e.accept,beforeUpload:null==e?void 0:e.beforeUpload},filerCloud:null==l?void 0:l.filerCloud,store:l}),p=u.onImportThirdFile,g=u.uploadingFileIdMap,m=u.onCancelThirdFile,f=u.onRetryThirdFile,h=(0,a.useCallback)((async(e,t,o)=>{try{const i=l.loginSdk.profile?{}:{resourceIdc:w.s.getVar("web_idc")},a=await U(l,l.filerCloud,l.filerVisitor,e,{meta:{visible:!0}});"success"===(null==a?void 0:a.status)?s({result:{...i,...a},file:e,successCb:t,action:o}):"cancel"===(null==a?void 0:a.status)||d({file:e,action:o,failReason:a.status})}catch(i){d({file:e,action:o,failReason:String((null==i?void 0:i.message)||i)})}}),[U]),b=(0,a.useCallback)((async(e,t,o)=>{var i;const a=null!==(i=window.MAX_COUNT)&&void 0!==i?i:100;if(e.length>a&&c.A.warning(_.F2.t("the_number_of_material_uploads_exceeds_the_maximum_limit_please_upload_in_batch",{},"Number of uploaded material exceeds maximum limit. Upload them in batches")),!await(0,x.QA)(l,x.XH,e))return l.showExpandOnUploadShow(),void l.setUploadingMainMaterial(void 0);for(const r of e.slice(0,a))h(r,t,o)}),[h]),T=(0,a.useCallback)((async(e,t=!0)=>{l._repotSmartToolPage({action:"upload_cancel"});const o=e.file,i=e.request,a=e.requestId,r=e.auth;if(r===y.H7.Third||null!=i&&i.requestId&&"unknow"!==(null==i?void 0:i.requestId)||a&&"unknow"!==a)try{var n;r===y.H7.Third?await m(e):await(null===(n=l.filerCloud)||void 0===n?void 0:n.uploadCancel((null==i?void 0:i.requestId)||a)),t&&c.A.success(`${_.F2.t("{placeholder0}_upload_canceled_successfully",{placeholder0:o.name},"{placeholder0} upload canceled")}`)}catch(s){c.A.error(`${_.F2.t("cancel_upload_failed",{},"Couldn't cancel upload")}`),v.Zq.error("cloud","upload cancel failed","upload_cancel_failed",s)}else l.filerCloudStore.uploadFilesRemove(e)}),[null==l||null===(t=l.filerCloud)||void 0===t?void 0:t.uploadCancel]),j=(0,a.useCallback)((async e=>{const t=e.file,o=e.fileKey;try{var i;await(null===(i=l.filerVisitor)||void 0===i?void 0:i.uploadCancel(o)),c.A.success(`${_.F2.t("{placeholder0}_upload_canceled_successfully",{placeholder0:t.name},"{placeholder0} upload canceled")}`)}catch(a){c.A.error(`${_.F2.t("cancel_upload_failed",{placeholder1:null==a?void 0:a.message},"Couldn't cancel upload")}`),v.Zq.error("local","upload cancel failed","upload_cancel_failed",a),console.error(a)}}),[null===(o=l.filerVisitor)||void 0===o?void 0:o.uploadCancel]);return{onImport:b,onCancel:T,onRetry:(0,a.useCallback)((async t=>{const o=t.file,i=t.auth;let a="visitor";try{var r;let p,g;var n,s,d;if(i===y.H7.Cloud)a="cloud",p=await(null===(n=l.filerCloud)||void 0===n?void 0:n.uploadRetryByFile(o)),g=null==e?void 0:e.localRetryCallback;else if(i===y.H7.Third)a="third",p=await f(t),g=null==e?void 0:e.thirdRetryCallback;else{var u;p=await(null===(u=l.filerVisitor)||void 0===u?void 0:u.uploadRetryByFile(o)),g=null==e?void 0:e.localRetryCallback}if("success"===(null===(r=p)||void 0===r?void 0:r.status))return c.A.success(`${_.F2.t("{placeholder0}_retransmission_successful",{placeholder0:o.name},"{placeholder0} reuploaded")}`),void("third"===a?null==e||null===(s=e.thirdRetryCallback)||void 0===s||s.call(e,{result:p,file:o,platform:p.platform}):null===(d=g)||void 0===d||d(p,o))}catch(h){var p,g,m;"object"==typeof h&&[1001e3,1002e3,1003e3,1004e3,1005e3].includes(null==h||null===(p=h.errInfo)||void 0===p?void 0:p.code)?v.Zq.log("network_error","visitor updaload retry error",h,{scene:"file-project-on-retry"}):"object"==typeof h&&100026===(null==h||null===(g=h.errInfo)||void 0===g?void 0:g.code)?v.Zq.log("visitor_upload_failed","visitor updaload retry failed width sign out of date",h,{scene:"file-project-on-retry"}):"object"==typeof h&&20113===(null===(m=h.errInfo)||void 0===m?void 0:m.code)&&v.Zq.log("insufficient_space","user cloud space insufficient",h,{scene:"file-project-on-retry"})}}),[null===(i=l.filerCloud)||void 0===i?void 0:i.uploadRetryByFile,null===(r=l.filerVisitor)||void 0===r?void 0:r.uploadRetryByFile]),onImportThirdFile:p,uploadingFileIdMap:g,onCancelVisitorFile:j}})({multiple:null==e?void 0:e.multiple,accept:null==e?void 0:e.accept,target:"general",store:t,filerCloud:i,filerVisitor:r,handleUploading:A,beforeUpload:null==e?void 0:e.beforeUpload}),u=d.onImport,g=d.onImportThirdFile,b=d.onCancel,T=d.onRetry,j=d.onCancelVisitorFile,C=(0,p.B)(),k=null==o?void 0:o.profile;function A(e){e.fileId||e.md5?t.handleUploadSuccess({...e}):t.setUploadingMainMaterial(e)}return{pickThirdFile:e=>{const i="GoogleDrive"===e?"google_drive":"dropbox";null!=k&&k.uid?(t._repotSmartToolPage({action:i}),g(e)):null==o||o.login({enter_from:i,tool_type:f.Ww[(0,h.b0)(s)],current_page:"smart_tool_page"})},pickLocalFile:(e,o="click_add")=>{var a,r;if(!e)return;const l=Array.from(e);if(t._repotSmartToolPage({action:"import",import_type:o,import_source:"my_device",size:Number(((null===(a=l[0])||void 0===a?void 0:a.size)/1024/1024).toFixed(2)),format:null===(r=l[0])||void 0===r?void 0:r.type}),null!=l&&l.length){const e=l.filter((e=>{const t=e.size,o=void 0===t?0:t;return null!=i&&i._options.dependencies.validateEverCloudFileAccept({file:e})?!(e=>{let t=0;return t=k?null==i?void 0:i._options.limit.cloud.single:null==i?void 0:i._options.limit.visitor.single,t<e&&(c.A.error(C.t("only_supports_materials_up_to_{size}",{size:(0,m.i)(t)},"Only materials up to {size} are supported")),!0)})(o):(c.A.error(`${C.t("current_import_format_not_supported",{},"Current import format is not supported")}`),!1)}));if(!e.length)return;A({file:e[0]}),u(e,(e=>{t.handleUploadSuccess({...e,source:"my_device",action:o})}),o)}},onRetry:T,onCancel:b,onCancelVisitorFile:j}};var H=o(30395),D=o.n(H),B=o(50501),W=o(85970),Z=o(53265),K=o(68342),G=o(80305),q=o(76145),$=o(59380),Y=o(34306),Q=o(47263),J=o(97834),X=o(11444),ee=o(87176),te=o(98125),oe=o(38e3);var ie=({visible:e})=>{const t=(0,p.B)();return e?(0,oe.jsx)("div",{className:"status-wrapper",children:(0,oe.jsx)("div",{className:"tools-status-mask",children:(0,oe.jsxs)("div",{className:"tools-status-mask-inner",children:[(0,oe.jsx)(te.A,{className:"iconpark-icon",size:24}),(0,oe.jsx)("div",{className:"tools-status-mask-inner-text",children:t.t("web_processing",{},"Processing")})]})})}):null};const ae=()=>{const e=(0,p.B)().i18n;return(0,oe.jsx)("div",{className:"tools-status-mask",children:(0,oe.jsxs)("div",{className:"status-mask-inner",children:[(0,oe.jsx)(s.KXJ,{className:"iconpark-icon",size:24}),(0,oe.jsx)("div",{className:"status-mask-inner-text",children:e.t("web_waiting",{},"Waiting")})]})})},re=({progress:e,progressContent:t,cancelCallback:o,cancelContent:i})=>o&&i?(0,oe.jsx)("div",{className:"tools-status-mask pointer",children:(0,oe.jsxs)("div",{className:"tools-status-mask-inner tools-status-mask-inner__normal",children:[(0,oe.jsx)("div",{className:"progress-circle",children:(0,oe.jsx)(X.A,{size:"mini",type:"circle",percent:e,showText:!1,trailColor:""})}),(0,oe.jsx)("div",{className:"tools-status-mask-inner-text",children:t}),(0,oe.jsx)(ee.A,{className:"btn",onClick:o,children:i})]})}):(0,oe.jsx)("div",{className:"tools-status-mask",children:(0,oe.jsxs)("div",{className:"tools-status-mask-inner",children:[(0,oe.jsx)("div",{className:"progress-circle",children:(0,oe.jsx)(X.A,{size:"mini",type:"circle",percent:e,showText:!1})}),(0,oe.jsx)("div",{className:"tools-status-mask-inner-text",children:t})]})}),le=({noticeContent:e,retryBtnContent:t,retryCallback:o,cancelBtnContent:i,cancelCallback:a})=>(0,oe.jsx)("div",{className:"tools-status-mask",children:(0,oe.jsxs)("div",{className:"tools-status-mask-inner",children:[(0,oe.jsx)(s.uRs,{className:"iconpark-icon",size:24}),(0,oe.jsx)("div",{className:"tools-status-mask-inner-text",children:e}),(0,oe.jsxs)("div",{className:"tool-status-handle",children:[o?(0,oe.jsx)(ee.A,{type:"primary",className:"btn",onClick:o,children:t}):null,a?(0,oe.jsx)(ee.A,{className:"btn",onClick:a,children:i}):null]})]})});var ne=({fileStatus:e,onCancel:t,onRetry:o,onReSync:i,disableUploadCancel:a,progressUpload:r,progressTranscode:l,progressMigrate:n,progressDownload:s})=>{const c=(0,p.B)().i18n;switch(e){case C.o.None:return(0,oe.jsx)(ae,{});case C.o.Uploading:{const e=(e=>e>20?e:20)(100*(r||0));return(0,oe.jsx)(re,{progress:e,progressContent:`${c.t("web_tool_Uploading",{},"Uploading")} ${e.toFixed(2)}%`,cancelContent:c.t("web_tool_cancel",{},"Cancel"),cancelCallback:a?void 0:t})}case C.o.Transcoding:{const e=100*(l||0);return(0,oe.jsx)(re,{progress:e,progressContent:c.t("web_tool_Transcoding",{placeholder0:e.toFixed(2)},"Transcoding {placeholder0}%")})}case C.o.Downloading:{const e=100*(s||0);return(0,oe.jsx)(re,{progress:e,progressContent:c.t("dowunload_web_ing",{placeholder1:e.toFixed(2)},"Downloading {placeholder1}%")})}case C.o.LoginSyncing:{const e=100*(n||0);return(0,oe.jsx)(re,{progress:e,progressContent:c.t("dumping_{placeholder1}_",{placeholder1:e.toFixed(2)},"Backup {placeholder1}%")})}case C.o.UploadFailed:return(0,oe.jsx)(le,{noticeContent:c.t("web_tool_Couldn\u2018t upload",{},"Couldn\u2018t upload"),retryBtnContent:c.t("web_tool_Retry",{},"Try again"),retryCallback:o,cancelBtnContent:c.t("web_tool_cancel",{},"Cancel"),cancelCallback:t});case C.o.DownloadFailed:return(0,oe.jsx)(le,{noticeContent:c.t("file_failed_to_download",{},"Couldn't download file"),cancelCallback:t,cancelBtnContent:c.t("web_tool_cancel",{},"Cancel")});case C.o.NoTranscodeInformation:case C.o.TranscodeNotSupported:return(0,oe.jsx)(le,{noticeContent:c.t("web_not_supported_material_type",{},"Couldn\u2019t upload material due to unsupported format."),cancelBtnContent:c.t("web_tool_cancel",{},"Cancel"),cancelCallback:()=>{null==t||t()}});case C.o.TranscodeFailed:return(0,oe.jsx)(le,{noticeContent:c.t("transcoding_failed",{},"Transcoding failed"),cancelBtnContent:c.t("web_tool_cancel",{},"Cancel"),cancelCallback:()=>{null==t||t()}});case C.o.LoginSyncFailed:return(0,oe.jsx)(le,{noticeContent:c.t("dump_failed_click_retry",{},"Couldn't back up. Try again."),retryBtnContent:c.t("web_tool_Retry",{},"Try again"),retryCallback:i});default:return(0,oe.jsx)(ie,{visible:!0})}};const se=(e,t)=>0!==t||e!==C.o.Online&&e!==C.o.Local&&e!==C.o.None?e:C.o.Transcoding;var ce=(0,J.PA)((({store:e,onCancel:t,onRetry:o,children:i,menuOnly:r})=>{var l,n,s,c;const d=(0,a.useCallback)((e=>![C.o.Downloading,C.o.DownloadFailed,C.o.Transcoding,C.o.TranscodeFailed,C.o.NoTranscodeInformation,C.o.TranscodeNotSupported,C.o.LoginSyncing,C.o.LoginSyncFailed,C.o.Uploading,C.o.UploadFailed,C.o.TranscodeFailed].includes(e)),[]);if(r)return i;const u=e.mainMaterial||{},p=u.md5,g=u.fileId,m=e.uploadingMainMaterial||{},f=m.file,h=m.md5,_=m.fileId,v=e.loginSdk.profile,b=f?h:p,y=f?_:g,x=null===(l=e.filerCloud)||void 0===l?void 0:l.store.packageAssets.find((e=>e.md5===b)),w=null===(n=e.filerCloud)||void 0===n?void 0:n.store.uploadFiles.find((e=>e.file===f)),T=null===(s=e.filerVisitor)||void 0===s?void 0:s.store.visitorAssets.find((e=>e.fileId===y)),j=null===(c=e.filerVisitor)||void 0===c?void 0:c.store.uploadFiles.find((e=>e.file===f));if(!b&&!y&&!f)return(0,oe.jsx)(oe.Fragment,{children:i});if(null!=v&&v.uid){if(x){const e=x.material,o=void 0===e?{}:e,a=o.fileStatus,r=void 0===a?0:a,l=o.duration,n=void 0===l?0:l;return d(se(r,n),n)?(0,oe.jsx)(oe.Fragment,{children:i}):(0,oe.jsx)("div",{className:"status-wrapper",children:(0,oe.jsx)(ne,{fileStatus:x.material.fileStatus,progressDownload:x.material.progressDownload,progressTranscode:x.material.progressTranscode,onCancel:()=>null==t?void 0:t(x)})})}return T?d(T.material.fileStatus,T.material.duration)?(0,oe.jsx)(oe.Fragment,{children:i}):(0,oe.jsx)("div",{className:"status-wrapper",children:(0,oe.jsx)(ne,{fileStatus:T.material.fileStatus,progressUpload:T.material.progress,progressMigrate:T.material.progressMigrate,onReSync:()=>{var e;return null===(e=onReSync)||void 0===e?void 0:e(T.fileId)},onCancel:()=>null==t?void 0:t(w),onRetry:()=>null==o?void 0:o(w)})}):w?d(w.fileStatus,w.duration)?(0,oe.jsx)(oe.Fragment,{children:i}):(0,oe.jsx)("div",{className:"status-wrapper",children:(0,oe.jsx)(ne,{fileStatus:w.fileStatus,progressUpload:w.progress,onCancel:()=>null==t?void 0:t(w),onRetry:()=>null==o?void 0:o(w)})}):(0,oe.jsx)("div",{className:"status-wrapper",children:(0,oe.jsx)(ie,{visible:!0})})}if(T){var k,A,N;const e=T.material,o=void 0===e?{}:e,a=o.fileStatus,r=void 0===a?0:a,l=o.duration,n=void 0===l?0:l;return d(se(r,n),n)?(0,oe.jsx)(oe.Fragment,{children:i}):(0,oe.jsx)("div",{className:"status-wrapper",children:(0,oe.jsx)(ne,{fileStatus:null===(k=T.material)||void 0===k?void 0:k.fileStatus,progressDownload:null===(A=T.material)||void 0===A?void 0:A.progressDownload,progressTranscode:null===(N=T.material)||void 0===N?void 0:N.progressTranscode,onCancel:()=>null==t?void 0:t(T),disableUploadCancel:!(null!=T&&T.fileKey)})})}return j?d(j.fileStatus,j.duration)?(0,oe.jsx)(oe.Fragment,{children:i}):(0,oe.jsx)("div",{className:"status-wrapper",children:(0,oe.jsx)(ne,{fileStatus:j.fileStatus,progressUpload:j.progress,onCancel:()=>null==t?void 0:t(j),onRetry:()=>null==o?void 0:o(j),disableUploadCancel:!(null!=j&&j.fileKey)})}):(0,oe.jsx)("div",{className:"status-wrapper",children:(0,oe.jsx)(ie,{visible:!0})})}));const de={[f.K8.TextToImage]:"image",[f.K8.ImageToImage]:"image",[f.K8.ImageStyleAvatar]:"image",[f.K8.ImageNightEnhance]:"image",[f.K8.ImageStyleConversion]:"image",[f.K8.ImageUpscaler]:"image",[f.K8.ImageAiToning]:"image",[f.K8.ImageColoring]:"image",[f.K8.ImageRestoration]:"image",[f.K8.VideoStyleConversion]:"video",[f.K8.VideoUpscaler]:"video",[f.K8.VideoSlowMotion]:"video",[f.K8.VideoStabilization]:"video"};var ue;function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},pe.apply(this,arguments)}const ge=e=>a.createElement("svg",pe({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ue||(ue=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.66602 4.16667C1.66602 3.24619 2.41221 2.5 3.33268 2.5H16.666C17.5865 2.5 18.3327 3.24619 18.3327 4.16667V9.58333H1.66602V4.16667ZM1.66602 11.25H18.3327V12.5C18.3327 13.4205 17.5865 14.1667 16.666 14.1667H3.33268C2.41221 14.1667 1.66602 13.4205 1.66602 12.5V11.25ZM13.7493 17.5C13.9795 17.5 14.166 17.3135 14.166 17.0833V16.25C14.166 16.0199 13.9795 15.8333 13.7493 15.8333H6.24935C6.01923 15.8333 5.83268 16.0199 5.83268 16.25V17.0833C5.83268 17.3135 6.01923 17.5 6.24935 17.5H13.7493Z",fill:"currentColor"})));var me=function(e){return e[e.GoogleDrive=0]="GoogleDrive",e[e.DropBox=1]="DropBox",e[e.Cloud=2]="Cloud",e[e.FilePicker=3]="FilePicker",e[e.Drag=4]="Drag",e}(me||{});const fe=(0,r.PA)((function({multiple:e=!1,menuOnly:t,showDivider:o,onExecuteAction:r,onClickAction:m,children:_}){const v=(0,a.useState)(!0),b=(0,i.A)(v,2),y=(b[0],b[1],(0,a.useState)(!1)),x=(0,i.A)(y,2),w=x[0],T=x[1],j=(0,a.useState)(!1),k=(0,i.A)(j,2),A=k[0],N=k[1],S=(0,a.useState)(e?[]:""),I=(0,i.A)(S,2),L=I[0],E=I[1],O=(0,a.useContext)(l.xM),F=O.filerCloud,M=O.profile,P=O.loginSdk,R=O.smartToolType,V=[de[O.smartToolType]],U=z({multiple:e,accept:V,beforeUpload:e=>!Q.b.includes(e.type)||(_e("not support gif"),!1)}),H=U.pickThirdFile,J=U.pickLocalFile,X=U.onCancelVisitorFile,ee=U.onCancel,te=U.onRetry,ie=(0,a.useMemo)((()=>{var e;const t=R?null===(e=O.filerCloud)||void 0===e?void 0:e._options.dependencies.EVER_CLOUD_SUPPORT_SOURCE_TYPE[de[R]]:"";return"object"==typeof t?(0,Q.Yw)(null==t?void 0:t.accept):"string"==typeof t?(0,Q.Yw)(t):""}),[O.filerCloud]),ae=(0,p.B)(),re=(0,a.useRef)(null),le=(0,a.useRef)(0),ne=(0,a.useCallback)((()=>{var e;if(!M)return[];const t="allAccept"!==ie&&R?de[R]:"",o=null==O||null===(e=O.filerCloud)||void 0===e?void 0:e.store.globalMaterials;return null==o?void 0:o.filter((e=>{var o,i,a;return!Q.b.includes(e.type)&&(t?null==e||null===(o=e.type)||void 0===o?void 0:o.startsWith(t):(null==e||null===(i=e.type)||void 0===i?void 0:i.startsWith("image"))||(null==e||null===(a=e.type)||void 0===a?void 0:a.startsWith("video")))}))}),[M,null==O?void 0:O.filerCloud,ie]),se=async()=>{var t;if(!L.length)return;const o=ne().find((e=>e.md5===L));try{const e=await(0,Q._x)(F,o.md5);O.handleSelectCloudFile(e)}catch(a){var i;return c.A.error(ae.t("web_brand_text_add_failed",{},"Couldn't add. Try again.")),null==F||F.refreshGlobalMaterials(),void(null===(i=re.current)||void 0===i||i.close())}(0,B.h5)((()=>{o.playInfo||o.fileStatus!==C.o.Online||(O.filerCloudStore.packageAssetsUpdate({md5:o.md5,material:{fileStatus:C.o.Transcoding}}),O.filerCloudStore.dirtySet("transcode",!0)),O.handleUploadSuccess({md5:o.md5,source:"my_space",material:o})})),null===(t=re.current)||void 0===t||t.close(),E(e?[]:"")},ue=(0,G.A)(((e,t)=>{const o=Array.isArray(e)?e:[e];return t.filter((e=>o.includes(e.md5))).every((e=>(0,K.d)({width:e.width,height:e.height,duration:e.duration?e.duration/1e3:0,smartToolType:R,eventTracker:O.eventTracker,acceptType:de[O.smartToolType]})))})),pe=async()=>{var e,t,o;if(null==M||!M.uid)return void(null==P||P.login({enter_from:"my-space",tool_type:f.Ww[(0,h.b0)(R)],current_page:"smart_tool_page"}));O._repotSmartToolPage({action:"my_space"});const i=ne(),a=null==F?void 0:F.store.globalMaterialsLoading;null===(e=re.current)||void 0===e||e.open({title:ae.t("web_tool_Select_file",{},"Select file"),data:null===(t=O.currentSpaceDirectoryFiles)||void 0===t?void 0:t.filter((e=>"folder"!==e.type)).map((e=>i.find((t=>t.md5===e.md5)))),value:L,folder:null===(o=O.currentSpaceDirectoryFiles)||void 0===o?void 0:o.filter((e=>"folder"===e.type)),onSelect:e=>{ue(e,i)&&E(e)},loading:a,onDirectorySelect:({assetId:e,sourcePath:t,name:o})=>{O.setSpaceDirectoryAssetId({assetId:e,sourcePath:t,name:o})},onCancel:()=>{O.resetDirectoryInfo()},sourcePath:O.directoryPath,status:O.spaceLoadingStatus,onRetry:O.getCurrentSpaceDirectoryFiles.bind(O)})};(0,a.useEffect)((()=>(0,B.fm)((()=>{var t,o,i;const a=ne()||[],r=null==F?void 0:F.store.globalMaterialsLoading;a.forEach((e=>{Boolean(e.coverUrl)}));let l=[];l=e?a.filter((e=>L.find((t=>e.md5===t)))):a.filter((e=>L===e.md5)),null===(t=re.current)||void 0===t||t.update({data:null===(o=O.currentSpaceDirectoryFiles)||void 0===o?void 0:o.filter((e=>"folder"!==e.type)).map((e=>a.find((t=>t.md5===e.md5)))),value:L,folder:null===(i=O.currentSpaceDirectoryFiles)||void 0===i?void 0:i.filter((e=>"folder"===e.type)),loading:r,onSelect:e=>{ue(e,a)&&E(e)},onConfirm:se,sourcePath:O.cloudDirectoryPath,status:O.spaceLoadingStatus})}))),[L,ne,ie,null==F?void 0:F.store.globalMaterials.length,null==F?void 0:F.store.globalMaterialsLoading,O.currentSpaceDirectoryFiles,O.currentSpaceDirectoryAssetId,O.cloudDirectoryPath,O.spaceLoadingStatus]);const fe=(0,a.useCallback)(((e,t)=>{switch(e){case me.Cloud:pe();break;case me.GoogleDrive:H("GoogleDrive");break;case me.DropBox:H("Dropbox");break;case me.FilePicker:t&&J(t,"click_add");break;case me.Drag:t&&J(t,"drag_to_panel")}T(!1),null==r||r()}),[H,J]),he=e=>{ye(Array.from(e.target.files),me.FilePicker),e.target.value=null};function _e(e){c.A.error(ae.t("web_magicTools_toast_reselect_material",{},"Couldn\u2019t process material. Try another one.")),ve(e)}function ve(e){var t;null===(t=O.eventTracker)||void 0===t||t.trackerBoomerang("material_upload_block_show",{current_page:"smart_tool_page",block_reason:e,tool_type:f.Ww[(0,h.b0)(O.smartToolType)]},{business:[Z.PK.Tool]})}const be=()=>{O._repotSmartToolPage({action:"select_material"})},ye=async(e,t)=>{for(const o of Array.from(e||[])){if(!(0,W.s0)({file:o,accepts:V}))return c.A.error(ae.t("web_not_supported_material_type",{},"Material format not supported.")),void ve("web_not_supported_material_type");if("video"===de[R]){const e=await(0,Q.vl)(o);if(!e)continue;const t=e.videoWidth,i=e.videoHeight,a=e.duration;if(!(0,K.d)({width:t,height:i,duration:a,smartToolType:R,eventTracker:O.eventTracker,acceptType:"video"}))return}if("image"===de[R]){const e=await(0,Q.Ru)(o),t=e.width,i=e.height;if(Q.b.includes(o.type))return void _e("not support gif");if(!(0,K.d)({acceptType:"image",width:t,height:i,duration:void 0,smartToolType:R,eventTracker:O.eventTracker}))return}}fe(t,e)};(0,a.useEffect)((()=>{if(O._localFileToUpload){const e=O._localFileToUpload;O._localFileToUpload=void 0,J([e])}}),[O._localFileToUpload]);const xe=()=>(0,oe.jsx)(oe.Fragment,{children:(0,oe.jsxs)(d.A,{onClickMenuItem:()=>null==m?void 0:m(),className:D()("main-upload-menu",t&&"embed"),children:[t&&(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsxs)(d.A.Item,{className:"third-file-item",children:[(0,oe.jsx)(ge,{size:20}),ae.t("web_tool_my_device",{},"My Device"),(0,oe.jsx)("input",{className:"input-btn-upload",type:"file",title:"",accept:ie,onChange:e=>he(e),onClick:e=>{null==m||m(),e.stopPropagation(),be()},multiple:!1})]},"1"),o&&(0,oe.jsx)("div",{className:"st-upload__menu-item-divider"})]}),(0,oe.jsxs)(d.A.Item,{className:"third-file-item",onClick:()=>pe(),children:[(0,oe.jsx)(s.eNF,{size:20}),ae.t("cloud_web",{},"Cloud")]},"2"),(0,oe.jsxs)(d.A.Item,{className:"third-file-item",onClick:()=>H("GoogleDrive"),children:[(0,oe.jsx)(s.nYN,{size:20}),ae.t("web_tool_Google_Drived",{},"Google Drive")]},"3"),(0,oe.jsxs)(d.A.Item,{className:"third-file-item",onClick:()=>H("Dropbox"),children:[(0,oe.jsx)(s.SeZ,{size:20}),ae.t("web_tool_Dropbox",{},"Dropbox")]},"4")]})}),we=(0,oe.jsx)(u.A,{trigger:t?"click":"hover",position:t?"top":"br",popupVisible:w,onVisibleChange:T,droplist:xe(),children:t?_:(0,oe.jsx)("div",{className:"file-third",children:(0,oe.jsx)(s.NpW,{})})});return(0,a.useEffect)((()=>{g.Ay.performanceMarkEnd(g.R$)}),[]),t?(0,oe.jsxs)(oe.Fragment,{children:[xe(),(0,oe.jsx)(q.F,{ref:re})]}):(0,oe.jsx)(Y.A,{width:1,height:1,children:(0,oe.jsxs)("div",{className:D()({"upload-container":!t},{"upload-dragover":A}),onDrop:e=>{e.preventDefault(),e.stopPropagation(),le.current=0,N(!1),e.dataTransfer.files.length>1?c.A.error(ae.t("web_toolsSEO_support_one_file",{},"You can only upload 1 file")):ye(Array.from(e.dataTransfer.files),me.Drag)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragEnter:e=>{le.current++,le.current%2&&(N(!0),e.preventDefault(),e.stopPropagation())},onDragLeave:()=>{le.current++,le.current%2||(N(!1),le.current=0)},children:[(0,oe.jsx)(q.F,{ref:re}),(0,oe.jsx)(ce,{store:O,onCancel:async e=>{"visitor"===(null==e?void 0:e.auth)?X(e):ee(e),O.setUploadingMainMaterial(void 0),O.setMainMaterial({}),O.handleUploadFailure({file:e.file,status:n.$q.CANCEL})},onRetry:te,menuOnly:t,children:t?(0,oe.jsx)(oe.Fragment,{children:we}):(0,oe.jsx)(oe.Fragment,{children:(0,oe.jsxs)("div",{className:"upload-inner",children:[(0,oe.jsx)(s.bWU,{size:80,className:"light"}),(0,oe.jsx)(s.NU$,{size:80,className:"dark"}),(0,oe.jsx)("p",{className:"title-drop",children:ae.t("web_magicTools_text_drag_file_here",{},"Drag and drop file here")}),(0,oe.jsx)("div",{className:"title-or",children:ae.t("web_magicTools_text_or",{},"OR")}),(0,oe.jsxs)("div",{className:"file-device",children:[(0,oe.jsx)("span",{className:"file-upload-txt",children:ae.t("web_magicTools_button_select_from_device",{},"Upload")}),we,(0,oe.jsx)("input",{className:"input-btn-upload",type:"file",title:"",accept:ie,onChange:e=>he(e),onClick:()=>{be()},multiple:!1})]}),!t&&(0,oe.jsx)($.IW,{})]})})})]})})}))},46025:function(e,t,o){o.d(t,{A:function(){return h}});var i=o(99415),a=o(97834),r=o(67308),l=o(53265),n=o(95118),s=o(89243),c=o(46012),d=o(52882),u=o(18139),p=o(36060),g=o(62822),m=o(31399);let f=function(e){return e.CAPACITY_BUY="CAPACITY_BUY",e.CAPACITY_INSUFFICIENT="CAPACITY_INSUFFICIENT",e}({});var h=(0,a.PA)((function(){var e,t;const a=(0,r.useContext)(d.xM),h=a.loginSdk,_=a.expandOnUpload,v=a.expandOnSync,b=a.expandOnUpgrade,y=a.expandOnExport,x=a.eventTracker,w=a.cloudInfo,T=a.workspaceList,j=a.setExpandModalInstance,C=(0,r.useState)(!1),k=(0,i.A)(C,2),A=k[0],N=k[1],S=function(e){const t=(0,r.useContext)(d.xM),o=(0,p.B)().i18n,i=e=>e,a=(0,r.useMemo)((()=>e?o.t("web_editor_storage_expand",{},"Expand"):o.t("web_Get_it",{},"Got it")),[e]),l=(0,r.useMemo)((()=>e?o.t("web_Get_it",{},"Got it"):o.t("web_tool_Retry",{},"Try again")),[e]),n=(0,r.useMemo)((()=>e?o.t("web_magicTools_toast_no_space_to_save",{"text-action":i},"Your cloud space is almost full. <text-action>Expand</text-action> your cloud space storage and try again."):o.t("web_editor_transfer_storage_limit2",{},"Your cloud space has reached the storage limit. You can delete some of your cloud files.")),[e]),s=(0,r.useMemo)((()=>t.expandOnSync||t.expandOnUpgrade?o.t("cannot_web_save_web_peoject",{},"Couidn't save project"):t.expandOnUpload?o.t("web_space_uploadlist_failed",{},"Couldn't upload"):t.expandOnExport?o.t("failed_export",{},"Couldn't export"):o.t("cannot_web_save_web_peoject",{},"Couldn't save project")),[t.expandOnExport,t.expandOnSync,t.expandOnUpload,t.expandOnUpgrade]),c=(0,r.useMemo)((()=>{const e=m.Ww[(0,g.b0)(t.smartToolType)];let o="auto_save_fail";return t.expandOnSync&&(o="sync_fail"),t.expandOnUpload&&(o="upload_fail"),t.expandOnExport&&(o="export_fail"),{pageFrom:u.c.spaceLimitUpgrade,enterFrom:o,currentPage:"smart_tool_page",toolType:e}}),[t.expandOnSync,t.expandOnUpload,t.expandOnUpgrade,t.expandOnExport]),f=(0,r.useCallback)((()=>{var e;t.showExpandOnUploadHide(),t.showExpandOnSyncHide(),t.showExpandOnUpgradeHide(),t.showExpandOnExportHide(),t.resetToEmpty(),null===(e=t.filerVisitor)||void 0===e||e.store.visitorAssetsReset()}),[]);return{okText:a,cancelText:l,contentText:n,titleText:s,onAfterOk:(0,r.useCallback)((()=>{f()}),[t.expandOnSync,f]),onAfterCancel:(0,r.useCallback)((()=>{var o,i,a;e?(f(),t.expandOnSync&&(null===(o=t.filerVisitor)||void 0===o||o.store.dirtySet("migrate",!1),null===(i=t.filerVisitor)||void 0===i||i.store.stateSet("migrate","idle"),null===(a=t.filerCloud)||void 0===a||a.store.stateSet("migrate","idle"))):(f(),window.location.reload())}),[t.expandOnSync,f,e]),handleStateReset:f,reporterParams:c}}(A),I=S.titleText,L=S.contentText,E=S.okText,O=S.cancelText,F=S.onAfterCancel,M=S.onAfterOk,P=S.reporterParams,R=(0,r.useState)("0"),V=(0,i.A)(R,2),U=V[0],z=V[1],H=(0,r.useCallback)((async()=>{if(!x)return;const e=(await x.getToken()).web_id;z(e)}),[x]);(0,r.useEffect)((()=>{H()}),[x]);const D=()=>{var e;return null==h||null===(e=h.profile)||void 0===e?void 0:e.uid},B=()=>{null==h||h._userService.send("REFRESH_USER_SPACE")},W=(e,t)=>{var o;"SUCCESS"===e&&(B(),null==h||h._userService.send({type:"UPDATE_WORKSPACE",workspaceId:null==h||null===(o=h.cloudInfo)||void 0===o||null===(o=o.workspaceInfo)||void 0===o?void 0:o.workspace_id}),null==h||h._userService.send({type:"UPDATE_VIP_INFO"}))},Z=(0,r.useCallback)(((e,t,o)=>{A&&(null==x||x.track(e,t,{business:[l.PK.Tool]}))}),[A]),K=async(...e)=>null==x?void 0:x.getVar(...e),G=async()=>{var e,t;if(!D())return null;const i=(0,(await Promise.all([o.e(5271),o.e(2841),o.e(739),o.e(9013),o.e(6274),o.e(4189),o.e(4454),o.e(4864),o.e(6186)]).then(o.bind(o,57146))).LvStorageExpandModalSingleton)({userInfo:{...null==h?void 0:h.profile,hasLogined:!0,vipInfo:null==h?void 0:h.vipInfo},workspaceInfo:null==h||null===(e=h.cloudInfo)||void 0===e?void 0:e.workspaceInfo,defaultWorkspaceInfo:{...T.find((e=>(null==h?void 0:h._userService.state.context.userInfo.spaceInfo.workspaceId)===e.workspace_id))},cloudInfo:null==h||null===(t=h.cloudInfo)||void 0===t?void 0:t.workspaceExpandInfo,isBOE:s.SC,cookieConsent:n.F,riskInfo:{webid:U},getABTestConfig:K,onPayStatusChange:W,handleReporterProcessing:Z,onModalStatusChange:e=>{"CLOSED"===e&&M()}});return j(i),i},q=async()=>{if(!D())return;const e=await G(),t=await(null==e?void 0:e.isSupportExpand());t&&N(Boolean(t))};(0,r.useEffect)((()=>{q()}),[null==h||null===(e=h.profile)||void 0===e?void 0:e.uid,U]),(0,r.useEffect)((()=>{null==h||h.on("lifecycle:mounted",(()=>{setTimeout((()=>{q()}),0)}))}),[h]),(0,r.useEffect)((()=>{D()&&(async()=>{try{await G()}catch(e){c.Zq.log("expand not ready","expand error",e)}})()}),[null==h||null===(t=h.profile)||void 0===t?void 0:t.uid,w]);const $=async()=>{if(M(),!A)return;const e=await G();null==e||e.show({type:f.CAPACITY_BUY,reporterParams:P})};return(0,r.useEffect)((()=>{(_||v||b||y)&&(async()=>{if(D()){B();const e=await G();null==e||e.show({type:f.CAPACITY_INSUFFICIENT,modalProps:{okText:E,cancelText:O,title:I,content:L,onOk:$,onCancel:F},reporterParams:{...P,pageFrom:u.c.spaceLimitUpgrade}})}})()}),[_,v,b,y]),null}))},47263:function(e,t,o){o.d(t,{Ru:function(){return d},Yw:function(){return s},_x:function(){return l},b:function(){return n},vl:function(){return c}});var i=o(99415),a=o(94284),r=o(71716);async function l(e,t,o){let l=await(0,r.kU)(e,{md5s:[t]}),n=(0,i.A)(l,1)[0];if(!n){await(0,a.y)(200),await e._sdk.forceSyncPullUpdates();var s=await(0,r.kU)(e,{md5s:[t]});n=(0,i.A)(s,1)[0]}if(!n)throw new Error("intelligent asset no material");if(o)return;const c=e.store.globalMaterials.find((e=>e.md5===t)),d={md5:t,path:t,material:c,meta:{visible:!0}};return e.store.packageAssetsInsertOrUpdate(d),e.store.dirtySet("upgrade",!0),e.store.dirtySet("visual",!0),d}const n=["image/gif","image/tiff","image/x-tiff","image/x-icon","image/vnd.microsoft.icon","image/svg+xml","image/vnd.adobe.photoshop","application/postscript","image/avif",".tiff",".tif",".ico",".svg",".svgz",".psd",".eps",".avif"],s=e=>e.split(",").filter((e=>".gif"!==e&&!n.includes(e)&&".mts"!==e&&"video/mts"!==e)).join(","),c=e=>{const t=document.createElement("video");return t.preload="metadata",t.src=new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(URL.createObjectURL(e),null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),new Promise((e=>{t.onloadedmetadata=function(){window.URL.revokeObjectURL(t.src),e(t)},t.onerror=()=>{e(void 0)}}))},d=e=>{const t=new Image,o=URL.createObjectURL(e);return t.src=new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(o,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),new Promise((e=>{t.onload=()=>{URL.revokeObjectURL(o),e({width:t.width,height:t.height})},t.onerror=()=>{e({width:0,height:0})}}))}},40239:function(e,t,o){o.d(t,{A:function(){return m}});var i=o(45400),a=o(3184),r=o(67308),l=o(37190),n=o(3501),s=o(38e3);var c=({playState:e})=>{const t=e.buffering;return(0,s.jsx)("div",{className:"st-player-status",children:(0,s.jsx)("div",{className:"st-player-status__center",children:t&&(0,s.jsx)("div",{className:"st-player-status__loading",children:(0,s.jsx)(n.A,{})})})})},d=o(40492),u=o(33188),p=o(78786);class g extends u.Ay{afterCreate(){this.on(p.PLAY,(()=>{this.setStyle("display","none")})),this.on(p.ENDED,(()=>{this.setStyle("display","block")}))}render(){return`<img class='xgplayer-poster' src='${this.playerConfig.poster}' crossOrigin='anonymous' />`}}(0,d.A)(g,"pluginName","PosterPlugin");var m=e=>{var t;const o=e.onStateUpdate,n=(0,r.useMemo)((()=>`st-video-viewer-xgplayer-${(0,i.A)()}`),[]),d=(0,a.M)({...e,config:{...e.config,id:n,plugins:null!==(t=e.config)&&void 0!==t&&t.poster?[g]:[]}}),u=d.playerIns,p=d.playerState;(0,r.useLayoutEffect)((()=>{null==o||o({playerIns:u,playerState:p})}),[u,p]),window._st_vv_player={playerIns:u,playerState:p};const m=(0,r.useRef)(null);return(0,s.jsxs)("div",{className:"st-video-viewer",ref:m,children:[(0,s.jsx)("div",{id:n}),(0,s.jsx)(c,{playState:p}),(0,s.jsx)(l.A,{player:u,playerState:p,isEmbed:!0,isFullScreen:p.isFullscreen,onSwitchFullscreen:()=>{null!=u&&u.fullscreen?null==u||u.exitFullscreen():null==u||u.getFullscreen(m.current)},options:e.controlsOptions})]})}},58933:function(e,t,o){o.d(t,{K8:function(){return r},Ww:function(){return a},l3:function(){return u},oQ:function(){return i},sZ:function(){return d},yl:function(){return c}});let i=function(e){return e[e.TextToImage=1]="TextToImage",e[e.ImageToImage=2]="ImageToImage",e[e.ImageStyleAvatar=3]="ImageStyleAvatar",e[e.ImageNightEnhance=4]="ImageNightEnhance",e[e.ImageStyleConversion=5]="ImageStyleConversion",e[e.ImageUpscaler=6]="ImageUpscaler",e[e.ImageAiToning=7]="ImageAiToning",e[e.ImageColoring=8]="ImageColoring",e[e.ImageRestoration=9]="ImageRestoration",e[e.VideoStyleConversion=10]="VideoStyleConversion",e[e.VideoUpscaler=11]="VideoUpscaler",e[e.VideoSlowMotion=12]="VideoSlowMotion",e[e.VideoStabilization=13]="VideoStabilization",e[e.Resize=1001]="Resize",e[e.RemoveBackground=1002]="RemoveBackground",e[e.Script=1003]="Script",e}({});const a={5:"remove_background",6:"resize_video",7:"ad_script",8:"text_to_image",9:"image_to_image",10:"portrait_generator",11:"image_style_transfer",12:"video_style_transfer",13:"image_upscaler",14:"ai_color_correction",15:"photo_colorizer",16:"old_photo_restoration",17:"low_light_image_enhancement",18:"video_upscaler",19:"super_slow_motion",20:"video_stabilization",21:"chatgpt",22:"autocut",23:"text_to_video",24:"url_to_video",25:"template",26:"chatgpt_search",27:"long_to_short"},r=i,l=String.fromCharCode(99);String.fromCharCode(116);let n=function(e){return e[e.VA=0]="VA",e[e.GCP=1]="GCP",e[e.SG=2]="SG",e}({}),s=function(e){return e.VA="maliva",e.GCP="useast2a",e.SG="sg1",e}({});n.GCP,s.GCP,n.VA,s.VA,n.SG,s.SG,s.GCP,n.GCP,s.VA,n.VA,s.SG,n.SG;const c={APP_NAME:"cc_web",APP_ID:"348188",APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0"},d=348188,u=324442},31399:function(e,t,o){o.d(t,{sZ:function(){return r.sZ},oQ:function(){return r.oQ},Ww:function(){return r.Ww},bo:function(){return a},a$:function(){return oe},x_:function(){return ee},K8:function(){return r.K8},l3:function(){return r.l3},xM:function(){return i},r6:function(){return H},XC:function(){return z},gh:function(){return B},LH:function(){return U},MD:function(){return D}});const i={TikTok:{privacy_level_options:["PUBLIC_TO_EVERYONE","MUTUAL_FOLLOW_FRIENDS","SELF_ONLY"],comment_disabled:!1,duet_disabled:!1,stitch_disabled:!1}},a={EVER_CLOUD:{BELOW_VERSION:40008,INSUFFICIENT_SPACE:20113,INVALID_IDC:1037},NO_SIGN_UPLOAD:{ACCESS_TIME_LIMIT:"200201",SOURCE_IS_OVERTIME:"200202",VIDEO_TRANSCODE_FAIL:"4010"},SIGN_UP_CODE:{SEND_CODE_ERROR_CODE:{SENDING_FREQUENTLY:1206,EMAIL_ERROR:1044},REGISTER_ERROR_CODE:{CODE_WRONG:1704,CODE_EXPIRED:1703},LOGIN_ERROR_CODE:{PASSWORD_WRONG:1009,USER_NOT_EXITE:1011}},USER_CODE:{NO_LOGIN:1015},SMART_TOOL_CREATE:{ACCESS_TIME_LIMIT:"203101",NO_AVATAR:"203102",FORMAT_UNSUPPORT:"203103",AIGC_SENSITIVE_WORDS:"203104",AIGC_SENSITIVE_IMAGES:"203105",NOT_ENOUGH_STORAGE:"200406",NO_LOGIN:"1015"}};var r=o(58933),l=o(14148),n=o.p+"static/media/cgi-cartoon.2466cf97.png",s=o.p+"static/media/asahi_nagata.1925a24c.png",c=o.p+"static/media/flat_avatar.f11f2646.png",d=o.p+"static/media/lizzy_lawrence.c3241400.png",u=o.p+"static/media/punk_gogh.10102b6c.png",p=o.p+"static/media/bopu_cartoon_abroad_pixsoul.661c4905.png",g=o.p+"static/media/general_oil_painting.79de51d6.png",m=o.p+"static/media/general_hkcartoon.3d38dd5a.png",f=o.p+"static/media/general_prequel_cartoon.dc60d684.png",h=o.p+"static/media/portrait_general_prequel_cartoon.905355d2.png",_=o.p+"static/media/portrait_3dgame_cartoon_abroad.156ae490.png",v=o.p+"static/media/portrait_hkcartoon.b8e08d98.png",b=o.p+"static/media/tupo_cartoon.e6950ef3.png",y=o.p+"static/media/comic_charliebo_artstyle.9c11026d.png",x=o.p+"static/media/punk_guofeng3.64e82538.png",w=o.p+"static/media/punk_real.985c0594.png",T=o.p+"static/media/punk_watercolor.bc01732b.png",j=o.p+"static/media/comic_holliemengert_artstyle.5d1ff543.png",C=o.p+"static/media/punk_synthwavepunk.440525ce.png",k=o.p+"static/media/ghibli.d325125e.png",A=o.p+"static/media/punk_caiqian.9c059fda.png",N=o.p+"static/media/img2img_daye_cc.be44e895.png",S=o.p+"static/media/cool_japan.64e01e17.png",I=o.p+"static/media/usanime.b4dde494.png",L=o.p+"static/media/anime_avatar.1144c6d4.png",E=o.p+"static/media/comic_jamesdaly_artstyle.f5f08b6e.png",O=o.p+"static/media/comic_andreasrocha_artstyle.79de51d6.png",F=o.p+"static/media/anime_artist.380106a2.png",M=o.p+"static/media/comic_marioalberti_artstyle.02acda74.png",P=o.p+"static/media/guozovya.eff16eec.png",R=o.p+"static/media/custom.018639f5.png",V=o(22194);function U(e,t){const o={[r.K8.TextToImage]:{hot:["high_aes_general_custom_limit","guozovya","comic_charliebo_artstyle","comic_holliemengert_artstyle","punk_synthwavepunk","comic_andreasrocha_artstyle"],art:["high_aes_general_custom_limit","punk_synthwavepunk","comic_charliebo_artstyle","img2img_daye_cc","guozovya","punk_real"],anime:["comic_holliemengert_artstyle","ghibli","usanime","anime_avatar","comic_jamesdaly_artstyle","anime_artist","comic_andreasrocha_artstyle","comic_marioalberti_artstyle"],realistic:["comic_charliebo_artstyle","punk_real","punk_guofeng3"]},[r.K8.ImageToImage]:{hot:["high_aes_general_custom_limit","guozovya","punk_real","comic_holliemengert_artstyle","punk_synthwavepunk","comic_andreasrocha_artstyle"],art:["high_aes_general_custom_limit","punk_synthwavepunk","comic_charliebo_artstyle","img2img_daye_cc","guozovya","punk_real"],anime:["comic_holliemengert_artstyle","ghibli","usanime","anime_avatar","comic_jamesdaly_artstyle","anime_artist","comic_andreasrocha_artstyle","comic_marioalberti_artstyle"]}}[e];if(!o||!o[t])return[];const i=o[t],a=B();return i.map((t=>a[e].find((e=>e.value===t))))}function z(e,t){const o=["hot","art","anime","realistic"];for(const i of o)if(U(e,i).find((e=>e.value.includes(t))))return i}function H(e,t,o){return null!=t&&t.width&&null!=t&&t.height?t.width/t.height:e===r.K8.TextToImage?o===V.wx.SquareScreen?1:o===V.wx.HorizontalScreen?640/384:.6:.6}function D(e){return"bopu_cartoon_abroad_pixsoul"===e?[512,512]:"original"}function B(){return{[r.K8.TextToImage]:[{label:l.F2.t("web_magicTools_button_daye",{},"Collage"),value:"img2img_daye_cc",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(N,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_asahi_nagata",{},"Riso print"),value:"asahi_nagata",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(s,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_lizzy_lawrence",{},"Pop art"),value:"lizzy_lawrence",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(d,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_flat_avatar",{},"Clip art"),value:"flat_avatar",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(c,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_fancy_punk",{},"Cyberpunk"),value:"punk_synthwavepunk",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(C,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_disney",{},"CGI cartoon"),value:"punk_disney",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_caiqian",{},"Colored pencil"),value:"punk_caiqian",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(A,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_watercolor",{},"Enhanced watercolor"),value:"punk_watercolor",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(T,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_gogh",{},"Impasto"),value:"punk_gogh",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(u,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_jamesdaly",{},"Classic American anime"),value:"comic_jamesdaly_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(E,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_andreasrocha",{},"Oil painting anime"),value:"comic_andreasrocha_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(O,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_pepelarraz",{},"Hand-drawn comic"),value:"comic_pepelarraz_artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"},{label:l.F2.t("web_magicTools_button_style_marioalberti",{},"Pen comic"),value:"comic_marioalberti_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(M,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_holliemengert",{},"American cartoon"),value:"comic_holliemengert_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(j,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_usa_cartoon",{},"Retro American comics"),value:"usanime",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(I,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_anime_artist",{},"Trendy anime"),value:"anime_artist",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(F,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_japanese_manga_avatar",{},"Retro anime"),value:"anime_avatar",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(L,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_studio_ghibli",{},"Ghibli style"),value:"ghibli",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(k,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_cold_toned_japanese",{},"Cute anime"),value:"cool_japan",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(S,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_charliebo",{},"Computer game"),value:"comic_charliebo_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(y,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_guofeng",{},"CGI realistic"),value:"punk_guofeng3",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(x,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_real",{},"CGI surreal"),value:"punk_real",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(w,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_guozovya",{},"Surreal"),value:"guozovya",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(P,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_smart_tools_title_custom_style",{},"Custom"),value:"high_aes_general_custom_limit",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(R,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}],[r.K8.ImageToImage]:[{label:l.F2.t("web_magicTools_button_daye",{},"Collage"),value:"img2img_daye_cc",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(N,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_asahi_nagata",{},"Riso print"),value:"asahi_nagata",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(s,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_lizzy_lawrence",{},"Pop art"),value:"lizzy_lawrence",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(d,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_flat_avatar",{},"Clip art"),value:"flat_avatar",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(c,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_fancy_punk",{},"Cyberpunk"),value:"punk_synthwavepunk",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(C,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_disney",{},"CGI cartoon"),value:"punk_disney",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_caiqian",{},"Colored pencil"),value:"punk_caiqian",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(A,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_watercolor",{},"Enhanced watercolor"),value:"punk_watercolor",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(T,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_gogh",{},"Impasto"),value:"punk_gogh",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(u,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_jamesdaly",{},"Classic American anime"),value:"comic_jamesdaly_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(E,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_andreasrocha",{},"Oil painting anime"),value:"comic_andreasrocha_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(O,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_pepelarraz",{},"Hand-drawn comic"),value:"comic_pepelarraz_artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"},{label:l.F2.t("web_magicTools_button_style_marioalberti",{},"Pen comic"),value:"comic_marioalberti_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(M,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_holliemengert",{},"American cartoon"),value:"comic_holliemengert_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(j,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_usa_cartoon",{},"Retro American comics"),value:"usanime",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(I,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_anime_artist",{},"Trendy anime"),value:"anime_artist",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(F,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_japanese_manga_avatar",{},"Retro anime"),value:"anime_avatar",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(L,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_studio_ghibli",{},"Ghibli style"),value:"ghibli",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(k,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_cold_toned_japanese",{},"Cute anime"),value:"cool_japan",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(S,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_charliebo",{},"Computer game"),value:"comic_charliebo_artstyle",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(y,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_real",{},"CGI surreal"),value:"punk_real",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(w,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_guofeng",{},"CGI realistic"),value:"punk_guofeng3",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(x,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_style_guozovya",{},"Surreal"),value:"guozovya",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(P,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_smart_tools_title_custom_style",{},"Custom"),value:"high_aes_general_custom_limit",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(R,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}],[r.K8.ImageStyleAvatar]:[{label:l.F2.t("web_magicTools_button_cartoon_face",{},"3D cartoon"),value:"tupo_cartoon",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(b,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_pop_style",{},"Pop"),value:"bopu_cartoon_abroad_pixsoul",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(p,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_cartoon_style",{},"Manga"),value:"prequel_cartoon",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(h,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_dimensional_game_style",{},"3D game"),value:"3dgame_cartoon_abroad",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(_,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_hongkong_cartoon_style",{},"Hong Kong cartoon"),value:"hkcartoon",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(v,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}],[r.K8.ImageStyleConversion]:[{label:l.F2.t("web_magicTools_button_cartoon_style",{},"Manga"),value:"prequel_cartoon",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(f,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_magicTools_button_hongkong_cartoon_style",{},"Hong Kong cartoon"),value:"hkcartoon",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(m,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{label:l.F2.t("web_smarttools_text_oil_painting",{},"Oil paint"),value:"cartoon_oilpaintv2_img2img",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(g,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}],[r.K8.VideoStyleConversion]:[{value:"charliebo artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"},{value:"holliemengert artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"},{value:"pepelarraz artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"},{value:"andreasrocha artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"},{value:"jamesdaly artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"},{value:"guozovya artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"},{value:"usanime artstyle",src:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/tos_260b933afaba41a4f02bc3699f21cba7.jpg"}]}}var W=o.p+"static/media/correct-level1.54ab1c9b.png",Z=o.p+"static/media/correct-level2.e5c2c460.png",K=o.p+"static/media/correct-level3.fb4fbf98.png",G=o.p+"static/media/correct-level4.4db7de2e.png",q=o.p+"static/media/light-level1.253fe967.png",$=o.p+"static/media/light-level2.d431870f.png",Y=o.p+"static/media/light-level3.3a8e5d3c.png",Q=o.p+"static/media/light-level4.d3bb200b.png",J=o.p+"static/media/restoration-level1.eb9499be.png",X=o.p+"static/media/restoration-level2.f2f4035a.png";const ee={[r.K8.ImageAiToning]:[{value:1,label:"Level 1",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(W,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{value:2,label:"Level 2",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(Z,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{value:3,label:"Level 3",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(K,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{value:4,label:"Level 4",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(G,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}],[r.K8.ImageNightEnhance]:[{value:1,label:"Level 1",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(q,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{value:2,label:"Level 2",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl($,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{value:3,label:"Level 3",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(Y,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{value:4,label:"Level 4",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(Q,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}],[r.K8.ImageRestoration]:[{value:1,label:"Original",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(J,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},{value:2,label:"Colored",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(X,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}]},te=["Watercolor, best quality, extreme detail, highly detailed digital painting, concept art, smooth, clear focus, illustration, extremely detailed cg, 32k, Masterpiece, best quality, shiny skin, soft lighting, bloom, light sparkles, chromatic aberration, sharp focus, masterpiece, cinematic lighting, facula, exquisite facial details.","Beautiful woman wearing pink t-shirt, glasses, headphones, playing video games in her room, realistic digital illustration, pinup style, hyper, detailed, illustration, gorgeous, elegant, intricate, alluring, stunning, realistic.","Game art, beautiful gothic girl, realism, cinematic lighting, black rose, long unkempt hair, black gothic mid century gown, magnificent gothic style church, extremely detailed, bat, best quality, digital painting, eerie atmospheres and whimsical fantasy, light sparkle, poker face, all black, facula, shiny.","Masterpiece, best quality, 8k, RAW photo, solo, dream portrait of Ali Larsen, dreamy and ethereal, expressive pose, big pink eyes, exciting expression, fantasy, intricate, elegant, many rainbow bubbles, highly detailed, digital painting, art station, concept art, cyberpunk wearing, smooth, sharp focus, illustration, art by art germ and Greg Rutkowski and alphonse mucha, Salvador Dali.","Science fiction movie masterpieces, epic beautiful streetscapes, absurd future skyscrapers, botanical gardens, glass, holograms, neon lights, dramatic lighting, beautiful, stunning, intricate architecture, realistic.","city made entirely out of pure translucent emerald glinting brightly in the afternoon sun, airplane window shot, HD.","a home on the woods with vines growing up one side, pink and purple flowers in a garden in front, and a pair of deer walking by. Photorealistic.","A lovely biological world that looks hand-painted with a realistic background.","A coastline with brightly colored houses with japanese architecture, beautiful landscape painting, high fidelity, mesmerizing.","Landscape, night, starry sky, milky way,high resolution.","Moonlit beach scene, dark and moody.","The ancient palace shines in the afternoon sun in the desert, professional photography in high definition, beautiful and charming, real.","Malaysia's food street with a warm, old-fashioned cartoon style and the iconic Petronas Twin Towers in the background.","3D, high quality, 8k, masterpiece, film lighting, fire mage, action shot, magic, C4D, octane render, game art, concept art","A cool girl, round eyes, peaceful expression, white hair, short hair, long shot, front side, solid color background, lines and outline, contrast color","biker style girl with sweet smile, long curly hair, headband, biker suit, motorcycle, screen print, printmaking","Close-up, Half-body, Young japanese girl, Cool, Laugh, perfect black style, Vintage colors, Soft color, Dark tones, eighties, Ultra-high detail, Movie light, Flat illustration, YoneyamaMai, Thick line, Ruthless, black hair","A super cute girl, in red camisole, black hair, on the white background, Kawaii, midrange portrait,  the color of bold contrast, the best quality, 8k","illustration, extremely bold outline, lovely cool girl with random wear, black hair, blue eye, random background, natural color, Digital painting,  by Yoneyama Mai, Close-up","long hair, all white fluffy dress, best quality, sad, girl, falling, arms up, hands over head, dutch angle, starry background, night background","a beautiful girl, Sailor Moon style, wearing laser transparent pvc texture clothing, prism, melancholy expression, beautiful eyes, brilliance, jewelry, portrait, game original painting, anime character concept design, beautiful face, sacred, long transparent iridescent GB hair, reflections transparent iridescent colors on her hair, highly detailed, gorgeous sacred girl, beautiful light on black background","A villa is located in the mountains, middle view is a modern stylish building surrounded by trees, many plants in the foreground, sky and clouds in the foreground, simple shapes, geometric elements, cruschiform style, flat illustration, Ultra High Quality, Ultra HD, 8K, Vivid Brushstrokes","middle view is a modern stylish building surrounded by trees, many plants in the foreground, sky and clouds in the foreground, simple shapes, geometric elements, cruschiform style, flat illustration, Ultra High Quality, Ultra HD, 8K, Vivid Brushstrokes","night, tent, stars, the color of bold contrast, the best quality, 8k","city pop style, young people, bright light, cocktails, Fresh, joyful, illustrator design, 1980s","perfect black style, Vintage colors, Soft color, Dark tones, eighties, Ultra-high detail, Movie light, Flat illustration, YoneyamaMai, Thick line, Ruthless","cool woman, outdoors, chilling, rap pose,  key visual by Sakimichan for Cav Empt, masterpiece, half-length photo","Handsome girl, an extremely delicate and beautiful work, masterpiece, best quality, fine details, short side parted hair, black short hair, blonde curly hair, blonde long hair, checked shirt, sun shining through green leaves, brilliant light shadows, Tyndall effect, gentle, sunny, breezy, close-up","long hair, all white fluffy dress, best quality, sad,1girl,falling,arms up, hands over head,dutch angle, starry background, night_background","a youthful girl, sportswear, long white hair, messy floating hair, colored inner hair, starry sky adorns hair,delicate face,beautiful detailed eyes, stars in the eyes, medium breasts,looking at viewer,  standing in the galaxy, arms behind back","With pink hair and rainbow eyes, beautiful as a fairy, a melancholy expression that stirs affection, side face,floating hair","Japanese biker style girl with sweet smile, long curly hair, headband, biker suit, motorcycle, screen print, printmaking","high saturation,bright,cold winter, perfect black style, Vintage colors, Soft color, Dark tones, eighties, Ultra-high detail, Movie light, Flat illustration, YoneyamaMai ,Thick line, Ruthless","Rembrandt light, atmospheric lighting , A bottle of perfume, There is a tropical fish inside, volumetric lighting, Flowers, petals, grass, plants, leaves, vine entanglements, water droplets, forests, ray tracing, 3d art, depth of field, surreal, octane rendering, c4d, complex details","Science fiction movie masterpieces, epic beautiful streetscapes, absurd future skyscrapers, botanical gardens, glass, holograms, neon lights, dramatic lighting, young,  intricate architecture, best quality, extremely detailed","city pop style, Hiroshi Nagai style, young people","beautiful person","a handsome guy","handsome guy, blushing and sweating, male high school student, thick eyebrows","Handsome, little prince, brown eyes, sense of atmosphere, perfect facial features, mixed race, noble","Handsome brunette, athletic boy, exquisite facial features","Phoenix Eyes, High Resolution, Atmosphere, Pure Desire, Handsome Face, White Skin, High Nose Bridge, Black Blue Hair","Juvenile, short hair, manga, atmosphere, anime male high school, red pupils","smile, sunshine, smiley eyes, handsome boy","Inch head, ruffian, cold white skin, blushing, strong, domineering president, exquisite eye characterization, exquisite facial characterization, handsome guy, delicate expression, shy expression, strong, youthful, anime male lead, masterpiece","Male God, Handsome Guy, Sunshine, Muscle, Short Hair, Smile, Atmosphere, vibe","Young boy, handsome facial features, handsome boy, youthful look, white skin, anime male lead, sense of atmosphere","Exquisite hat, High-quality masterpiece, exquisite facial features, exquisite hair, exquisite eyes, messy hair, peerless beauty, 4K picture quality, gorgeous light and shadow, Tyndall effect, halo, messy hair, gorgeous scenes, exquisite clothes, chains, feathers, unkempt hair, Beautiful and detailed eyes, girly, dynamic angles, magic, beautiful and detailed sky, beautiful golden long curly hair, green eyes, jewel eyes, gorgeous clothes, gorgeous, flowers, magic, blue pieces, exquisite and beautiful, Full body, cute, detailed light and shadow, sunshine, beauty","a princess wearing a crown,  messy hair,  peerless beauty, 4K quality, gorgeous light and shadow, Tyndall effect, halo, Messy hair, Broken, airy, big eyes, two-dimensional, cute girl, anime girl, light and shadow, cute, black hair, pure desire, cold white skin, lavender. Smudged belly red, 1080p, messy beauty, soft and cute, smooth hair, delicately portrayed face, delicately portrayed clothes","a beautiful girl, 1080p, master piece, cinematic lighting, delicate, high quality, delicate face, beautiful, pure desire","a princess wearing a crown,  messy hair, exquisite colored hair, peerless beauty, 4K quality, gorgeous light and shadow, Tyndall effect, halo, Messy hair","Girl, light, pure desire, blush, thin, white, clean, beautiful","Big eyes, beautiful blue sky, raise the arm, straw hat, cute sister, day girl, light and shadow, lovely, black hair, pure desire, cold white skin, dizzy blush, 1080p, messy beauty, soft cute, smooth hair, detailed portrayal of the face, detailed portrayal of clothes, atmosphere sense","Great beauty, perfect features, big eyes, green shirt, raised arms, thin, straw hat, light red lips, second element, smile, black hair, 1080p, smooth hair, Master work, detailed portrayal of the face, detailed portrayal of the clothes, atmosphere, high resolution","big eyes, lovely, delicate and beautiful, delicate features, gorgeous light and shadow, gorgeous scenes, delicate clothes, high quality, master works, delicate hair depiction, 4k picture quality, Dundar effect, juvenile, beautiful and delicate eyes, magic, extremely delicate and beautiful","Big black eyes, super cute girl, pink cheeks, oval face, cute, beautiful, single, gorgeous light and shadow, high definition, delicate, 16k, masterpiece, super clear cg, garden, cherry blossoms, petals","Male God, Handsome Guy, Sunshine, Muscle, Short Hair, Smile, Atmosphere, vibe","Phoenix Eyes, High Resolution, Atmosphere, Pure Desire, Handsome Face, White Skin, High Nose Bridge, Black Blue Hair","handsome boys and beautiful girls, vibe","Many people, group photos, beauty, cute, handsome, anime, joy, dream scene, happy","Handsome girl, an extremely delicate and beautiful work, masterpiece, best quality, fine details, short side parted hair, black short hair, blonde curly hair, blonde long hair, checked shirt, sun shining through green leaves, brilliant light shadows, Tyndall effect, gentle, sunny, breezy, close-up","handsome boy and beautiful girl, couple, vibe","handsome boy and beautiful girl, couple, vibe,  blushing, sweating","Exquisite eyes, white skin, hair decoration, looking at you, high quality, highest quality, masterpiece, masterwork, extreme details, exquisite facial features, exquisite hair depiction, exquisite eye depiction, 4k quality, gorgeous Light and shadow, sense of atmosphere, best quality, highest quality, high resolution, perfect facial features, high definition, illustrations, male protagonist of Korean comics, female protagonists of Korean comics, couples, good looks, big eyes","Couple, male lead of Korean comics, female lead of Korean comics, exquisite facial features, handsome men and beautiful women, sense of atmosphere, black color contact lenses","couple, boy, girl, sweet, love, sweet, cute","A family of three, big eyes, cute, Korean drama hero, Korean drama heroine, black hair, happiness, sweetness, warmth, sense of atmosphere","beautiful girls, vibe","Handsome boys","Two handsome guys, with exquisite facial features, black jacket, white shirt, plaid pants, blue eyes, black pants, messy hairstyle, atmosphere, dark sweater, youthful, two-dimensional male god, black hair, anime male lead, Anime, anime male lead, manga male lead, male god, masterpiece","big eyes, lovely, delicate and beautiful boy,delicate features, gorgeous light and shadow, gorgeous scenes, delicate clothes, high quality, master works, delicate hair depiction, 4k picture quality, Dundar effect, juvenile, beautiful and delicate eyes, magic, extremely delicate and beautiful","a cute dog, adorable, furry, high quality, master piece","dog, blush, round head, fluffy hair, blue left eye, blue right eye, small nose, very detailed CG, long haired cat, gold splinter, light tracing","a beautiful cat, furry","a person with a pet","female idol, rapper, pale and fine skin, singing with a microphone moment, highlighted hair, flowing hair, on a gorgeous stage, full-body shot, stage lights, shutter photo, Ray Tracing Reflections, highly detailed","Science fiction movie masterpieces, epic beautiful streetscapes, absurd future skyscrapers, botanical gardens, glass, holograms, neon lights, dramatic lighting, young girl,  intricate architecture, best quality, extremely detailed","a beautiful girl, Sailor Moon style, wearing laser transparent pvc texture clothing, prism, melancholy expression, beautiful eyes, brilliance, jewelry, portrait, game original painting, anime character concept design, beautiful face, sacred, long transparent iridescent GB hair, reflections transparent iridescent colors on her hair, highly detailed, gorgeous sacred girl, beautiful light on black background","city pop style, Hiroshi Nagai style, young people, bright lights, cocktails, fresh, joyful, illustrator design, 1980s","8 bit game pixel art, city pop style","close-up, two futuristic organic flowers, digital plants, sense of design, intricate details, volumes and lines, textures, surrealism, clear plastic, glass, metal, neon lights, studio lighting, white background, bright, 3D art, C4D, Octane render, high quality, HD","Science fiction movie masterpieces, epic beautiful streetscapes, absurd future skyscrapers, botanical gardens, glass, holograms, neon lights, dramatic lighting, young girl, intricate architecture, best quality, extremely detailed","pastel colorful background, white tone, gradient, soft light, colorful transparent glass, foil holographic, 3d rendering, white tone, digital background, glass, high luminance, bright scene, holographic, fine luster, designed by Wes Cockx, 8k, holy light","extreme close-up, epic ink blending shot, POV View, first person, backlight, hair flying, seaside, blue-purple gradient, a girl wearing a white skirt standing on the beach, seagulls flying, sparkling, sunset sea, fixed Out-of-focus shot, full body, cute anime style, KyoAni Animation style, flat style, warm colors, warm lighting, plant background, fine details, ultra-detailed, ultra-high-definition, animated film texture, Hayao Miyazaki style, Makoto Shinkai style, and laughing heartily, exaggerated perspective, breathtaking moment"],oe={[r.K8.TextToImage]:te,[r.K8.ImageToImage]:te}},36902:function(e,t,o){o.d(t,{Z:function(){return i}});const i="LOGIN_CHECK"},88411:function(e,t,o){o.d(t,{A$:function(){return i},Jh:function(){return a},tE:function(){return r}});const i="CAPCUT_THEME",a="smart-tools-cache",r="smart-tools-illinios-check"},81246:function(e,t,o){o.d(t,{c:function(){return a}});const i={promptWeight:.5,guidanceScale:7.5};function a(e,t){var o;return null!==(o=null==t?void 0:t[e])&&void 0!==o?o:i[e]}},77631:function(e,t,o){o.d(t,{A:function(){return W}});var i,a,r,l,n,s,c=o(99415),d=o(45400),u=o(58116),p=o(20716),g=o(97164),m=o(67308),f=o(34938),h=o(18091),_=o(80305),v=o(95272),b=o(30395),y=o.n(b),x=o(36096),w=o(36060),T=o(52882);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},j.apply(this,arguments)}const C=e=>m.createElement("svg",j({width:13,height:8,viewBox:"0 0 13 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=m.createElement("circle",{cx:1.5,cy:1.5,r:1.5,fill:"currentColor"})),a||(a=m.createElement("circle",{cx:6.5,cy:1.5,r:1.5,fill:"currentColor"})),r||(r=m.createElement("circle",{cx:11.5,cy:1.5,r:1.5,fill:"currentColor"})),l||(l=m.createElement("circle",{cx:1.5,cy:6.5,r:1.5,fill:"currentColor"})),n||(n=m.createElement("circle",{cx:6.5,cy:6.5,r:1.5,fill:"currentColor"})),s||(s=m.createElement("circle",{cx:11.5,cy:6.5,r:1.5,fill:"currentColor"})));var k,A,N,S,I,L;function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},E.apply(this,arguments)}const O=e=>m.createElement("svg",E({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k||(k=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.0555 2.18269C13.0555 1.89734 12.8192 1.66602 12.5277 1.66602H11.4721C11.1806 1.66602 10.9443 1.89734 10.9443 2.18269V4.76608H5.66629C3.91733 4.76608 2.49951 6.15403 2.49951 7.86615V16.133C2.49951 17.8451 3.91733 19.2331 5.66629 19.2331H10.9443V21.8164C10.9443 22.1018 11.1806 22.3331 11.4721 22.3331H12.5277C12.8192 22.3331 13.0555 22.1018 13.0555 21.8164V19.2331H13.8999L13.8999 17.1663H13.0555V6.83279L13.8999 6.83279L13.8999 4.76608H13.0555V2.18269Z",fill:"currentColor"})),A||(A=m.createElement("path",{d:"M19.772 18.8952C19.3392 19.1115 18.8493 19.2331 18.3334 19.2331H16.4333L16.4333 17.1663H18.3334C18.5079 17.1663 18.6696 17.1257 18.8121 17.0545L19.772 18.8952Z",fill:"currentColor"})),N||(N=m.createElement("path",{d:"M21.5002 16.133C21.5002 16.638 21.376 17.1176 21.155 17.5413L19.2747 16.6016C19.3475 16.4621 19.389 16.3038 19.389 16.133V14.893L21.5002 14.893V16.133Z",fill:"currentColor"})),S||(S=m.createElement("path",{d:"M21.5002 10.7595L21.5002 13.2396H19.389L19.389 10.7595H21.5002Z",fill:"currentColor"})),I||(I=m.createElement("path",{d:"M21.5002 7.86615V9.10617H19.389V7.86615C19.389 7.69535 19.3475 7.53705 19.2747 7.39755L21.155 6.4578C21.376 6.88153 21.5002 7.36115 21.5002 7.86615Z",fill:"currentColor"})),L||(L=m.createElement("path",{d:"M18.3334 4.76608C18.8493 4.76608 19.3392 4.88762 19.772 5.10396L18.8121 6.94465C18.6696 6.87343 18.5079 6.83279 18.3334 6.83279H16.4333V4.76608H18.3334Z",fill:"currentColor"})));var F,M,P,R,V,U;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},z.apply(this,arguments)}const H=e=>m.createElement("svg",z({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),F||(F=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 2.5C13 2.22386 12.7762 2 12.5 2H11.5C11.2239 2 11 2.22386 11 2.5V5H6C4.34315 5 3 6.34315 3 8V16C3 17.6569 4.34315 19 6 19H11V21.5C11 21.7761 11.2239 22 11.5 22H12.5C12.7762 22 13 21.7761 13 21.5V19H13.8L13.8 17H13V7L13.8 7L13.8 5H13V2.5ZM11 7H6C5.44772 7 5 7.44772 5 8V16C5 16.5523 5.44772 17 6 17H11V7Z",fill:"currentColor"})),M||(M=m.createElement("path",{d:"M19.3629 18.673C18.9528 18.8824 18.4887 19 18 19H16.2L16.2 17H18C18.1653 17 18.3185 16.9607 18.4535 16.8918L19.3629 18.673Z",fill:"currentColor"})),P||(P=m.createElement("path",{d:"M21 16C21 16.4887 20.8824 16.9528 20.673 17.3629L18.8918 16.4535C18.9607 16.3185 19 16.1653 19 16V14.8L21 14.8V16Z",fill:"currentColor"})),R||(R=m.createElement("path",{d:"M21 10.8L21 13.2H19L19 10.8H21Z",fill:"currentColor"})),V||(V=m.createElement("path",{d:"M21 8V9.2H19V8C19 7.83472 18.9607 7.68153 18.8918 7.54653L20.673 6.63711C20.8824 7.04717 21 7.5113 21 8Z",fill:"currentColor"})),U||(U=m.createElement("path",{d:"M18 5C18.4887 5 18.9528 5.11762 19.3629 5.32697L18.4535 7.10825C18.3185 7.03933 18.1653 7 18 7H16.2V5H18Z",fill:"currentColor"})));var D=o(38e3);var B=({title:e,disabled:t,transparent:o,children:i,isViewingOrigin:a,isViewOriginDisabled:r,onSwitchViewOrigin:l})=>{const n=(0,m.useContext)(T.xM),s=(0,w.B)().i18n,b=(0,m.useMemo)((()=>`st-floating-setting-panel-drag-el-${(0,d.A)()}`),[]),j=(0,m.useMemo)((()=>`st-floating-setting-panel-view-origin-el-${(0,d.A)()}`),[]),k=(0,m.useState)(null),A=(0,c.A)(k,2),N=A[0],S=A[1],I=null==N?void 0:N.offsetParent,L=(0,m.useState)({right:20,top:20}),E=(0,c.A)(L,2),F=E[0],M=E[1],P={top:"unset",right:"unset",left:"unset",bottom:"unset",...(0,u.A)(F,(e=>void 0!==e?`${e}px`:"unset"))},R=(0,f.A)(null),V=(0,c.A)(R,3),U=V[1],z=V[2],B=(0,h.A)(I,void 0,[I]),W=(0,c.A)(B,2)[1],Z=(0,_.A)((()=>{if(!N||!I)return;const e=N.getBoundingClientRect(),t=I.getBoundingClientRect(),o=e.left-t.left,i=e.top-t.top,a=t.right-e.right,r=t.bottom-e.bottom,l={};o<a?l.left=o:l.right=a,i<r?l.top=i:l.bottom=r,(0,p.A)(l,F)||M(l)}));(0,m.useEffect)((()=>{Z()}),[W]),(0,m.useEffect)((()=>{var e;const t=e=>{const t=z();if(!I||!N||1!==e.buttons||!t)return void U(null);const o=N.getBoundingClientRect(),i=I.getBoundingClientRect();let a=e.x-i.x-t.left,r=e.y-i.y-t.top;const l=-o.width/2,n=i.width-o.width/2,s=i.height-60;a<l&&(a=l),a>n&&(a=n),r<0&&(r=0),r>s&&(r=s),M({left:a,top:r})},o=e=>{if(!N)return;let t=e.target;for(;t&&t.id!==b;){if(t.id===j)return;t=t.parentElement}if(!t)return;const o=N.getBoundingClientRect();U({left:e.clientX-o.left,top:e.clientY-o.top})},i=()=>{U(null),Z()};return null===(e=document)||void 0===e||e.addEventListener("mousemove",t),null==I||I.addEventListener("mousedown",o),null==I||I.addEventListener("mouseup",i),()=>{var e;null===(e=document)||void 0===e||e.removeEventListener("mousemove",t),null==I||I.removeEventListener("mousedown",o),null==I||I.removeEventListener("mouseup",i)}}),[N,I]);const K=(0,v.A)(),G=(0,c.A)(K,2),q=G[0],$=G[1],Y=function(e){const t=(0,m.useState)(!1),o=(0,c.A)(t,2),i=o[0],a=o[1],r=(0,m.useRef)(0),l=()=>{clearTimeout(r.current),a(!0),r.current=window.setTimeout((()=>a(!1)),e)};return{toggling:i,onToggle:l}}(50),Q=Y.toggling,J=Y.onToggle,X=a?s.t("web_magicTools_text_see_output",{},"See changes"):s.t("web_magicTools_text_see_original",{},"See original"),ee=$&&!r&&!Q,te=(0,v.A)(),oe=(0,c.A)(te,2),ie=oe[0],ae=oe[1],re=Boolean(z());return(0,D.jsxs)("div",{className:y()("st-floating-setting-panel",{disabled:t,transparent:o,grabbing:re}),ref:S,style:P,children:[(0,D.jsxs)("div",{className:y()("st-floating-setting-panel__header",{hover:ae&&!$}),id:b,ref:ie,children:[(0,D.jsx)("div",{className:"st-floating-setting-panel__title-container",children:(0,D.jsxs)("div",{className:"st-floating-setting-panel__title-wrapper",children:[(0,D.jsx)("div",{className:"st-floating-setting-panel__title",children:e}),(0,D.jsx)("div",{className:"st-floating-setting-panel__title clip",children:e}),(0,D.jsx)("div",{className:"st-floating-setting-panel__grab",children:(0,D.jsx)(C,{})})]})}),(0,D.jsx)(x.A,{content:(0,D.jsx)("div",{style:{whiteSpace:"pre"},children:X}),position:"top",triggerProps:{popupAlign:{top:8},style:{opacity:ee?"1":"0",maxWidth:"unset"}},popupVisible:ee,children:(0,D.jsx)("div",{className:y()("st-floating-setting-panel__icon-container",{disabled:r,light:a,hide:!(0,g.A)(a)}),onClick:()=>{r||(a||null==n||n._repotSmartToolPage({action:"original"}),J(),null==l||l())},ref:q,id:j,children:a&&!r?(0,D.jsx)(O,{}):(0,D.jsx)(H,{})})})]}),i&&(0,D.jsx)("div",{className:"st-floating-setting-panel__divider"}),i&&(0,D.jsx)("div",{className:"st-floating-setting-panel__body",children:i})]})};var W=(0,o(68605).PA)((({title:e,children:t})=>{const o=(0,m.useContext)(T.xM),i=o.pageLifeCycle,a=o.isViewOriginal,r=o.originalPlayInfo,l=o.generatedPlayInfo,n=o.isWaitingView,s=o.isSwitchingView,c=o.setViewOrigin,d=o.aiProcessLoadingForView,u=Boolean(null==l?void 0:l.url)?a:void 0,p=n||s||d,g=d,f=[T.$u.DefaultEmpty].includes(i)||!(null!=r&&r.url),h=g||f;return!t&&h?null:(0,D.jsx)(B,{title:e,disabled:h,transparent:h,isViewingOrigin:u,isViewOriginDisabled:p,onSwitchViewOrigin:()=>{p||c(!a)},children:t})}))},40988:function(e,t,o){o.d(t,{A:function(){return G}});var i=o(99415),a=o(20716),r=o(68605),l=o(67308),n=o(30395),s=o.n(n),c=o(52882),d=o(34938),u=o(95272),p=o(7661),g=o(44941),m=o(76859),f=o(36060),h=o(18091),_=o.p+"static/media/progress.7c4722d1.webp",v=o(38e3);var b,y,x,w,T=e=>{const t=(0,f.B)().i18n,o=e.progress,a=e.onCancel,r=e.hideCancel,n=e.almostReady,s=function(e){const t=(0,l.useState)(!0),o=(0,i.A)(t,2),a=o[0],r=o[1];return(0,l.useEffect)((()=>{setTimeout((()=>r(!1)),e)}),[]),a}(300),c=(0,l.useMemo)((()=>s?0:n?1:o),[s,o,n]),d=(0,h.A)(),u=(0,i.A)(d,2),p=u[0],g=u[1];return(0,v.jsx)("div",{className:"st-ai-loading",children:(0,v.jsxs)("div",{className:"st-ai-loading__content-container",children:[(0,v.jsx)("div",{className:"st-ai-loading__text",children:n?t.t("web_the_material_is_loading",{},"Loading..."):t.t("web_magicTools_text_generating_material",{},"Generating...")}),(0,v.jsx)("div",{className:"st-ai-loading__progress-bg",ref:p,children:(0,v.jsx)("div",{className:"st-ai-loading__progress",style:{width:100*c+"%"},children:(0,v.jsx)("img",{draggable:"false",src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(`${_}`,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),style:{width:`${g.width}px`,height:"100%"}})})}),!r&&!n&&(0,v.jsx)("div",{className:"st-ai-loading__cancel-container",children:(0,v.jsx)("div",{className:"st-ai-loading__cancel-button",onClick:a,children:(0,v.jsx)("div",{className:"st-ai-loading__cancel-text",children:t.t("web_cancel",{},"Cancel")})})})]})})},j=o(83105),C=o(36096),k=o(9255);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},A.apply(this,arguments)}const N=e=>l.createElement("svg",A({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7C7.89543 7 7 7.89543 7 9V13C7 14.1046 7.89543 15 9 15H13C14.1046 15 15 14.1046 15 13V9C15 7.89543 14.1046 7 13 7H9ZM13 9H9V13H13V9Z",fill:"currentColor"})),y||(y=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 17C17.8954 17 17 17.8954 17 19V23C17 24.1046 17.8954 25 19 25H23C24.1046 25 25 24.1046 25 23V19C25 17.8954 24.1046 17 23 17H19ZM23 19H19V23H23V19Z",fill:"currentColor"})),x||(x=l.createElement("path",{d:"M20.9333 11.2427V11C20.9333 9.84021 19.9931 8.90001 18.8333 8.90001H17.5V7.10001H18.8333C20.9872 7.10001 22.7333 8.8461 22.7333 11V11.2427H24.2142C24.6596 11.2427 24.8827 11.7812 24.5677 12.0962L22.1535 14.5104C21.9583 14.7057 21.6417 14.7057 21.4464 14.5104L19.0322 12.0962C18.7172 11.7812 18.9403 11.2427 19.3858 11.2427H20.9333Z",fill:"currentColor"})),w||(w=l.createElement("path",{d:"M7.78579 20.6187H9.26668V21C9.26668 23.1539 11.0128 24.9 13.1667 24.9H14.5V23.1H13.1667C12.0069 23.1 11.0667 22.1598 11.0667 21V20.6187H12.6142C13.0597 20.6187 13.2828 20.0801 12.9678 19.7651L10.5536 17.3509C10.3583 17.1557 10.0417 17.1557 9.84645 17.3509L7.43224 19.7651C7.11726 20.0801 7.34034 20.6187 7.78579 20.6187Z",fill:"currentColor"})));var S=({visible:e,hide:t})=>{const o=(0,f.B)().i18n,a=(0,l.useContext)(c.xM),r=(0,l.useState)(!1),n=(0,i.A)(r,2),d=n[0],u=n[1];return(0,v.jsx)("div",{className:s()("st-floating-action-list",{visible:e||d,hide:t}),children:(0,v.jsx)("div",{className:"st-floating-action-list__container",children:(0,v.jsx)(j.A,{triggerProps:{className:"st-floating-action-list__replace-popup",popupAlign:{bottom:8}},position:"bottom",unmountOnExit:!1,trigger:"click",droplist:(0,v.jsx)(k._,{menuOnly:!0,showDivider:!0,multiple:!1,onClickAction:()=>u(!1)}),popupVisible:d,onVisibleChange:u,children:(0,v.jsx)(C.A,{content:o.t("web_replace",{},"Replace"),children:(0,v.jsx)("div",{className:"st-floating-action-list__replace",onClick:()=>{a._repotSmartToolPage({action:"video_replace"})},children:(0,v.jsx)(N,{})})})})})})},I=o(51187),L=o(80305);var E=(0,l.forwardRef)((({compList:e,current:t,onScanFinished:o,...a},r)=>{const n=(0,h.A)(),c=(0,i.A)(n,2),u=c[0],p=c[1],g=(0,d.A)({left:"",right:"",fromLeft:!1,scanning:!1,duration:0}),m=(0,i.A)(g,3),f=m[0],_=m[1],b=m[2],y=(0,l.useRef)(0),x=(0,L.A)((()=>{const e=b();e.scanning&&(null==o||o(),_({...e,scanning:!1}))}));if((0,l.useImperativeHandle)(r,(()=>({startScan:(e,t,o)=>{if(e===t)return console.error("invalid argument: from === to",e,t),!1;clearTimeout(y.current);const i=p.width/1200*1e3;return _({left:o?t:e,right:o?e:t,fromLeft:o,duration:i,scanning:!0}),y.current=window.setTimeout(x,i),!0},cancelScan:()=>{clearTimeout(y.current),_({...b(),scanning:!1})}}))),!e)return null;const w=f.scanning,T=f.left,j=f.right,C=f.fromLeft,k=f.duration,A={animation:`ScanForTo ${Math.round(k)}ms linear 0s 1 both`},N={animation:`ScanForFrom ${Math.round(k)}ms linear 0s 1 both`},S=C?A:N,I=C?N:A;return(0,v.jsx)("div",{className:"st-preview-group",ref:u,...a,children:e.map((({key:e,comp:o})=>{const i=!w&&e===t,a=w&&e===T,r=w&&e===j,l={...a?S:{},...r?I:{}};return(0,v.jsx)("div",{className:s()("st-preview-group__item-container",{current:i,left:a,right:r}),style:l,children:(0,v.jsx)("div",{className:"st-preview-group__item",style:i?{}:{width:`${p.width}px`},children:o})},e)}))})})),O=o(31399),F=o(34306),M=o(36643),P=o(77024);const R=(e,t=300)=>{const o=(0,l.useState)(!1),a=(0,i.A)(o,2),r=a[0],n=a[1],s=(0,l.useRef)(0);return(0,l.useEffect)((()=>{clearTimeout(s.current),e?s.current=window.setTimeout((()=>n(!0)),t):n(!1)}),[e]),!!e&&r};var V,U;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},z.apply(this,arguments)}const H=e=>l.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 15"},e),V||(V=l.createElement("circle",{strokeWidth:2.222,strokeOpacity:.12,stroke:"#000",r:5.556,cy:7.501,cx:7.001})),U||(U=l.createElement("path",{strokeLinecap:"round",strokeWidth:2.222,stroke:"currentColor",d:"M12.556 7.5a5.556 5.556 0 1 1-5.555-5.555"})));var D,B,W=()=>{const e=(0,f.B)().i18n,t=(0,u.A)(),o=(0,i.A)(t,2),a=o[0],r=o[1];return(0,v.jsx)("div",{className:"st-media-previewer__canvas-loading",children:(0,v.jsxs)("div",{className:"st-media-previewer__canvas-loading-container",ref:a,children:[(0,v.jsx)("div",{className:"st-media-previewer__action-container",children:(0,v.jsx)(S,{visible:r})}),(0,v.jsxs)("div",{className:"st-media-previewer__canvas-loading-content",children:[(0,v.jsx)("div",{className:"st-media-previewer__canvas-loading-icon",children:(0,v.jsx)(I.A,{size:24,Comp:(0,v.jsx)(H,{})})}),(0,v.jsx)("div",{className:"st-media-previewer__canvas-loading-text",children:e.t("web_aigc_text_loading",{},"Loading")})]})]})})};function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},Z.apply(this,arguments)}const K=e=>l.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 15"},e),D||(D=l.createElement("circle",{strokeWidth:2.222,strokeOpacity:.12,stroke:"#fff",r:5.556,cy:7.501,cx:7.001,"data-follow-stroke":"#fff"})),B||(B=l.createElement("path",{strokeLinecap:"round",strokeWidth:2.222,stroke:"#fff",d:"M12.556 7.5a5.556 5.556 0 1 1-5.555-5.555","data-follow-stroke":"#fff"})));var G=(0,r.PA)((0,l.forwardRef)((function({compList:e,getCompList:t,onRequestScan:o,onScanFinished:n,contentLoading:h,bottomComp:_,hideLoadingPicture:b},y){const x=(0,f.B)().i18n,w=(0,l.useContext)(c.xM),j=w.aiProcessLoading,C=w.aiProcessUnionProgress,k=w.isViewOriginal,A=w.isWaitingView,N=w.isSwitchingView,V=w.setWaitingView,U=w.setSwitchingView,z=w.handleCancelAiProcess,H=w.isUploadingOrTranscoding,D=w.smartToolType,B=w.aiProcessLoadingForView,Z=w.setAiProcessLoadingForView,G=w.mainMaterialSize,q=w.originalPlayInfo,$=w.rawMaterialInfo,Y=w.setRawMaterialInfo,Q=function(){const e=(0,l.useContext)(c.xM),t=e.currentPlayInfo,o=e.originalPlayInfo,r=e.generatedPlayInfo,n=e.aiProcessLoading,s=(0,l.useState)({url:"",isOrigin:!0}),u=(0,i.A)(s,2),p=u[0],g=u[1],m=(0,l.useState)({url:"",isOrigin:!0}),f=(0,i.A)(m,2),h=f[0],_=f[1],v=(0,l.useState)(!1),b=(0,i.A)(v,2),y=b[0],x=b[1],w=(0,l.useState)(!1),T=(0,i.A)(w,2),j=T[0],C=T[1],k=(0,d.A)(0),A=(0,i.A)(k,3),N=A[0],S=A[1],I=A[2];(0,l.useEffect)((()=>{const e=(0,a.A)(t,o),i={...t||{url:""},isOrigin:e};if((0,a.A)(i,h))return;const l=Boolean(null==r?void 0:r.url);C(Boolean(i.url&&h.url&&!(i.isOrigin&&h.isOrigin)&&!(i.isOrigin&&!l)));let n=h;n.url||(e&&l?n={...n,...r}:e||(n={...n,...o})),g(n),_(i),x(!0),S(N+1)}),[t]),(0,l.useEffect)((()=>{n&&j&&C(!1)}),[n,j]);const E=(0,L.A)((()=>{x(!1)}));return{prePlayInfo:p,curPlayInfo:h,showingPlayInfo:j&&y&&!n?p:h,needScan:j,waitingScan:y,handleStartScan:E,version:N,getVersion:I}}(),J=Q.curPlayInfo,X=Q.prePlayInfo,ee=Q.showingPlayInfo,te=Q.needScan,oe=Q.waitingScan,ie=Q.handleStartScan,ae=Q.version,re=Q.getVersion,le=(0,d.A)({}),ne=(0,i.A)(le,3),se=ne[0],ce=ne[1],de=ne[2],ue=se[J.url],pe=se[X.url],ge=se[ee.url],me=(0,l.useRef)(null),fe=(0,u.A)(),he=(0,i.A)(fe,2),_e=he[0],ve=he[1],be=(0,p.A)(_e.current),ye=(0,i.A)(be,2)[1],xe=(0,l.useState)([0,0]),we=(0,i.A)(xe,2),Te=we[0],je=we[1],Ce={curPlayInfo:J,prePlayInfo:X,readyState:se},ke=(0,r.iz)((()=>({state:Ce})));(0,g.A)((()=>{ke.state=Ce}),[Ce]),(0,l.useImperativeHandle)(y,(()=>({setReadyState:ce,getReadyState:de,getState:()=>ke.state}))),(0,l.useEffect)((()=>{if(ue||pe||je([0,0]),ue){const e=null==ue?void 0:ue.width,t=null==ue?void 0:ue.height;if(!e||!t)return;je([e,t])}}),[ue,pe]),(0,l.useEffect)((()=>{var e;let t;J.url===(null==q?void 0:q.url)?t=ue:X.url===(null==q?void 0:q.url)&&(t=pe),!(null!=q&&q.url&&!1!==t&&null!==(e=t)&&void 0!==e&&e.width&&t.height)||null!=$&&$.width&&null!=$&&$.height||Y({url:null==q?void 0:q.url,width:t.width,height:t.height})}),[ue,J,pe,X,$,q]);const Ae=k,Ne=Boolean(te&&oe&&X.url),Se=Boolean(!ue||Ne&&!pe),Ie=Boolean(!1===ue||Ne&&!1===pe),Le=(0,l.useState)(!1),Ee=(0,i.A)(Le,2),Oe=Ee[0],Fe=Ee[1],Me=Se||Oe,Pe=Me||Boolean(h),Re=R(Pe),Ve=((e,t)=>{const o=(0,l.useState)(!1),a=(0,i.A)(o,2),r=a[0],n=a[1];return(0,l.useEffect)((()=>{e&&t?n(!0):t||n(!1)}),[e,t]),e||r})(((e,t=300)=>{const o=(0,l.useState)(!1),a=(0,i.A)(o,2),r=a[0],n=a[1],s=(0,l.useRef)(0);return(0,l.useEffect)((()=>{clearTimeout(s.current),e?n(!0):s.current=window.setTimeout((()=>n(!1)),t)}),[e]),r})(j,10),Pe),Ue=(()=>{var e;const t=(0,l.useContext)(c.xM),o=t.generatedPlayInfo,i=t.aiWorksList,a=t.aiWorksParams,r=t.aiProcessLoading,n=(null===(e=i[0])||void 0===e?void 0:e.attributes.style)||"",s=(null==a?void 0:a.attributes.style)||"",d=(0,l.useMemo)((()=>r?s:o?n:""),[o,s,n,r]);return(0,O.MD)(d)})(),ze="original"===Ue?[G.width||Te[0],G.height||Te[1]]:Ue,He=`${Ue}`,De=(0,l.useMemo)((()=>ze[0]&&ze[1]?ze[0]>=ze[1]?"landscape":"portrait":""),[...ze]),Be=ve&&-1!==ye.x&&-1!==ye.y,We=Boolean(De)&&ge,Ze=R(!We),Ke=!Ve&&H,Ge=J.isOrigin&&G.width&&G.height?[G.width,G.height]:Te,qe=[O.K8.ImageUpscaler,O.K8.VideoUpscaler].includes(D)&&!Ve&&Be,$e=Re&&!Ve,Ye=!Ve&&ve,Qe=Ve,Je=(0,l.useRef)(0);(0,m.A)((async()=>{if(!Se&&te&&oe){var e;const t=[ae,Je.current];let i=o;Fe(!0),"function"==typeof o&&(i=await o());const r=[re(),Je.current];if(!(0,a.A)(r,t))return;if(Fe(!1),!i)return;const l=null===(e=me.current)||void 0===e?void 0:e.startScan(X.url,J.url,Ae);ie(),l&&U(!0)}}),[Se,te,oe,J,X,ae]),(0,l.useEffect)((()=>{if(!te){var e;if(N)null===(e=me.current)||void 0===e||e.cancelScan(),U(!1);Oe&&(Je.current+=1)}}),[te,N,Oe]),(0,l.useEffect)((()=>{Me!==A&&V(Me),Ve!==B&&Z(Ve)}),[Me,Ve]),(0,l.useEffect)((()=>{Ie&&P.A.error(x.t("network_unavailable__please_try_again_later",{},"Network error. Try again later."))}),[Ie]);const Xe={aspectRatio:ze,isHoverContainer:ve,isHoverCanvas:Be,isShowingOriginal:ee.isOrigin};return window.__previewer={isInnerWaitingReady:Se,waitingRequestScan:Oe,readyState:se,prePlayInfo:X,curPlayInfo:J,showingPlayInfo:ee,aspectRatio:ze,flipKey:He,previewAspectRatio:Ue,isInnerReadyFailed:Ie},(0,v.jsxs)("div",{className:"st-media-previewer",children:[Ze&&(0,v.jsx)("div",{className:"st-media-previewer__canvas-loading-wrapper",children:(0,v.jsx)(F.A,{width:1,height:1,children:(0,v.jsx)(W,{})})}),(0,v.jsx)("div",{className:s()("st-media-previewer__canvas-area",We&&De),children:(0,v.jsx)(M.ZI,{className:"st-media-previewer__canvas-wrapper",flipKey:He,decisionData:{aspectRatio:ze},children:(0,v.jsx)(F.A,{width:ze[0],height:ze[1],boxRef:_e,boxClassNames:"st-media-previewer__canvas-container",children:(0,v.jsx)(M.lf,{flipId:"previewer",shouldFlip:e=>e.aspectRatio.every(Boolean),children:(0,v.jsxs)("div",{className:"st-media-previewer__canvas-content",children:[(0,v.jsx)("div",{className:"st-media-previewer__action-container",children:(0,v.jsx)(S,{visible:Ye,hide:Qe})}),(0,v.jsx)(E,{current:ge?ee.url:"",compList:(null==t?void 0:t(Xe))||e||[],ref:me,onScanFinished:()=>{U(!1),null==n||n()}}),(0,v.jsx)("div",{className:s()("st-media-previewer__resolution-container",{show:qe}),children:(0,v.jsx)("div",{className:s()("st-media-previewer__resolution-text",{"margin-left":Ke}),children:x.t("web_magicTools_text_material_resolution",{placeholder0:Ge[0],placeholder1:Ge[1]},"Current resolution: {placeholder0} x {placeholder1}")})}),Ke&&(0,v.jsx)("div",{className:"st-media-previewer__uploading-spin-container",children:(0,v.jsx)(I.A,{size:32})}),Ve&&(0,v.jsx)("div",{className:"st-media-previewer__loading-container",children:(0,v.jsx)(T,{progress:C,hideLoadingPicture:b,onCancel:z,almostReady:!j})}),$e&&(0,v.jsx)("div",{className:"st-media-previewer__loading-container mask",children:(0,v.jsx)(I.A,{size:32,Comp:(0,v.jsx)(K,{width:32,height:32})})})]})})})})}),We&&Boolean(_)&&_]})})))},52540:function(e,t,o){var i=o(99415),a=o(20716),r=o(68605),l=o(59222),n=o(67308),s=o(52882),c=o(80305),d=o(44941),u=o(90157),p=o(40988),g=o(38e3);const m=(0,r.PA)((function(){const e=(0,n.useContext)(s.xM).aiWorksList,t=function(){var e,t;const o=(0,n.useContext)(s.xM),i=o.originalPlayInfo,a=o.generatedPlayInfo,r=o.aiWorksList,l=f(i),c=f(a),d=f(null==r?void 0:r[0]);return[l.pre,l.cur,c.pre,c.cur,...(null===(e=d.pre)||void 0===e||null===(e=e.works)||void 0===e?void 0:e.map((e=>null==e?void 0:e.image)))||[],...(null===(t=d.cur)||void 0===t||null===(t=t.works)||void 0===t?void 0:t.map((e=>null==e?void 0:e.image)))||[]].filter(((e,t,o)=>e&&o.slice(0,t).findIndex((t=>(null==t?void 0:t.url)===e.url))<0))}(),o=(0,n.useRef)(null),i=(0,c.A)((({aspectRatio:i,isHoverCanvas:a,isShowingOriginal:r})=>{const n=i[0]/i[1]==1;return t.map((({url:t})=>{var i;return{key:t,comp:(0,g.jsx)(l.A,{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),onInit:e=>((e,t)=>{var i;null===(i=o.current)||void 0===i||i.setReadyState({...o.current.getReadyState(),[e]:t})})(t,e),style:{width:"100%",height:"100%"},imageContainerStyle:{width:"100%",height:"100%"},imageStyle:{width:"100%",height:"100%",objectFit:n?"cover":"contain",backgroundColor:"var(--st-previewer-image-padding-background)"},actionsVisible:Boolean(a),hideDownload:r,resource:null==e||null===(i=e[0])||void 0===i||null===(i=i.works)||void 0===i?void 0:i.find((e=>{var o;return(null===(o=e.image)||void 0===o?void 0:o.url)===t}))})}}))}));return(0,n.useEffect)((()=>{u.Ay.performanceMarkEnd(u.ir)}),[]),(0,g.jsx)(p.A,{ref:o,getCompList:i,onRequestScan:!0,hideLoadingPicture:!0})}));function f(e){const t=(0,n.useState)(),o=(0,i.A)(t,2),r=o[0],l=o[1],s=(0,n.useState)(e),c=(0,i.A)(s,2),u=c[0],p=c[1];return(0,d.A)((()=>{(0,a.A)(e,u)||(l(u),p(e))}),[e]),{pre:r,cur:u}}t.A=m},95646:function(e,t,o){var i=o(99415),a=o(45400),r=o(68605),l=o(67308),n=o(52882),s=o(3184),c=o(78786),d=o(37190),u=o(39190),p=o(48682),g=o(90157),m=o(40988),f=o(38e3);const h=(0,r.PA)((function(){var e,t,o,r,h;const _=(0,l.useContext)(n.xM),v=_.originalPlayInfo,b=_.generatedPlayInfo,y=_.aiProcessLoading,x=_.isWaitingView,w=_.isSwitchingView,T=(0,l.useMemo)((()=>`st-video-previewer-xgplayer-${(0,a.A)()}`),[]),j=(0,l.useMemo)((()=>`st-video-previewer-xgplayer-${(0,a.A)()}`),[]),C=(0,l.useMemo)((()=>`st-video-previewer-xgplayer-${(0,a.A)()}`),[]),k=function(e){const t=(0,l.useState)(),o=(0,i.A)(t,2),a=o[0],r=o[1],n=(0,l.useState)(),s=(0,i.A)(n,2),c=s[0],d=s[1],u=(0,p.A)(!0),g=u.state,m=u.toggle;return(0,l.useEffect)((()=>{g?d(e):r(e),m()}),[null==e?void 0:e.url]),{playInfo1:a,playInfo2:c}}(b),A=k.playInfo1,N=k.playInfo2,S=null==v?void 0:v.url,I=null==A?void 0:A.url,L=null==N?void 0:N.url,E=(0,s.M)({config:{id:T,url:S,decryptKey:null==v?void 0:v.key}}),O=E.playerIns,F=E.playerState,M=(0,s.M)({config:{id:j,url:I,decryptKey:null==A?void 0:A.key}}),P=M.playerIns,R=M.playerState,V=(0,s.M)({config:{id:C,url:L,decryptKey:null==N?void 0:N.key}}),U=V.playerIns,z=V.playerState;null!=R&&R.dataLoaded&&_._reportAiImportMaterialTime({url:I}),z.dataLoaded&&_._reportAiImportMaterialTime({url:L});const H=(0,l.useRef)(null),D=[{playerIns:O,playerState:F,id:T,url:S},{playerIns:P,playerState:R,id:j,url:I},{playerIns:U,playerState:z,id:C,url:L}],B=D.flatMap((e=>[e.playerState.everCanPlay,e.playerState.error]));window.__video_previewer={playerList:D,readyList:B},(0,l.useLayoutEffect)((()=>{var e;const t={};D.forEach((({url:e,playerIns:o,playerState:i})=>{var a,r;e&&(t[e]=(a=i,r=null==o?void 0:o.video,a.everCanPlay?{width:r.videoWidth,height:r.videoHeight}:!a.error&&void 0))})),null===(e=H.current)||void 0===e||e.setReadyState(t)}),[...B]);const W=()=>{var e,t;const o=null===(e=H.current)||void 0===e||null===(e=e.getState())||void 0===e?void 0:e.curPlayInfo.url,i=null===(t=H.current)||void 0===t||null===(t=t.getState())||void 0===t?void 0:t.prePlayInfo.url,a=e=>{if(e)return D.find((t=>t.url===e))};return{cur:a(o),pre:a(i)}},Z=W();window.__playerPair=Z;const K=null===(e=Z.cur)||void 0===e?void 0:e.playerIns,G=null===(t=Z.cur)||void 0===t?void 0:t.playerState,q=(0,l.useRef)({prePlaying:!1});(0,l.useEffect)((()=>{!y||null!=G&&G.paused||null==K||K.pause()}),[null==G?void 0:G.paused,y]),(0,l.useEffect)((()=>{G&&g.Ay.performanceMarkEnd(g.ir)}),[Boolean(G)]);const $=null===(o=document.querySelector(`#${null===(r=Z.cur)||void 0===r?void 0:r.id}`))||void 0===o?void 0:o.parentElement,Y=()=>{null!=G&&G.isFullscreen?null==K||K.exitFullscreen():null==K||K.getFullscreen(null!=$?$:void 0)},Q=y||x||w;return(0,f.jsx)(m.A,{ref:H,compList:D.map(((e,t)=>({key:e.url||`${t}`,comp:(0,f.jsx)("div",{id:e.id})}))),onRequestScan:()=>{var e,t;const o=W(),i=null===(e=o.cur)||void 0===e?void 0:e.playerIns,a=null===(t=o.pre)||void 0===t?void 0:t.playerIns;return i&&a?(q.current={prePlaying:!a.paused},a.pause(),i.pause(),new Promise((e=>{i.once(c.SEEKED,(()=>{e(!0)})),setTimeout((()=>e(!1)),15e3),i.seek(a.currentTime/(a.duration||1)*i.duration)}))):(console.error("invalid state!"),!1)},onScanFinished:()=>{q.current.prePlaying&&(null==K||K.play())},contentLoading:null===(h=W())||void 0===h||null===(h=h.cur)||void 0===h||null===(h=h.playerState)||void 0===h?void 0:h.buffering,bottomComp:G?(0,f.jsxs)("div",{className:"st-media-previewer__controls",children:[(0,f.jsx)(d.A,{player:K,playerState:G,onSwitchFullscreen:Y,disabled:Q}),G.isFullscreen&&$&&(0,u.createPortal)((0,f.jsx)(d.A,{player:K,playerState:G,isFullScreen:!0,onSwitchFullscreen:Y}),$)]}):null})}));t.A=h},44999:function(e,t,o){var i=o(30395),a=o.n(i),r=o(36096),l=o(44941),n=o(38e3);t.A=e=>{const t=e.options,o=e.value,i=e.onChange,s=null==t?void 0:t.find((e=>e.value===o));return(0,l.A)((()=>{null!=s&&s.disabled&&(null==i||i(void 0))}),[s]),(0,n.jsx)("div",{className:"st-resolution-block-select",children:null==t?void 0:t.map((({value:e,label:t,disabled:l,description:s})=>{const c=e===o;return(0,n.jsx)(r.A,{content:l,disabled:!l||"string"!=typeof l,position:"top",children:(0,n.jsxs)("div",{className:a()("st-resolution-block-select__block",{selected:c,disabled:l}),onClick:()=>!l&&!c&&(null==i?void 0:i(e)),children:[(0,n.jsx)("div",{className:"st-resolution-block-select__block-text",children:t||e}),s&&(0,n.jsx)("div",{className:"st-resolution-block-select__block-description",children:s})]},e)},e)}))})}},40328:function(e,t,o){o.d(t,{A:function(){return w}});var i,a=o(99415),r=o(45476),l=o(67308),n=o(14248),s=o(34938),c=o(80305),d=o(4570),u=o(95272),p=o(15601),g=o(30395),m=o.n(g);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},f.apply(this,arguments)}const h=e=>l.createElement("svg",f({width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=l.createElement("path",{d:"M8.24825 3.375L7.78421 3.83904L6.85614 4.76712L4.99998 6.62327L3.14383 4.76712L2.21575 3.83904L1.75171 3.375",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round"})));var _;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},v.apply(this,arguments)}const b=e=>l.createElement("svg",v({width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),_||(_=l.createElement("path",{d:"M8.24825 6.625L7.78421 6.16096L6.85614 5.23288L4.99998 3.37673L3.14383 5.23288L2.21575 6.16096L1.75171 6.625",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round"})));var y=o(38e3);const x="preset-point-data";var w=e=>{var t;const o=e.onChange,i=e.config,g=e.showPresets,f=e.inputSuffix,_=e.classNames,v=e.disabled,w=i.presets,T=i.step,j=i.inputMaxLen,C=w[0],k=w.slice(-1)[0],A=null!==(t=e.value)&&void 0!==t?t:C,N=e=>Number(n.Ay.plus(n.Ay.times(Math.floor(n.Ay.divide(n.Ay.minus(Math.max(Math.min(e,k),C),C),T)),T),C)),S=(0,s.A)(""),I=(0,a.A)(S,3),L=I[0],E=I[1],O=I[2],F=(0,l.useState)(!1),M=(0,a.A)(F,2),P=M[0],R=M[1];(0,l.useEffect)((()=>{var e;P||(E(`${e=A}`),W(V(e)))}),[A]);const V=e=>{const t=N(e);let o=0;if(t>w[0])for(let i=0;i<w.length;i++){if(i>=w.length-1){o=1;break}if(t<=w[i+1]){const e=w.length-1;o=i/e+(t-w[i])/(w[i+1]-w[i])/e;break}}return o},U=(0,l.useRef)(null),z=(0,l.useRef)(null),H=(0,l.useState)((()=>V(A))),D=(0,a.A)(H,2),B=D[0],W=D[1],Z=(0,l.useState)(!1),K=(0,a.A)(Z,2),G=K[0],q=K[1],$=(0,l.useState)(!1),Y=(0,a.A)($,2),Q=Y[0],J=Y[1],X=(e,t)=>{var o,i;const a=null===(o=e.target)||void 0===o||null===(i=o.getAttribute)||void 0===i?void 0:i.call(o,x),r=Number(a);if(t&&a&&!Number.isNaN(r))return W(V(r)),void E(`${r}`);const l=(e=>{var t;const o=null===(t=z.current)||void 0===t?void 0:t.getBoundingClientRect();return o?Math.max(Math.min((e.x-o.x)/o.width,1),0):0})(e);W(l),E(`${(e=>{const t=Math.min(1,Math.max(0,e));let o=C;const i=w.map((e=>V(e)));if(t>i[0])for(let a=0;a<i.length;a++){if(a>=i.length-1){o=k;break}if(t<=i[a+1]){o=w[a]+(t-i[a])/(i[a+1]-i[a])*(w[a+1]-w[a]);break}}return N(o)})(l)}`)},ee=(0,c.A)((e=>{G&&(1===e.buttons?(J(!0),X(e)):q(!1))})),te=(0,c.A)((e=>{if(!G)return;q(!1),Q&&X(e,!0);const t=Number(O());Number.isNaN(t)||null==o||o(Number(O()))})),oe=(0,d.A)(ee,10,void 0,{leading:!0,trailing:!1}).run;(0,l.useEffect)((()=>(document.addEventListener("mouseup",te),document.addEventListener("mousemove",oe),()=>{document.removeEventListener("mouseup",te),document.removeEventListener("mousemove",oe)})),[]);const ie=(0,u.A)(z.current||void 0),ae=(0,a.A)(ie,2)[1],re=(0,p.A)((()=>U.current.dom));return(0,y.jsxs)("div",{className:m()("st-slider-with-input",_,{"with-preset-dots":g,disabled:v}),children:[(0,y.jsx)("div",{className:m()("st-slider-with-input__slider-container",{active:ae||G}),ref:z,onMouseDown:e=>{q(!0),J(!1),X(e.nativeEvent,!0)},children:(0,y.jsxs)("div",{className:"st-slider-with-input__progress-bg",children:[(0,y.jsx)("div",{className:"st-slider-with-input__progress",style:{width:100*B+"%"},children:(0,y.jsx)("div",{className:"st-slider-with-input__progress__handler"})}),g&&(null==w?void 0:w.map((e=>(0,y.jsx)("div",{className:m()("st-slider-with-input__preset-point",{unreached:V(e)>B,min:e===C,max:e===k}),style:{left:100*V(e)+"%"},[x]:e},e))))]})}),(0,y.jsxs)("div",{className:m()("st-slider-with-input__input-container",{active:re}),children:[(0,y.jsxs)("div",{className:"st-slider-with-input__input-box",children:[(0,y.jsxs)("div",{className:"st-slider-with-input__input-box shadow",children:[(0,y.jsx)("div",{className:"hide",children:L}),(0,y.jsx)("div",{className:"suffix",children:f})]}),(0,y.jsx)(r.A,{ref:U,style:{width:"100%"},value:L,onChange:e=>{e&&(Number.isNaN(Number(e))||e.length>j)||E(e)},onBlur:()=>{R(!1);const e=Number(L);if(!L||Number.isNaN(e))return void E(`${A}`);const t=N(e);t!==A&&(null==o||o(t)),E(`${t}`)},onFocus:()=>R(!0)})]}),(0,y.jsxs)("div",{className:"st-slider-with-input__input-icon-container",children:[(0,y.jsx)("div",{className:"st-slider-with-input__input-icon",onClick:()=>{null==o||o(N(n.Ay.plus(A,T)))},children:(0,y.jsx)(b,{})}),(0,y.jsx)("div",{className:"st-slider-with-input__input-icon",onClick:()=>{null==o||o(N(n.Ay.minus(A,T)))},children:(0,y.jsx)(h,{})})]})]})]})}},36204:function(e,t,o){var i=o(99415),a=o(30395),r=o.n(a),l=o(18091),n=o(67308),s=o(36096),c=o(38e3);const d=({text:e})=>{const t=(0,l.A)(),o=(0,i.A)(t,2),a=o[0],r=o[1],d=(0,l.A)(),u=(0,i.A)(d,2),p=u[0],g=u[1],m=(0,n.useState)(!1),f=(0,i.A)(m,2),h=f[0],_=f[1];return(0,n.useEffect)((()=>{_(g.height>r.height)}),[r.height,g.height]),(0,c.jsxs)(s.A,{content:e,disabled:!h,position:"bl",children:[(0,c.jsx)("div",{className:"st-style-block-select__text-container",children:(0,c.jsx)("div",{className:"st-style-block-select__text",ref:a,children:e})}),(0,c.jsx)("div",{className:"st-style-block-select__text shadow",ref:p,children:e})]})};t.A=e=>{const t=e.options,o=e.value,i=e.onChange,a=e.size;return(0,c.jsx)("div",{className:r()("st-style-block-select",a||"default"),children:null==t?void 0:t.map((({value:e,label:t,src:a})=>{const l=e===o;return(0,c.jsxs)("div",{className:r()("st-style-block-select__block-container",{selected:l}),onClick:()=>!l&&(null==i?void 0:i(e)),children:[(0,c.jsx)("div",{className:"st-style-block-select__block-wrapper",children:(0,c.jsxs)("div",{className:"st-style-block-select__block",children:[(0,c.jsx)("div",{className:"st-style-block-select__block-bg",children:(0,c.jsx)("img",{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(a,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),crossOrigin:"anonymous",draggable:"false"})}),(0,c.jsx)("div",{className:"st-style-block-select__block-box-container",children:(0,c.jsx)("div",{className:"st-style-block-select__block-box",children:(0,c.jsx)("img",{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(a,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),crossOrigin:"anonymous",draggable:"false"})})})]})}),(0,c.jsx)("div",{className:"st-style-block-select__mask",children:(0,c.jsx)(d,{text:t||e})})]},e)}))})}},99443:function(e,t,o){var i=o(87176),a=o(52882),r=o(68605),l=o(67308),n=o(38e3);const s=(0,r.PA)((({text:e})=>{const t=(0,l.useContext)(a.xM),o=t.aiProcessDisabled,r=t.aiProcessLoadingForView,s=t.handleStartAiProcess;return(0,n.jsx)("div",{className:"st-ai-process-button",children:(0,n.jsx)(i.A,{type:"primary",disabled:o,loading:r,onClick:s,className:"st-global__action-button--primary",children:e})})}));t.A=s},22319:function(e,t,o){o.d(t,{q:function(){return z}});var i=o(36060),a=o(68605),r=o(30395),l=o.n(r),n=o(31399),s=o(43082),c=o(38e3);var d=e=>{const t=e.value,o=e.onChange,i=e.options||[{value:1},{value:2},{value:3},{value:4}];return(0,c.jsx)("div",{className:"st-number-block-select",children:null==i?void 0:i.map((({value:e,label:i,disabled:a})=>{const r=e===t;return(0,c.jsx)("div",{className:l()("st-number-block-select__block",{selected:r,disabled:a}),onClick:()=>!a&&!r&&(null==o?void 0:o(e)),children:i||e},e)}))})},u=o(67308),p=o(14148),g=o(97834),m=o(36096),f=o(63719),h=o(22194),_=o(52882);const v=(0,g.PA)((e=>{const t=e.selected,o=e.onChange,i=(0,u.useContext)(_.xM),a=i.originalPlayInfo||i.isUploadingOrTranscoding;(0,u.useEffect)((()=>{null==o||o(a?void 0:h.wx.SquareScreen)}),[a]);const r=[{icon:(0,c.jsx)(f.AXF,{fontSize:16}),id:h.wx.SquareScreen,title:p.F2.t("web_smart_tools_button_square",{},"Square")},{icon:(0,c.jsx)(f.gCA,{fontSize:18}),id:h.wx.VerticalScreen,title:p.F2.t("web_smart_tools_button_portrait",{},"Portrait")},{icon:(0,c.jsx)(f.SGG,{fontSize:18}),id:h.wx.HorizontalScreen,title:p.F2.t("web_smart_tools_button_landscape",{},"Landscape")}];return(0,c.jsx)("div",{className:"select-ratio-container",children:(0,c.jsxs)("div",{className:"select-ratio-list",children:[r.map((e=>{const a=void 0===t;return(0,c.jsx)(m.A,{content:a?p.F2.t("web_smart_tools_text_falure_uploaded",{},"Can\u2019t select this ratio after an image is uploaded"):e.title,triggerProps:{className:"lv-theme-force_dark"},children:(0,c.jsx)("div",{className:l()("select-ratio-item",{selected:t===e.id,disabled:a}),onClick:()=>{a||null==o||o(e.id),i._repotSmartToolPage({action:"select_aspect_ratio",aspect_ratio:{[h.wx.HorizontalScreen]:"16:9",[h.wx.VerticalScreen]:"9:16",[h.wx.SquareScreen]:"1:1"}[e.id]})},children:(0,c.jsx)("div",{className:"select-ratio-item-inner",children:e.icon})})},e.id)})),(0,c.jsx)(m.A,{disabled:void 0===t,content:p.F2.t("web_smart_tools_text_failure_ratio",{},"Can\u2019t select this ratio when an image is not uploaded"),triggerProps:{className:"lv-theme-force_dark"},children:(0,c.jsx)("div",{className:l()("select-ratio-item",{selected:void 0===t,disabled:void 0!==t}),style:{width:"auto"},children:(0,c.jsx)("div",{className:"select-ratio-item-inner",style:{width:"auto"},children:p.F2.t("web_image_generate_text_original_ratio",{},"Original")})})})]})})}));var b=o(36204),y=o(40328);var x=e=>(0,c.jsx)(y.A,{value:e.value,onChange:e.onChange,disabled:e.disabled,config:e.config,classNames:"st-aigc-slider"}),w=o(99415),T=o(95272);const j=(e,t=300)=>{const o=(0,u.useState)(!1),i=(0,w.A)(o,2),a=i[0],r=i[1],l=(0,u.useRef)(0);return(0,u.useEffect)((()=>{clearTimeout(l.current),e?l.current=window.setTimeout((()=>r(!0)),t):r(!1)}),[e]),a};var C,k=({label:e,tooltip:t,contentPadding:o,children:i})=>{const a=(0,T.A)(),r=(0,w.A)(a,2),l=r[0],n=r[1],s=j(n),d=(0,u.useState)(!1),p=(0,w.A)(d,2),g=p[0],f=p[1],h=(0,u.useState)(!1),_=(0,w.A)(h,2),v=_[0],b=_[1];(0,u.useEffect)((()=>{n||f(!1)}),[n]);const y=Boolean(t&&s&&!g&&v);return(0,c.jsx)(m.A,{content:t,trigger:"hover",position:"left",triggerProps:{popupAlign:{left:8}},popupVisible:y,onVisibleChange:b,style:{width:"200px"},children:(0,c.jsxs)("div",{className:"st-aigc-advanced-setting-item",ref:l,onMouseDown:()=>{f(!0)},children:[(0,c.jsx)("div",{className:"st-aigc-advanced-setting-item__label",children:e}),(0,c.jsx)("div",{className:"st-aigc-advanced-setting-item__content",style:{...o?{paddingTop:o}:{}},children:i})]})})},A=o(20716);function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},N.apply(this,arguments)}const S=e=>u.createElement("svg",N({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C||(C=u.createElement("path",{d:"M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C9.68434 5 7.63129 6.12443 6.35707 7.85707L7.64645 9.14645C7.96143 9.46143 7.73835 10 7.29289 10H3C2.72386 10 2.5 9.77614 2.5 9.5V5.20711C2.5 4.76165 3.03857 4.53857 3.35355 4.85355L4.93013 6.43013C6.57825 4.34102 9.13252 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.71683 21 4.13248 18.008 3.22302 14H5.28989C6.15043 16.8915 8.82899 19 12 19Z",fill:"currentColor"})));var I,L=()=>{var e;const t=(0,u.useContext)(_.xM),o=t.attributes,a=t.updateAttributes,r=(0,i.B)().i18n,n=null===(e=o.advancedSettings)||void 0===e?void 0:e[o.style||""],s=!n||(0,A.A)(n,{});return(0,c.jsxs)("div",{className:"st-aigc-advanced-setting-header",children:[(0,c.jsx)("div",{className:"st-aigc-advanced-setting-header__title",children:r.t("web_magicTools_button_advanced_settings",{},"Advanced setting")}),(0,c.jsx)("div",{className:l()("st-aigc-advanced-setting-header__icon",{disabled:s}),onClick:()=>{!s&&o.style&&a({advancedSettings:{...o.advancedSettings,[o.style]:void 0}})},children:(0,c.jsx)(S,{})})]})},E=o(39642),O=o(71274);function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},F.apply(this,arguments)}const M=e=>u.createElement("svg",F({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),I||(I=u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.01514 3.5L4.853 8.07378C5.45255 8.7883 6.55191 8.78819 7.15132 8.07356L10.9874 3.5H9.02934L6.00129 7.10868L2.97325 3.5H1.01514Z",fill:"currentColor"})));var P;function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},R.apply(this,arguments)}const V=e=>u.createElement("svg",R({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),P||(P=u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.01514 8.5L4.853 3.92622C5.45255 3.2117 6.55191 3.21181 7.15132 3.92644L10.9874 8.5H9.02934L6.00129 4.89132L2.97325 8.5H1.01514Z",fill:"currentColor"})));var U=e=>{const t=e.value,o=e.onChange,i=e.options,a=null==i?void 0:i.map((({value:e,label:i,disabled:a})=>{const r=e===t;return(0,c.jsx)("div",{className:l()("st-style-tab-select__block",{selected:r,disabled:a}),onClick:()=>!a&&!r&&(null==o?void 0:o(e)),children:i||e},e)})),r=(0,E.A)(!0),n=(0,c.jsx)("div",{className:"st-style-tab-select__block action",onClick:()=>r.toggle(),children:r.state?(0,c.jsx)(M,{}):(0,c.jsx)(V,{})}),s=(0,u.useState)(-1),d=(0,w.A)(s,2),p=d[0],g=d[1],m=(0,u.useRef)(null),f=(0,u.useRef)(null),h=(0,O.A)(i);(0,u.useLayoutEffect)((()=>{const e=m.current.firstChild;if(!e)return;const t=e.getBoundingClientRect().height;if(m.current.getBoundingClientRect().height<=t)g(-1);else for(let o=0;o<h.length;o++){if(f.current.children.item(o+1).getBoundingClientRect().top!==f.current.getBoundingClientRect().top){g(o);break}}}),[h]);const _=p>0,v=_?p:a.length;return a?(0,c.jsxs)("div",{className:"st-style-tab-select",children:[(0,c.jsxs)("div",{className:"st-style-tab-select",children:[a.slice(0,v),_&&(0,c.jsx)("div",{className:"st-style-tab-select__action-container",children:n})]}),_&&!r.state&&(0,c.jsx)("div",{className:"st-style-tab-select",children:a.slice(v)}),(0,c.jsx)("div",{className:"st-style-tab-select shadow",ref:m,children:a}),(0,c.jsxs)("div",{className:"st-style-tab-select shadow",ref:f,children:[n," ",a]})]}):null};const z=(0,a.PA)((({smartToolType:e})=>{const t=(0,i.B)().i18n,o=(0,s.A)(),a=o.getItemProps,r=o.getAdvancedItemProps,u=o.attributes,p=o.updateAttributes,g=o.store,m=[{value:"hot",label:t.t("web_magicTools_button_hottest",{},"Trending")},{value:"art",label:t.t("web_magicTools_button_art_style",{},"Art")},{value:"anime",label:t.t("web_magicTools_button_comics",{},"Anime")}];return(0,c.jsxs)("div",{className:"st-parameter-form",children:[e===n.K8.TextToImage?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"st-parameter-form__label first",children:t.t("web_tool_Aspect_ratio",{},"Aspect ratio")}),(0,c.jsx)(v,{selected:u.ratio,onChange:e=>p({ratio:e})})]}):null,(0,c.jsx)("div",{className:"st-parameter-form__label first",children:t.t("web_magicTools_button_output_number",{},"Number of outputs")}),(0,c.jsx)(d,{...a("output")}),(0,c.jsx)("div",{className:"st-parameter-form__label",children:t.t("web_magicTools_button_image_style",{},"Style")}),(0,c.jsx)(U,{value:u.styleCategory,onChange:t=>p({styleCategory:t,style:(0,n.LH)(e,t)[0].value}),options:[...m]}),(0,c.jsx)("div",{style:{height:"12px"}}),(0,c.jsx)("div",{className:"st-parameter-form__aigc-style-wrapper",children:m.map((({value:t})=>{const o=t===u.styleCategory,i=(0,n.LH)(e,t);return(0,c.jsx)("div",{className:l()("st-parameter-form__aigc-style-container",{visible:o}),children:(0,c.jsx)(b.A,{...o?a("style"):{value:i[0].value},options:i})},t)}))}),(0,c.jsx)("div",{style:{height:"4px"}}),(0,c.jsx)("div",{className:"st-parameter-form__divider"}),(0,c.jsx)(L,{}),(0,c.jsx)("div",{style:{height:"16px"}}),(0,c.jsx)(k,{label:t.t("web_magicTools_text_intensity",{},"Prompt Weight"),tooltip:t.t("web_magicTools_text_prompt_intensity",{},"Higher value means the generated image looks more like the word prompt. Smaller value means the generated image looks more like the reference image."),children:(0,c.jsx)(x,{...r("promptWeight"),disabled:e===n.K8.TextToImage&&!g.originalPlayInfo,config:{safeFactor:100,presets:[0,1],step:.01,inputMaxLen:4}})}),(0,c.jsx)("div",{style:{height:"12px"}}),(0,c.jsx)(k,{label:t.t("web_magicTools_title_prompt_weight",{},"Scale"),tooltip:t.t("web_magicTools_text_prompt_weight",{},"The higher the value, the more the generated images will look like the reference image and the word prompt. Recommended value is 7.5 to 10."),children:(0,c.jsx)(x,{...r("guidanceScale"),config:{safeFactor:10,presets:[0,20],step:.1,inputMaxLen:4}})})]})}))},93564:function(e,t,o){o.d(t,{d:function(){return c}});var i=o(36060),a=o(68605),r=o(31399),l=o(43082),n=o(36204),s=o(38e3);const c=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,l.A)().getItemProps;return(0,s.jsxs)("div",{className:"st-parameter-form",children:[(0,s.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_title_color_intensity_level",{},"Intensity")}),(0,s.jsx)(n.A,{...t("level"),size:"large",options:r.x_[r.K8.ImageAiToning]})]})}))},17097:function(e,t,o){o.d(t,{y:function(){return c}});var i=o(36060),a=o(68605),r=o(31399),l=o(43082),n=o(36204),s=o(38e3);const c=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,l.A)().getItemProps;return(0,s.jsxs)("div",{className:"st-parameter-form",children:[(0,s.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_title_color_intensity_level",{},"Intensity")}),(0,s.jsx)(n.A,{...t("level"),size:"large",options:r.x_[r.K8.ImageNightEnhance]})]})}))},30654:function(e,t,o){o.d(t,{y:function(){return c}});var i=o(36060),a=o(68605),r=o(31399),l=o(43082),n=o(36204),s=o(38e3);const c=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,l.A)().getItemProps;return(0,s.jsxs)("div",{className:"st-parameter-form",children:[(0,s.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_button_restore",{},"Restoration")}),(0,s.jsx)(n.A,{...t("level"),size:"large",options:r.x_[r.K8.ImageRestoration]})]})}))},62423:function(e,t,o){o.d(t,{w:function(){return d}});var i=o(36060),a=o(68605),r=o(31399),l=o(99443),n=o(43082),s=o(36204),c=o(38e3);const d=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,n.A)().getItemProps;return(0,c.jsxs)("div",{className:"st-parameter-form",children:[(0,c.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_button_image_style",{},"Style")}),(0,c.jsx)(s.A,{...t("style"),options:(0,r.gh)()[r.K8.ImageStyleAvatar]}),(0,c.jsx)("div",{className:"st-parameter-form__button-container",children:(0,c.jsx)(l.A,{text:e.t("web_magicTools_toast_go_to_transfer",{},"Conversion")})})]})}))},34156:function(e,t,o){o.d(t,{T:function(){return d}});var i=o(36060),a=o(68605),r=o(31399),l=o(99443),n=o(43082),s=o(36204),c=o(38e3);const d=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,n.A)().getItemProps;return(0,c.jsxs)("div",{className:"st-parameter-form",children:[(0,c.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_button_image_style",{},"Style")}),(0,c.jsx)(s.A,{...t("style"),options:(0,r.gh)()[r.K8.ImageStyleConversion]}),(0,c.jsx)("div",{className:"st-parameter-form__button-container",children:(0,c.jsx)(l.A,{text:e.t("web_magicTools_toast_go_to_transfer",{},"Conversion")})})]})}))},84695:function(e,t,o){o.d(t,{i:function(){return n}});var i=o(68605),a=o(31399),r=o(22319),l=o(38e3);const n=(0,i.PA)((()=>(0,l.jsx)(r.q,{smartToolType:a.K8.ImageToImage})))},82447:function(e,t,o){o.d(t,{Z:function(){return c}});var i=o(36060),a=o(68605),r=o(44999),l=o(99443),n=o(43082),s=o(38e3);const c=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,n.A)(),o=t.getItemProps,a=t.store.attributeOptions.resolution||[];return(0,s.jsxs)("div",{className:"st-parameter-form",children:[(0,s.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_text_select_resolution",{},"Resolution")}),(0,s.jsx)(r.A,{...o("resolution"),options:a}),(0,s.jsx)("div",{className:"st-parameter-form__button-container",children:(0,s.jsx)(l.A,{text:e.t("web_magicTools_text_upscale_clarity_resolution",{},"Upscale")})})]})}))},10059:function(e,t,o){o.d(t,{y:function(){return n}});var i=o(68605),a=o(31399),r=o(22319),l=o(38e3);const n=(0,i.PA)((()=>(0,l.jsx)(r.q,{smartToolType:a.K8.TextToImage})))},55723:function(e,t,o){o.d(t,{n:function(){return _}});var i=o(36060),a=o(68605),r=o(99443),l=o(43082),n=o(40328),s=o(38e3);var c,d=e=>(0,s.jsx)(n.A,{value:e.value,onChange:e.onChange,config:{safeFactor:100,presets:[.1,.25,.5,.75,1],step:.01,inputMaxLen:4},showPresets:!0,inputSuffix:"x"}),u=o(30395),p=o.n(u),g=o(67308);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},m.apply(this,arguments)}const f=e=>g.createElement("svg",m({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c||(c=g.createElement("path",{d:"M15.6524 6.90228C15.8476 7.09754 15.8476 7.41412 15.6524 7.60938L9.10354 14.1582C8.90828 14.3535 8.5917 14.3535 8.39643 14.1582L4.34762 10.1094C4.15236 9.91412 4.15236 9.59754 4.34762 9.40228L4.81902 8.93087C5.01429 8.73561 5.33087 8.73561 5.52613 8.93087L8.74999 12.1547L14.4738 6.43087C14.6691 6.23561 14.9857 6.23561 15.181 6.43087L15.6524 6.90228Z",fill:"currentColor"})));var h=e=>{const t=e.title,o=e.value,i=e.onChange;return(0,s.jsxs)("div",{className:p()("st-checkbox"),onClick:()=>null==i?void 0:i(!o),children:[(0,s.jsx)("div",{className:p()("st-checkbox__box",{checked:o}),children:o&&(0,s.jsx)(f,{})}),(0,s.jsx)("div",{className:"st-checkbox__text",children:t})]})};const _=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,l.A)().getItemProps;return(0,s.jsxs)("div",{className:"st-parameter-form",children:[(0,s.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_button_speed_multiplier",{},"Speed")}),(0,s.jsx)(d,{...t("level")}),(0,s.jsx)("div",{style:{height:"12px"}}),(0,s.jsx)(h,{...t("muted"),title:e.t("web_magicTools_button_mute_video",{},"Mute sound")}),(0,s.jsx)("div",{className:"st-parameter-form__button-container",children:(0,s.jsx)(r.A,{text:e.t("web_magicTools_button_generate",{},"Generate")})})]})}))},73026:function(e,t,o){o.d(t,{t:function(){return d}});var i=o(36060),a=o(68605),r=o(31399),l=o(99443),n=o(43082),s=o(36204),c=o(38e3);const d=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,n.A)().getItemProps;return(0,c.jsxs)("div",{className:"st-parameter-form",children:[(0,c.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_button_image_style",{},"Style")}),(0,c.jsx)(s.A,{...t("style"),options:(0,r.gh)()[r.K8.VideoStyleConversion]}),(0,c.jsx)("div",{className:"st-parameter-form__button-container",children:(0,c.jsx)(l.A,{text:e.t("web_magicTools_toast_go_to_transfer",{},"Conversion")})})]})}))},43082:function(e,t,o){var i=o(80305),a=o(81246),r=o(52882),l=o(67308);t.A=()=>{const e=(0,l.useContext)(r.xM),t=e.attributes,o=e.updateAttributes,n=(0,i.A)(((e,i)=>{var a;t.style&&o({advancedSettings:{...t.advancedSettings,[t.style]:{...null===(a=t.advancedSettings)||void 0===a?void 0:a[t.style],[e]:i}}})}));return{attributes:t,updateAttributes:o,getItemProps:e=>({value:null==t?void 0:t[e],onChange:t=>o({[e]:t})}),getAdvancedItemProps:e=>{var o;return{value:(0,a.c)(e,null===(o=t.advancedSettings)||void 0===o?void 0:o[t.style||""]),onChange:t=>n(e,t)}},store:e}}},5306:function(e,t,o){o.d(t,{L:function(){return c}});var i=o(36060),a=o(68605),r=o(44999),l=o(99443),n=o(43082),s=o(38e3);const c=(0,a.PA)((()=>{const e=(0,i.B)().i18n,t=(0,n.A)(),o=t.getItemProps,a=t.store.attributeOptions.resolution||[];return(0,s.jsxs)("div",{className:"st-parameter-form",children:[(0,s.jsx)("div",{className:"st-parameter-form__label first",children:e.t("web_magicTools_text_select_resolution",{},"Resolution")}),(0,s.jsx)(r.A,{...o("resolution"),options:a}),(0,s.jsx)("div",{className:"st-parameter-form__button-container",children:(0,s.jsx)(l.A,{text:e.t("web_magicTools_text_upscale_clarity_resolution",{},"Upscale")})})]})}))},86021:function(e,t,o){o.d(t,{A:function(){return M}});var i,a,r,l,n=o(68605),s=o(99415),c=o(30395),d=o.n(c),u=o(83105),p=o(36096),g=o(87176),m=o(9255),f=o(36060),h=o(67308),_=o(65804),v=o(18091),b=o(95272),y=o(51187),x=o(52882);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},w.apply(this,arguments)}const T=e=>h.createElement("svg",w({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=h.createElement("rect",{width:24,height:24,fill:"black",fillOpacity:.01})),a||(a=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 4H5V10H6C10.4183 10 14 13.5817 14 18L14 20H5C3.89543 20 3 19.1046 3 18V4C3 2.89543 3.89543 2 5 2H19C20.1046 2 21 2.89543 21 4V13H19V4ZM6 12H5V18H12C12 14.6863 9.31371 12 6 12Z",fill:"currentColor"})),r||(r=h.createElement("path",{d:"M17 7.5C17 8.32843 16.3284 9 15.5 9C14.6716 9 14 8.32843 14 7.5C14 6.67157 14.6716 6 15.5 6C16.3284 6 17 6.67157 17 7.5Z",fill:"currentColor"})),l||(l=h.createElement("path",{d:"M20.5 15C20.7761 15 21 15.2239 21 15.5V18H23.5C23.7761 18 24 18.2239 24 18.5V19.5C24 19.7761 23.7761 20 23.5 20H21V22.5C21 22.7761 20.7761 23 20.5 23H19.5C19.2239 23 19 22.7761 19 22.5V20H16.5C16.2239 20 16 19.7761 16 19.5V18.5C16 18.2239 16.2239 18 16.5 18H19V15.5C19 15.2239 19.2239 15 19.5 15H20.5Z",fill:"currentColor"})));var j,C;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},k.apply(this,arguments)}const A=e=>h.createElement("svg",k({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),j||(j=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.82234 10.1777C9.62708 10.373 9.3105 10.373 9.11523 10.1777L1.82234 2.88484C1.62708 2.68958 1.62708 2.373 1.82234 2.17773L2.17589 1.82418C2.37116 1.62892 2.68774 1.62892 2.883 1.82418L10.1759 9.11707C10.3712 9.31234 10.3712 9.62892 10.1759 9.82418L9.82234 10.1777Z",fill:"currentColor"})),C||(C=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.17578 10.1777C2.37104 10.373 2.68762 10.373 2.88289 10.1777L10.1758 2.88484C10.371 2.68958 10.371 2.373 10.1758 2.17773L9.82223 1.82418C9.62697 1.62892 9.31038 1.62892 9.11512 1.82418L1.82223 9.11707C1.62697 9.31234 1.62697 9.62892 1.82223 9.82418L2.17578 10.1777Z",fill:"currentColor"})));var N;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},S.apply(this,arguments)}const I=e=>h.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N||(N=h.createElement("path",{d:"M9.53755 3.24947L8.86613 2.91526L8.86613 2.91526L9.53755 3.24947ZM10.3433 3.24947L11.0147 2.91526V2.91526L10.3433 3.24947ZM7.44785 7.44761L7.78206 8.11903L8.0072 8.00696L8.11927 7.78182L7.44785 7.44761ZM3.24972 9.53731L2.91551 8.86589L2.91551 8.86589L3.24972 9.53731ZM3.24972 10.343L3.58393 9.67159H3.58393L3.24972 10.343ZM7.44785 12.4327L8.11927 12.0985L8.0072 11.8734L7.78206 11.7613L7.44785 12.4327ZM9.53755 16.6308L10.209 16.2966V16.2966L9.53755 16.6308ZM10.3433 16.6308L9.67184 16.2966V16.2966L10.3433 16.6308ZM12.433 12.4327L12.0987 11.7613L11.8736 11.8734L11.7615 12.0985L12.433 12.4327ZM16.6311 10.343L16.9653 11.0144L16.6311 10.343ZM16.6311 9.53731L16.2969 10.2087H16.2969L16.6311 9.53731ZM12.433 7.44761L11.7615 7.78182L11.8736 8.00696L12.0987 8.11903L12.433 7.44761ZM17.5378 14.7482L16.8664 14.414V14.414L17.5378 14.7482ZM18.3435 14.7482L17.6721 15.0824L17.6721 15.0824L18.3435 14.7482ZM16.6113 16.6096L16.9455 17.281L17.1706 17.1689L17.2827 16.9438L16.6113 16.6096ZM14.7499 17.5361L15.0841 18.2075L15.0841 18.2075L14.7499 17.5361ZM14.7499 18.3418L15.0841 17.6703L15.0841 17.6703L14.7499 18.3418ZM16.6113 19.2683L17.2827 18.9341L17.1706 18.7089L16.9455 18.5969L16.6113 19.2683ZM17.5378 21.1296L18.2092 20.7954L18.2092 20.7954L17.5378 21.1296ZM18.3435 21.1296L19.0149 21.4638L18.3435 21.1296ZM19.27 19.2683L18.9358 18.5969L18.7106 18.7089L18.5986 18.9341L19.27 19.2683ZM21.1313 18.3418L21.4655 19.0132L21.1313 18.3418ZM21.1313 17.5361L21.4655 16.8646L21.4655 16.8646L21.1313 17.5361ZM19.27 16.6096L18.5986 16.9438L18.7106 17.1689L18.9358 17.281L19.27 16.6096ZM10.209 3.58369C10.0986 3.80544 9.78222 3.80544 9.67184 3.58368L11.0147 2.91526C10.5731 2.02824 9.30766 2.02825 8.86613 2.91526L10.209 3.58369ZM8.11927 7.78182L10.209 3.58368L8.86613 2.91526L6.77643 7.1134L8.11927 7.78182ZM3.58393 10.2087L7.78206 8.11903L7.11364 6.77619L2.91551 8.86589L3.58393 10.2087ZM3.58393 9.67159C3.80568 9.78197 3.80568 10.0983 3.58393 10.2087L2.91551 8.86589C2.02849 9.30742 2.02849 10.5729 2.91551 11.0144L3.58393 9.67159ZM7.78206 11.7613L3.58393 9.67159L2.91551 11.0144L7.11364 13.1041L7.78206 11.7613ZM10.209 16.2966L8.11927 12.0985L6.77643 12.7669L8.86613 16.9651L10.209 16.2966ZM9.67184 16.2966C9.78222 16.0749 10.0986 16.0749 10.209 16.2966L8.86613 16.9651C9.30766 17.8521 10.5731 17.8521 11.0147 16.9651L9.67184 16.2966ZM11.7615 12.0985L9.67184 16.2966L11.0147 16.9651L13.1044 12.7669L11.7615 12.0985ZM16.2969 9.67159L12.0987 11.7613L12.7672 13.1041L16.9653 11.0144L16.2969 9.67159ZM16.2969 10.2087C16.0751 10.0983 16.0751 9.78197 16.2969 9.67159L16.9653 11.0144C17.8523 10.5729 17.8523 9.30742 16.9653 8.86589L16.2969 10.2087ZM12.0987 8.11903L16.2969 10.2087L16.9653 8.86589L12.7672 6.77619L12.0987 8.11903ZM9.67184 3.58368L11.7615 7.78182L13.1044 7.1134L11.0147 2.91526L9.67184 3.58368ZM18.2092 15.0824C18.0988 15.3042 17.7824 15.3042 17.6721 15.0824L19.0149 14.414C18.5734 13.527 17.3079 13.527 16.8664 14.414L18.2092 15.0824ZM17.2827 16.9438L18.2092 15.0824L16.8664 14.414L15.9398 16.2753L17.2827 16.9438ZM15.0841 18.2075L16.9455 17.281L16.277 15.9381L14.4157 16.8646L15.0841 18.2075ZM15.0841 17.6703C15.3059 17.7807 15.3059 18.0971 15.0841 18.2075L14.4157 16.8646C13.5287 17.3062 13.5287 18.5717 14.4157 19.0132L15.0841 17.6703ZM16.9455 18.5969L15.0841 17.6703L14.4157 19.0132L16.277 19.9397L16.9455 18.5969ZM18.2092 20.7954L17.2827 18.9341L15.9398 19.6025L16.8664 21.4638L18.2092 20.7954ZM17.6721 20.7954C17.7824 20.5736 18.0988 20.5736 18.2092 20.7954L16.8664 21.4638C17.3079 22.3508 18.5734 22.3508 19.0149 21.4638L17.6721 20.7954ZM18.5986 18.9341L17.6721 20.7954L19.0149 21.4638L19.9414 19.6025L18.5986 18.9341ZM20.7971 17.6703L18.9358 18.5969L19.6042 19.9397L21.4655 19.0132L20.7971 17.6703ZM20.7971 18.2075C20.5753 18.0971 20.5753 17.7807 20.7971 17.6703L21.4655 19.0132C22.3525 18.5717 22.3525 17.3062 21.4655 16.8646L20.7971 18.2075ZM18.9358 17.281L20.7971 18.2075L21.4655 16.8646L19.6042 15.9381L18.9358 17.281ZM17.6721 15.0824L18.5986 16.9438L19.9414 16.2753L19.0149 14.414L17.6721 15.0824Z",fill:"currentColor"})));var L=o(38e3);function E(e,t,o){e.style.height=`${t}px`,e.style.height=`${e.scrollHeight>o?o:e.scrollHeight}px`}var O=(0,n.PA)((({srcInfo:e,imgLoading:t,imgDisabled:o,onDeleteImg:i,inputValue:a,onInputChange:r,tags:l,onDeleteTag:n,onGenerate:c,generateDisabled:w,generateLoading:j,onRefresh:C,refreshLoading:k})=>{const N=(0,f.B)().i18n,S=e||{},O=S.url,F=S.source,M=Boolean(O),P=(0,h.useState)(!1),R=(0,s.A)(P,2),V=R[0],U=R[1],z=(0,h.useState)(0),H=(0,s.A)(z,2),D=H[0],B=H[1],W=(0,h.useState)(0),Z=(0,s.A)(W,2),K=Z[0],G=Z[1],q=(0,h.useContext)(x.xM),$=(0,v.A)(),Y=(0,s.A)($,2),Q=Y[0],J=Y[1],X=()=>{var e;return J.height||(null===(e=Q.current)||void 0===e?void 0:e.getBoundingClientRect().height)||54},ee=Boolean(O),te=ee,oe=(0,h.useRef)(null),ie=(0,h.useRef)(null),ae=M&&(t||!D)||o,re=V&&!ae;(0,h.useEffect)((()=>{V||"preset"!==F||U(!0)}),[O,F]),(0,h.useEffect)((()=>{q._localFileToUpload&&U(!0)}),[q._localFileToUpload]),(0,h.useLayoutEffect)((()=>{B(0),G(X())}),[O]);const le=()=>{var e,t;const o=null===(e=oe.current)||void 0===e?void 0:e.naturalWidth,i=null===(t=oe.current)||void 0===t?void 0:t.naturalHeight;o&&i&&(B(o>=i?200*o/i:168),G(o*X()/i))},ne=(0,h.useMemo)((()=>(0,_.A)()),[]),se=(0,v.A)(document.body),ce=(0,s.A)(se,2)[1],de=(0,h.useMemo)((()=>{const e=Math.floor(.4*ce.height/20);return 20*Math.min(8,e)+5}),[ce.height]);(0,h.useEffect)((()=>{ie.current&&E(ie.current,20,de)}),[a,de]);const ue=(0,b.A)(),pe=(0,s.A)(ue,2),ge=pe[0],me=pe[1],fe=!w||"string"!=typeof w;return(0,L.jsxs)("div",{className:"st-prompt-input",children:[(0,L.jsx)("div",{className:"st-prompt-input__image-container",children:(0,L.jsx)(u.A,{triggerProps:{className:"st-prompt-input__popup",popupAlign:{top:8},style:{...te?{width:`${D+32}px`}:{}}},disabled:ae,position:"top",unmountOnExit:!1,trigger:"click",popupVisible:re,onVisibleChange:e=>{U(!ae&&e)},droplist:te?(0,L.jsxs)("div",{className:"st-prompt-input__popup-container",children:[(0,L.jsxs)("div",{className:"st-prompt-input__popup__header",children:[(0,L.jsx)("div",{className:"st-prompt-input__popup__title",children:N.t("web_magicTools_text_benchmark_image",{},"Reference image")}),(0,L.jsx)("div",{className:"st-prompt-input__popup__description",children:N.t("web_magicTools_text_influence_generation",{},"Reference image will be used to influence future generation.")})]}),(0,L.jsx)("div",{className:"st-prompt-input__popup__image",children:(0,L.jsx)("img",{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(O,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),draggable:"false"})})]}):(0,L.jsxs)("div",{className:"st-prompt-input__popup-container",children:[(0,L.jsxs)("div",{className:"st-prompt-input__popup__header",children:[(0,L.jsx)("div",{className:"st-prompt-input__popup__title",children:N.t("web_magicTools_text_upload_reference_image",{},"Upload Reference image")}),(0,L.jsx)("div",{className:"st-prompt-input__popup__description",children:N.t("web_magicTools_text_influence_generation",{},"Reference image will be used to influence future generation. ")}),(0,L.jsx)("div",{className:"st-prompt-input__popup__divider"})]}),(0,L.jsx)(m._,{menuOnly:!0,multiple:!1,onClickAction:()=>U(!1)})]}),children:(0,L.jsx)("div",{className:d()("st-prompt-input__image",{active:ee||re,clickable:!ae}),ref:Q,children:ee?(0,L.jsxs)("div",{className:"st-prompt-input__image__content",children:[(0,L.jsx)("img",{src:new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(O,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),draggable:"false",onLoad:le,ref:oe,style:{width:`${K}px`}}),t?(0,L.jsx)("div",{className:"st-prompt-input__image__mini-loading",children:(0,L.jsx)(y.A,{size:14})}):(0,L.jsx)("div",{className:"st-prompt-input__image__close",onClick:e=>{e.stopPropagation(),null==i||i()},children:(0,L.jsx)(A,{})})]}):t?(0,L.jsx)("div",{className:"st-prompt-input__image__loading",children:(0,L.jsx)(y.A,{size:24})}):(0,L.jsx)("div",{className:d()("st-prompt-input__image__empty",{disabled:o}),children:(0,L.jsx)(T,{})})})})}),(0,L.jsx)("div",{className:"st-prompt-input__divider"}),(0,L.jsxs)("div",{className:"st-prompt-input__main",children:[(0,L.jsx)("div",{className:"st-prompt-input__input-container",children:(0,L.jsx)("textarea",{ref:ie,value:a,onChange:({target:{value:e}})=>{ne.test(e)||/[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F000}-\u{1F0FF}\u{1F10D}-\u{1F10F}\u{1F12F}\u{1F16C}-\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1AD}-\u{1F1E5}\u{1F201}-\u{1F20F}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F23C}-\u{1F23F}\u{1F249}-\u{1F3FA}\u{1F400}-\u{1F53D}\u{1F546}-\u{1F64F}\u{1F680}-\u{1F6FF}\u{1F774}-\u{1F77F}\u{1F7D5}-\u{1F7FF}\u{1F80C}-\u{1F80F}\u{1F848}-\u{1F84F}\u{1F85A}-\u{1F85F}\u{1F888}-\u{1F88F}\u{1F8AE}-\u{1F8FF}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1FAFF}\u{1FC00}-\u{1FFFD}]/u.test(e)||(E(ie.current,20,de),null==r||r(e))},placeholder:N.t("web_magicTools_title_enter_word_prompts",{},"Enter word prompts")})}),(0,L.jsx)("div",{className:"st-prompt-input__tags-container",children:null==l?void 0:l.map(((e,t)=>(0,L.jsxs)("div",{className:"st-prompt-input__tag",children:[e,false]},`${t}-${e}`)))})]}),(0,L.jsxs)("div",{className:"st-prompt-input__right-container",children:[(0,L.jsx)(p.A,{content:N.t("web_magicTools_button_fill_inspiration",{},"Inspiration"),triggerProps:{popupAlign:{top:8}},children:(0,L.jsx)("div",{className:"st-prompt-input__refresh-container",onClick:()=>!k&&(null==C?void 0:C()),children:(0,L.jsx)("div",{className:d()("st-prompt-input__refresh",{loading:k}),children:(0,L.jsx)(I,{})})})}),(0,L.jsx)(p.A,{content:w,disabled:fe,popupVisible:!fe&&me,children:(0,L.jsx)("div",{className:"st-prompt-input__button",ref:ge,children:(0,L.jsx)(g.A,{type:"primary",size:"default",onClick:c,disabled:Boolean(w),loading:j,className:"st-global__action-button--primary",children:j?"":N.t("web_magicTools_button_generate",{},"Generate")})})})]})]})})),F=o(31399);var M=(0,n.PA)((()=>{const e=(0,f.B)().i18n,t=(0,h.useContext)(x.xM),o=t.aiProcessDisabled,i=t.aiProcessLoading,a=t.handleStartAiProcess,r=t.prompt,l=t.attributes,n=t.originalPlayInfo,s=t.isUploadingOrTranscoding,c=t.clearMainMaterial,d=t.smartToolType,u=t.mainMaterial,p=t.paramIsValid,g=t.existMainMaterial,m=(0,F.gh)()[t.smartToolType],_=(null!=l&&l.style?[null==l?void 0:l.style]:[]).map((e=>{var t;return(null===(t=m.find((t=>t.value===e)))||void 0===t?void 0:t.label)||e})),v=d===F.K8.ImageToImage,b=null==n?void 0:n.url,y=null==u?void 0:u.source,w=s,T=i;let j=o||!p;const C=!r,k=v&&!g;C&&k?j=e.t("web_magicTools_text_benchmark_prompt",{},"Enter word prompt and reference image to generate"):C?j=e.t("web_magicTools_text_enter_prompt",{},"Enter word prompt to generate"):k&&(j=e.t("web_magicTools_text_benchmark_generate",{},"Upload reference image to generate"));return(0,L.jsx)(O,{srcInfo:{url:b,source:y},imgLoading:w,imgDisabled:T,onDeleteImg:()=>{c()},inputValue:r,onInputChange:e=>{t.prompt=e},tags:_,onGenerate:a,generateLoading:i,generateDisabled:j,onRefresh:()=>{const e=F.a$[d];e.length&&(t.prompt=e[Math.floor(Math.random()*e.length)])}})}))},26425:function(e,t,o){const i=(0,o(67308).createContext)({currentIndex:0,aiWorksInView:[],setCurrentIndex:()=>{},previewVisible:!1,setPreviewVisible:()=>{},group:!1,aiProcessLoading:!1});t.A=i},81165:function(e,t,o){o.d(t,{A:function(){return m}});var i=o(58116),a=o(80305),r=o(44941),l=o(31399),n=o(52882),s=o(67308),c=o(36060),d=o(47890);const u=()=>{const e=(0,c.B)().i18n,t=(0,s.useContext)(n.xM),o=t.mainMaterialSize,i=t.aiProcessDisabled,a=o.width,r=o.height,l=[{value:"720p"},{value:"1080p"},{value:"2k"},{value:"4k"}];return(0,s.useMemo)((()=>a&&r?l.map((({value:t})=>{const o=(0,d.v)([a,r],t);return{value:t,label:t,description:` (${o[0]} x ${o[1]})`,disabled:o[0]<=a&&o[1]<=r&&e.t("web_magicTools_text_low_material_resolution",{},"Select a resolution higher than the original")}})):l.map((e=>({...e,disabled:!0})))),[a,r,i])},p=()=>{const e=(0,c.B)().i18n,t=(0,s.useContext)(n.xM),o=t.mainMaterialSize,i=t.aiProcessDisabled,a=o.width,r=o.height,l=[{value:"2x"}];return(0,s.useMemo)((()=>a&&r?l.map((({value:t})=>{const o=(0,d.w)([a,r],t);return{value:t,label:t,description:` (${o[0]} x ${o[1]})`,disabled:o[0]<=a&&o[1]<=r&&e.t("web_magicTools_text_low_material_resolution",{},"Select a resolution higher than the original")}})):l.map((e=>({...e,disabled:!0})))),[a,r,i])};var g=()=>{const e=(0,s.useContext)(n.xM).smartToolType,t=u(),o=p();let i=[];return e===l.K8.ImageUpscaler?i=t:e===l.K8.VideoUpscaler&&(i=o),i};var m=()=>{const e=(0,s.useContext)(n.xM),t=e.attributes,o=e.updateAttributes,c=e.updateAttributeOptions,d=e.smartToolType,u=e.pageLifeCycle===n.$u.DefaultEmpty,p=(0,a.A)((e=>{o(u?{...(0,i.A)(e,(()=>{}))}:{...e,...t})}));(0,s.useEffect)((()=>{switch(d){case l.K8.TextToImage:case l.K8.ImageToImage:o({output:2,styleCategory:"hot",style:(0,l.LH)(d,"hot")[0].value});break;case l.K8.VideoSlowMotion:o({level:.5,muted:!0})}}),[]);const m=g(),f=(0,s.useMemo)((()=>{var e;return null===(e=m.find((e=>!e.disabled)))||void 0===e?void 0:e.value}),[m]);(0,r.A)((()=>{c({resolution:m})}),[m]),window.__use_attributes={resolutionOptions:m,firstResolutionOptionValue:f},(0,s.useEffect)((()=>{switch(d){case l.K8.ImageRestoration:p({level:1});break;case l.K8.ImageNightEnhance:case l.K8.ImageAiToning:p({level:3});break;case l.K8.ImageUpscaler:case l.K8.VideoUpscaler:p({resolution:f});break;case l.K8.ImageStyleAvatar:case l.K8.ImageStyleConversion:p({style:(0,l.gh)()[d][0].value})}}),[d,u,f])}},3077:function(e,t,o){var i=o(99415),a=o(67308);const r={top:0,left:0,bottom:0,right:0,margin:"auto"};t.A=(e,t,o,l,n)=>{const s=(0,a.useState)({}),c=(0,i.A)(s,2),d=c[0],u=c[1];return(0,a.useEffect)((()=>{if(l&&n&&!o)u(e/t>.6?{height:t,width:.6*t,...r}:{height:e/.6,width:e,...r});else if(o){const i=new Image;i.src=new Function('return typeof globalThis !== "undefined" ? globalThis : (typeof self !== "undefined" ? self : this)')().xssNamespace.cc_web_editor_smart_toolbox.filterUrl(o,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),i.onload=()=>{0!==e&&0!==t&&(e/t>i.width/i.height?u({height:t,width:i.width*t/i.height,...r}):u({height:i.height*e/i.width,width:e,...r}))}}}),[e,t,o,l,n]),d}},3184:function(e,t,o){o.d(t,{M:function(){return f}});var i=o(99415),a=o(76398),r=o(15391),l=o(87543),n=o(44941),s=o(80305),c=o(76859),d=o(34984),u=o(46012),p=o(90157),g=o(67308);o(52032);const m=e=>({...e,get progress(){return 0!==this.duration?this.currentTime/this.duration:0},get buffering(){return this.seeking||this.waiting},get bufferProgress(){var e,t;return 0!==this.duration?(null!==(e=null===(t=this.bufferedRange)||void 0===t?void 0:t[1])&&void 0!==e?e:0)/this.duration:0}}),f=e=>{const t=(e||{}).config,o=(0,g.useState)(),f=(0,i.A)(o,2),h=f[0],_=f[1],v=(0,r.A)({dataLoaded:!1,seeking:!1,waiting:!0,paused:!0,currentTime:0,duration:0,everCanPlay:!1,error:null,ended:!1,bufferedRange:[0,0],isFullscreen:!1,volume:0,muted:!1,playUrl:""}),b=(0,i.A)(v,2),y=b[0],x=b[1],w=(0,g.useState)(),T=(0,i.A)(w,2),j=T[0],C=T[1],k=(0,l.A)(0),A=k.state>=3,N=(0,g.useMemo)((()=>({...j,_retry:k.state})),[j,k.state]);(0,n.A)((()=>{C(t),k.reset()}),[t]);const S=(0,s.A)((()=>{null!=t&&t.url&&(u.Zq.error("xgplayer","error",void 0,y.error,{retryCnt:k.state}),A||(console.error(`xgplayer video error! retry now. (${k.state}) src: ${null==t?void 0:t.url}`),k.inc()))}));(0,c.A)((async()=>{if(x({dataLoaded:!1,seeking:!1,waiting:!0,paused:!0,currentTime:0,duration:0,everCanPlay:!1,error:null,ended:!1,bufferedRange:[0,0],isFullscreen:!1,volume:0,muted:!1,playUrl:""}),null==j||!j.url)return void _(void 0);x({playUrl:j.url});const e=await(0,d.d)(j),t=e.player,o=e.Events;return _(t),t.on(o.COMPLETE,(()=>x({...(0,a.A)(t,"volume","muted")}))),t.on(o.LOAD_START,(()=>{x({dataLoaded:!1}),p.Ay.performanceMarkStart("XG_PLAYER_LOAD")})),t.on(o.LOADED_DATA,(()=>{x({dataLoaded:!0}),p.Ay.performanceMarkEnd("XG_PLAYER_LOAD",{detail:{event_type:"key_path_perf",status:"success"}})})),t.on(o.ERROR,(e=>{x({error:e}),S()})),t.on(o.DURATION_CHANGE,(()=>x({duration:t.duration}))),t.on(o.WAITING,(()=>x({waiting:!0}))),t.on(o.CANPLAY,(()=>{x({waiting:!1,everCanPlay:!0})})),t.on(o.PAUSE,(()=>x({paused:!0}))),t.on(o.PLAY,(()=>x({paused:!1}))),t.on(o.SEEKING,(()=>x({seeking:!0}))),t.on(o.SEEKED,(()=>x({seeking:!1}))),t.on(o.TIME_UPDATE,(()=>x({currentTime:t.currentTime,bufferedRange:t.getBufferedRange()}))),t.on(o.PROGRESS,(()=>x({bufferedRange:t.getBufferedRange()}))),t.on(o.ENDED,(()=>x({ended:!0}))),t.on(o.FULLSCREEN_CHANGE,(e=>x({isFullscreen:e}))),t.on(o.VOLUME_CHANGE,(()=>x({...(0,a.A)(t,"volume","muted")}))),t.on(o.DEFINITION_CHANGE,(({to:e})=>x({playUrl:e.url}))),Object.values(o).forEach((e=>{const i=[o.TIME_UPDATE,o.PROGRESS,o.PLAYER_BLUR,o.PLAYER_FOCUS];t.on(e,(o=>{i.includes(e),t.currentTime<t.duration&&x({ended:!1})}))})),()=>{t.destroy()}}),[N]),(0,g.useEffect)((()=>{y.ended&&(null==h||h.seek(0))}),[y.ended]),(0,g.useEffect)((()=>{var e,t;null!=h&&h.video&&(null===(e=(t=h.video).setAttribute)||void 0===e||e.call(t,"preload","auto"))}),[y.dataLoaded]);const I=(0,g.useMemo)((()=>m({...y,error:A?y.error:null})),[y]);return{playerIns:h,playerState:I}}},87536:function(e,t,o){o(600);var i=o(10201),a=o(32836),r=o(85970);t.A=async e=>{r.QO.prefetchWasmCode(),await(0,a.g)({lng:"en"}).catch(),(0,i.Nw)(e,"root")}}}]);
//# sourceMappingURL=main-42f9d7e6.406af7c3.js.map